<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.limits.pullbacks</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

Direct implementation of pullbacks together with:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Proof that pullbacks form a property in a (saturated/univalent) category (<span class="inlinecode"><span class="id" title="var">isaprop_Pullbacks</span></span>)

</li>
<li> The pullback of a monic is monic (<span class="inlinecode"><span class="id" title="var">MonicPullbackisMonic</span></span>)

</li>
<li> A square isomorphic to a pullback is a pullback (case 1) (<span class="inlinecode"><span class="id" title="var">isPullback_iso_of_morphisms</span></span>)

</li>
<li> Symmetry (<span class="inlinecode"><span class="id" title="var">is_symmetric_isPullback</span></span>)

</li>
<li> Construction of pullbacks from equalizers and binary products
  (<span class="inlinecode"><span class="id" title="var">Pullbacks_from_Equalizers_BinProducts</span></span>)

</li>
<li> A fully faithful functor reflects limits (<span class="inlinecode"><span class="id" title="var">isPullback_preimage_square</span></span>)

</li>
<li> A fully faithfull and essentially surjects functor preserves pullbacks (<span class="inlinecode"><span class="id" title="var">isPullback_image_square</span></span>)

</li>
<li> Pullbacks in functor categories (<span class="inlinecode"><span class="id" title="var">FunctorcategoryPullbacks</span></span>)

</li>
<li> Construction of binary products from pullbacks (<span class="inlinecode"><span class="id" title="var">BinProductsFromPullbacks</span></span>)

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Propositions</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.Tactics</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Isos</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.NaturalTransformations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.TransportMorphisms</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Univalence</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.terminal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.binproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.equalizers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.FunctorCategory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Monics</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
</div>

<div class="doc">
Definition of pullbacks 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">def_pb</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hsC</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isPullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span>· <span class="id" title="var">g</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span> ),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃! <span class="id" title="var">hk</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">d</span>, (<span class="id" title="var">hk</span> · <span class="id" title="var">p1</span> = <span class="id" title="var">h</span>) × (<span class="id" title="var">hk</span> · <span class="id" title="var">p2</span> = <span class="id" title="var">k</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_isPullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscontr</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackArrowUnique</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span>· <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>) <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hcomm</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="var">w</span> · <span class="id" title="var">p1</span> = <span class="id" title="var">h</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">w</span> · <span class="id" title="var">p2</span> = <span class="id" title="var">k</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w</span> = (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">P</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hcomm</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span> := <span class="id" title="var">tpair</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">hk</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">d</span> =&gt; <span class="id" title="var">dirprod</span> (<span class="id" title="var">hk</span> · <span class="id" title="var">p1</span> = <span class="id" title="var">h</span>)(<span class="id" title="var">hk</span> · <span class="id" title="var">p2</span> = <span class="id" title="var">k</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">w</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T'</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">P</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hcomm</span>) <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">T'</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">pfg</span> : (∑ <span class="id" title="var">p</span> : <span class="id" title="var">C</span>, (<span class="id" title="var">p</span> --&gt; <span class="id" title="var">b</span>) × (<span class="id" title="var">p</span> --&gt; <span class="id" title="var">c</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">H</span> : <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">pfg</span>) · <span class="id" title="var">f</span> = <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">pfg</span>) · <span class="id" title="var">g</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">pfg</span>)) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">pfg</span>)) <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullbacks</span> : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>), <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">hasPullbacks</span> : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>), <span class="id" title="var">ishinh</span> (<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">PullbackObject</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}:<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">C</span> := <span class="id" title="var">λ</span> <span class="id" title="var">H</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">PullbackObject</span> : <span class="id" title="var">Pullback</span> &gt;-&gt; <span class="id" title="var">ob</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">PullbackPr1</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">b</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">Pb</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">PullbackPr2</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">c</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">Pb</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">PullbackSqrCommutes</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span> · <span class="id" title="var">f</span> = <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span> · <span class="id" title="var">g</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Pb</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isPullback_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>}{<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">P</span>) (<span class="id" title="var">PullbackSqrCommutes</span> <span class="id" title="var">P</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">P</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">PullbackArrow</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>) : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">Pb</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackArrowUnique'</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">a</span>⟧) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>,<span class="id" title="var">a</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">e</span>,<span class="id" title="var">b</span>⟧) (<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">e</span>,<span class="id" title="var">c</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hcomm</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>) (<span class="id" title="var">w</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">e</span>,<span class="id" title="var">P</span>⟧) (<span class="id" title="var">H1</span> : <span class="id" title="var">w</span> · <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">P</span> = <span class="id" title="var">h</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">w</span> · <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">P</span> = <span class="id" title="var">k</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">w</span> = <span class="id" title="var">PullbackArrow</span> <span class="id" title="var">P</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hcomm</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackArrow_PullbackPr1</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> · <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">h</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackArrow_PullbackPr2</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> · <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">k</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧)(<span class="id" title="var">g</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">p1</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">b</span>⟧) (<span class="id" title="var">p2</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ispb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">p2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ispb</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isPullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">b</span>⟧) (<span class="id" title="var">p2</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span>· <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;(∏ <span class="id" title="var">e</span> (<span class="id" title="var">h</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">e</span>, <span class="id" title="var">b</span>⟧) (<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">e</span>,<span class="id" title="var">c</span>⟧)(<span class="id" title="var">Hk</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span> ),<br/>
&nbsp;&nbsp;&nbsp;∃! <span class="id" title="var">hk</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">e</span>,<span class="id" title="var">d</span>⟧, (<span class="id" title="var">hk</span> · <span class="id" title="var">p1</span> = <span class="id" title="var">h</span>) × (<span class="id" title="var">hk</span> · <span class="id" title="var">p2</span> = <span class="id" title="var">k</span>)) →<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span> <span class="id" title="var">x</span> <span class="id" title="var">cx</span> <span class="id" title="var">k</span> <span class="id" title="var">sqr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">postCompWithPullbackArrow_subproof</span><br/>
&nbsp;{<span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">k0</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>,<span class="id" title="var">d</span>⟧) {<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">x</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">x</span>⟧}<br/>
&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">d</span>, <span class="id" title="var">a</span> ⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">d</span>, <span class="id" title="var">b</span> ⟧} (<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>)  :<br/>
&nbsp;&nbsp;<span class="id" title="var">k0</span> · <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k0</span> · <span class="id" title="var">k</span> · <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>, <span class="id" title="var">H</span>, <span class="id" title="var">assoc</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">postCompWithPullbackArrow</span><br/>
&nbsp;(<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">k0</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>,<span class="id" title="var">d</span>⟧) {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">x</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">x</span>⟧}<br/>
&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>)<br/>
&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">d</span>, <span class="id" title="var">a</span> ⟧) (<span class="id" title="var">k</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">d</span>, <span class="id" title="var">b</span> ⟧) (<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">k0</span> · <span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">d</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> =<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">_</span> (<span class="id" title="var">k0</span> · <span class="id" title="var">h</span>) (<span class="id" title="var">k0</span> · <span class="id" title="var">k</span>) (<span class="id" title="var">postCompWithPullbackArrow_subproof</span> <span class="id" title="var">k0</span> <span class="id" title="var">H</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>, <span class="id" title="var">PullbackArrow_PullbackPr1</span>.<br/>
- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>, <span class="id" title="var">PullbackArrow_PullbackPr2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MorphismsIntoPullbackEqual</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>} {<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>} {<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span>· <span class="id" title="var">g</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>) {<span class="id" title="var">e</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> <span class="id" title="var">w'</span>: <span class="id" title="var">e</span> --&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="var">w</span> · <span class="id" title="var">p1</span> = <span class="id" title="var">w'</span> · <span class="id" title="var">p1</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">w</span> · <span class="id" title="var">p2</span> = <span class="id" title="var">w'</span> · <span class="id" title="var">p2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">w</span> = <span class="id" title="var">w'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hw</span> : <span class="id" title="var">w</span> · <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">w</span> · <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> , <span class="id" title="var">H</span>, <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hw'</span> : <span class="id" title="var">w'</span> · <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">w'</span> · <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> , <span class="id" title="var">H</span>, <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb</span> := <span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Xw</span> := <span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> (<span class="id" title="var">w</span>·<span class="id" title="var">p1</span>) (<span class="id" title="var">w</span>·<span class="id" title="var">p2</span>) <span class="id" title="var">Hw</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> <span class="id" title="var">Xw</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">identity_is_Pullback_input</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>} (<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;∑ <span class="id" title="var">hk</span> : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">Pb</span>,<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hk</span> · <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span>) × (<span class="id" title="var">hk</span> · <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">identity</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">dirprodpair</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackEndo_is_identity</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">Pb</span>) (<span class="id" title="var">kH1</span> : <span class="id" title="var">k</span> · <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">Pb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">kH2</span> : <span class="id" title="var">k</span> · <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">Pb</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">identity</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">k</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H1</span> := <span class="id" title="var">tpair</span> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">hk</span> : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">Pb</span> =&gt; <span class="id" title="var">dirprod</span> (<span class="id" title="var">hk</span> · <span class="id" title="var">_</span> = <span class="id" title="var">_</span>)(<span class="id" title="var">hk</span> · <span class="id" title="var">_</span> = <span class="id" title="var">_</span>))) <span class="id" title="var">k</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">kH1</span> <span class="id" title="var">kH2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H2</span> : <span class="id" title="var">identity_is_Pullback_input</span> <span class="id" title="var">Pb</span> = <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">proofirrelevance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropifcontr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackSqrCommutes</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">from_Pullback_to_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>: <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">Pb</span> --&gt; <span class="id" title="var">Pb'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb'</span> <span class="id" title="var">Pb</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackSqrCommutes</span> <span class="id" title="var">_</span> ).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">are_inverses_from_Pullback_to_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>: <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
<span class="id" title="var">is_inverse_in_precat</span> (<span class="id" title="var">from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">from_Pullback_to_Pullback</span> <span class="id" title="var">Pb'</span> <span class="id" title="var">Pb</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackEndo_is_identity</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">from_Pullback_to_Pullback</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PullbackArrow_PullbackPr1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PullbackArrow_PullbackPr2</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isiso_from_Pullback_to_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>: <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_iso</span> (<span class="id" title="var">from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is_iso_qinv</span> <span class="id" title="var">_</span> (<span class="id" title="var">from_Pullback_to_Pullback</span> <span class="id" title="var">Pb'</span> <span class="id" title="var">Pb</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">are_inverses_from_Pullback_to_Pullback</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_from_Pullback_to_Pullback</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>}{<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>}<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>: <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">iso</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">isiso_from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pullbackiso</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">D</span>:<span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">D</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">pb'</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: ∑ (<span class="id" title="var">t</span> : <span class="id" title="var">z_iso</span> (<span class="id" title="var">PullbackObject</span> <span class="id" title="var">pb</span>) (<span class="id" title="var">PullbackObject</span> <span class="id" title="var">pb'</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> · <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb'</span> = <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb</span> ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> · <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb'</span> = <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_to_z_iso</span>. <span class="id" title="var">use</span> <span class="id" title="var">iso_from_Pullback_to_Pullback</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">PullbackArrow_PullbackPr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">PullbackArrow_PullbackPr2</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
pullback lemma 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullback_lemma</span>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> : <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Variables</span> (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">e</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">j</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">e</span>) (<span class="id" title="var">m</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">d</span>).<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H1</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H2</span> : <span class="id" title="var">m</span> · <span class="id" title="var">i</span> = <span class="id" title="var">j</span> · <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">P1</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">P2</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">glueSquares</span> : <span class="id" title="var">m</span> · (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) = (<span class="id" title="var">j</span> · <span class="id" title="var">k</span>) · <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullbackGluedSquare</span> : <span class="id" title="var">isPullback</span> (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) <span class="id" title="var">g</span> <span class="id" title="var">m</span> (<span class="id" title="var">j</span> · <span class="id" title="var">k</span>) <span class="id" title="var">glueSquares</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isPullback</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hrt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ex</span> : (<span class="id" title="var">p</span>· <span class="id" title="var">i</span>)· <span class="id" title="var">f</span> = <span class="id" title="var">q</span>· <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hrt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">rt</span> := <span class="id" title="var">P1</span> <span class="id" title="var">_</span> (<span class="id" title="var">p</span> · <span class="id" title="var">i</span>) <span class="id" title="var">q</span> <span class="id" title="var">ex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Ppiq</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">rt</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">owiej</span> : <span class="id" title="var">p</span> · <span class="id" title="var">i</span> = <span class="id" title="var">Ppiq</span> · <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">rt</span>))). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">rt'</span> := <span class="id" title="var">P2</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">Ppiq</span> <span class="id" title="var">owiej</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">awe</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">rt'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hawe1</span> : <span class="id" title="var">awe</span> · <span class="id" title="var">m</span> = <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">rt'</span>))). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hawe2</span> : <span class="id" title="var">awe</span> · (<span class="id" title="var">j</span> · <span class="id" title="var">k</span>) = <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">rt'</span>))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">awe</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">rt</span>))).<br/>
&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">awe</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">Hawe1</span> <span class="id" title="var">Hawe2</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> [<span class="id" title="var">Ht1</span> <span class="id" title="var">Ht2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ht1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullback_lemma</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Universal_Unique</span>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">H</span> : <span class="id" title="var">is_univalent</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inv_from_iso_iso_from_Pullback</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">Pb'</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">iso_from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>) = <span class="id" title="var">from_Pullback_to_Pullback</span> <span class="id" title="var">Pb'</span> <span class="id" title="var">Pb</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">inv_iso_unique'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span>:= <span class="id" title="var">are_inverses_from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_Pullbacks</span>: <span class="id" title="var">isaprop</span> <span class="id" title="var">Pullbacks</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">g</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_isPullback</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">total2_paths_f</span>  (<span class="id" title="var">isotoid</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> (<span class="id" title="var">iso_from_Pullback_to_Pullback</span> <span class="id" title="var">Pb</span> <span class="id" title="var">Pb'</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transportf_dirprod</span>, <span class="id" title="var">transportf_isotoid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inv_from_iso_iso_from_Pullback</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transportf_isotoid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">inv_from_iso_iso_from_Pullback</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Pb</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Cone</span> <span class="id" title="var">bla</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Pb'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Cone'</span> <span class="id" title="var">bla'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Cone</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> [<span class="id" title="var">h</span> <span class="id" title="var">k</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Cone'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p'</span> [<span class="id" title="var">h'</span> <span class="id" title="var">k'</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">from_Pullback_to_Pullback</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PullbackArrow_PullbackPr2</span>, <span class="id" title="var">PullbackArrow_PullbackPr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Universal_Unique</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">def_pb</span>.<br/>

<br/>
</div>

<div class="doc">
Make the C not implicit for Pullbacks 
</div>
<div class="code">
<span class="id" title="var">Arguments</span> <span class="id" title="var">Pullbacks</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
</div>

<div class="doc">
In this section we prove that the pullback of a monomorphism is a
  monomorphism. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">monic_pb</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>.<br/>

<br/>
</div>

<div class="doc">
The pullback of a Monic is isMonic. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MonicPullbackisMonic</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">M</span> : <span class="id" title="var">Monic</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">M</span> <span class="id" title="var">g</span>) : <span class="id" title="var">isMonic</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">PB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mk_isMonic</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">g0</span> <span class="id" title="var">h</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">MorphismsIntoPullbackEqual</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">PB</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X0</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">f</span> · <span class="id" title="var">g</span>) <span class="id" title="var">X</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">PullbackSqrCommutes</span> <span class="id" title="var">PB</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Same result for the other morphism. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MonicPullbackisMonic'</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">Monic</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">M</span>) : <span class="id" title="var">isMonic</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">PB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mk_isMonic</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">MorphismsIntoPullbackEqual</span> (<span class="id" title="var">isPullback_Pullback</span> <span class="id" title="var">PB</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">X0</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f'</span>, <span class="id" title="var">f'</span> · <span class="id" title="var">f</span>) <span class="id" title="var">X</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">PullbackSqrCommutes</span> <span class="id" title="var">PB</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">M</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">X0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">X0</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">monic_pb</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <span class="id" title="var">glueSquares</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> } <span class="id" title="var">_</span> <span class="id" title="var">_</span> .<br/>

<br/>
</div>

<div class="doc">
<a name="lab923"></a><h1 class="section">Criteria for existence of pullbacks.</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">pb_criteria</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullback_from_Equalizer_BinProduct_eq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">BinProd</span> : <span class="id" title="var">BinProduct</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eq</span> : <span class="id" title="var">Equalizer</span> ((<span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">g</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · (<span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · (<span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EqualizerEqAr</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullback_from_Equalizer_BinProduct_isPullback</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">BinProd</span> : <span class="id" title="var">BinProduct</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eq</span> : <span class="id" title="var">Equalizer</span> ((<span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">g</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · <span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · <span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Pullback_from_Equalizer_BinProduct_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">Eq</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">com1</span> := <span class="id" title="var">BinProductPr1Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">com2</span> := <span class="id" title="var">BinProductPr2Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">l</span> : <span class="id" title="var">_</span>, <span class="id" title="var">l</span> · <span class="id" title="var">f</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">com1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">l</span> : <span class="id" title="var">_</span>, <span class="id" title="var">l</span> · <span class="id" title="var">g</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">com2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">com1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">com2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">unique_exists</span> (<span class="id" title="var">EqualizerIn</span> <span class="id" title="var">Eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hk</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">EqualizerCommutes</span> <span class="id" title="var">Eq</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">BinProductPr1Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">EqualizerCommutes</span> <span class="id" title="var">Eq</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">BinProductPr2Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">p</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">EqualizerInsEq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">BinProductArrowsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">EqualizerCommutes</span> <span class="id" title="var">Eq</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">BinProductPr1Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">EqualizerCommutes</span> <span class="id" title="var">Eq</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">BinProductPr2Commutes</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">BinProd</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullback_from_Equalizer_BinProduct</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">BinProd</span> : <span class="id" title="var">BinProduct</span> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eq</span> : <span class="id" title="var">Equalizer</span> ((<span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>) · <span class="id" title="var">g</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Eq</span> (<span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · (<span class="id" title="var">BinProductPr1</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">EqualizerArrow</span> <span class="id" title="var">Eq</span> · (<span class="id" title="var">BinProductPr2</span> <span class="id" title="var">C</span> <span class="id" title="var">BinProd</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Pullback_from_Equalizer_BinProduct_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Pullback_from_Equalizer_BinProduct_isPullback</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pullbacks_from_Equalizers_BinProducts</span> (<span class="id" title="var">BinProds</span> : <span class="id" title="var">BinProducts</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Eqs</span> : <span class="id" title="var">Equalizers</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Pullbacks</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">Pullback_from_Equalizer_BinProduct</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinProds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Eqs</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pb_criteria</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">lemmas_on_pullbacks</span>.<br/>

<br/>
</div>

<div class="doc">
setup for this section
<pre>
                k
          d --------&gt; c
          |           |
       h  |     H     | g
          v           v
          b --------&gt; a
               f
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hsC</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>).<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>}.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>, <span class="id" title="var">b</span>⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧}.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>.<br/>

<br/>
</div>

<div class="doc">
Pullback is symmetric, i.e., we can rotate a pb square 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_symmetric_isPullback</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> -&gt; <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (!<span class="id" title="var">H</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">isPb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb</span> := <span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (!<span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? . <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">Ht</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
Pulling back a section 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pb_of_section</span> (<span class="id" title="var">isPb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">s</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">c</span>⟧) (<span class="id" title="var">K</span> : <span class="id" title="var">s</span> · <span class="id" title="var">g</span> = <span class="id" title="var">identity</span> <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;: ∑ <span class="id" title="var">s'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">d</span>⟧, <span class="id" title="var">s'</span> · <span class="id" title="var">h</span> = <span class="id" title="var">identity</span> <span class="id" title="var">_</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>) <span class="id" title="var">b</span> (<span class="id" title="var">identity</span> <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> · <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, &lt;- <span class="id" title="var">assoc</span>, <span class="id" title="var">K</span>, <span class="id" title="var">id_right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">d</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> <span class="id" title="var">isPb</span>))).<br/>
</div>

<br/>
</div>

<div class="doc">
Diagonal morphisms are equivalent to sections 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_from_diagonal</span> (<span class="id" title="var">isPb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: (∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">c</span>⟧, <span class="id" title="var">x</span> · <span class="id" title="var">g</span> = <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">s'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">d</span>⟧, <span class="id" title="var">s'</span> · <span class="id" title="var">h</span> = <span class="id" title="var">identity</span> <span class="id" title="var">_</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>) <span class="id" title="var">_</span> (<span class="id" title="var">identity</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span> ;  <span class="id" title="tactic">apply</span> (! (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">d</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> <span class="id" title="var">isPb</span>) ).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">diagonal_from_section</span> (<span class="id" title="var">isPb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: (∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">c</span>⟧, <span class="id" title="var">x</span> · <span class="id" title="var">g</span> = <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">s'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">d</span>⟧, <span class="id" title="var">s'</span> · <span class="id" title="var">h</span> = <span class="id" title="var">identity</span> <span class="id" title="var">_</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> · <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>, &lt;- <span class="id" title="var">H</span>, <span class="id" title="var">assoc</span>, (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>) ; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weq_section_from_diagonal</span> (<span class="id" title="var">isPb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;: (∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">c</span>⟧, <span class="id" title="var">x</span> · <span class="id" title="var">g</span> = <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;≃<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">s'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">d</span>⟧, <span class="id" title="var">s'</span> · <span class="id" title="var">h</span> = <span class="id" title="var">identity</span> <span class="id" title="var">_</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">section_from_diagonal</span> <span class="id" title="var">isPb</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweq_iso</span> <span class="id" title="var">_</span> (<span class="id" title="var">diagonal_from_section</span> <span class="id" title="var">isPb</span> )).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>; [<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>  |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">d</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">H</span> <span class="id" title="var">isPb</span>) )).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>; [<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">t2</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">PullbackArrowUnique</span>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">t2</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>] ).<br/>
</div>

<br/>
</div>

<div class="doc">
 Diagram for next lemma
<pre>
              i'           k
         d' -------&gt; d --------&gt; c
         |           |           |
       h'|           |h          | g
         v           v           v
         b'--------&gt; b --------&gt; a
              i            f
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_two_pullback</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">b'</span> <span class="id" title="var">d'</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">h'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d'</span>, <span class="id" title="var">b'</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b'</span>, <span class="id" title="var">b</span>⟧) (<span class="id" title="var">i'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d'</span>, <span class="id" title="var">d</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hinner</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hinnerpb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinner</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hleft</span> : <span class="id" title="var">h'</span> · <span class="id" title="var">i</span> = <span class="id" title="var">i'</span> · <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Houterpb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">glueSquares</span> <span class="id" title="var">Hinner</span> <span class="id" title="var">Hleft</span> ))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hleft</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">mk_isPullback</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Houterpb</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">y</span> · <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hinner</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) <span class="id" title="var">g</span> <span class="id" title="var">d'</span> <span class="id" title="var">h'</span> (<span class="id" title="var">i'</span> · <span class="id" title="var">k</span>) <span class="id" title="var">_</span> <span class="id" title="var">Houterpb</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">MorphismsIntoPullbackEqual</span> <span class="id" title="var">Hinnerpb</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |[ |- ?<span class="id" title="var">KK</span> · ( <span class="id" title="var">_</span> · <span class="id" title="var">_</span> ) = <span class="id" title="var">_</span> ] =&gt; <span class="id" title="var">intermediate_path</span> (<span class="id" title="var">KK</span> · (<span class="id" title="var">h'</span> · <span class="id" title="var">i</span>)) <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="tactic">apply</span> (!<span class="id" title="var">Hleft</span>) |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T</span>:= <span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) <span class="id" title="var">g</span> <span class="id" title="var">d'</span> <span class="id" title="var">h'</span> (<span class="id" title="var">i'</span> · <span class="id" title="var">k</span>) <span class="id" title="var">_</span> <span class="id" title="var">Houterpb</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hxy</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">idtac</span> ] ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T</span>:= <span class="id" title="var">PullbackArrow_PullbackPr2</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) <span class="id" title="var">g</span> <span class="id" title="var">d'</span> <span class="id" title="var">h'</span> (<span class="id" title="var">i'</span> · <span class="id" title="var">k</span>) <span class="id" title="var">_</span> <span class="id" title="var">Houterpb</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>, <span class="id" title="var">T</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)); <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> ]]<br/>
    ).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab924"></a><h1 class="section">A square isomorphic to a pullback is a pullback (case 1)</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullback_iso</span>.<br/>

<br/>
</div>

<div class="doc">
 Diagram for next lemma
<pre>
              i'           k
         d' -------&gt; d --------&gt; c
         |           |           |
       h'|           |h          | g
         v           v           v
         b'--------&gt; b --------&gt; a
              i            f
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_iso_of_morphisms</span> (<span class="id" title="var">b'</span> <span class="id" title="var">d'</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">h'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d'</span>, <span class="id" title="var">b'</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b'</span>, <span class="id" title="var">b</span>⟧) (<span class="id" title="var">i'</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d'</span>, <span class="id" title="var">d</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xi</span> : <span class="id" title="var">is_iso</span> <span class="id" title="var">i</span>) (<span class="id" title="var">xi'</span> : <span class="id" title="var">is_iso</span> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hi</span> : <span class="id" title="var">h'</span> · <span class="id" title="var">i</span> = <span class="id" title="var">i'</span> · <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h'</span> · (<span class="id" title="var">i</span> · <span class="id" title="var">f</span>) = (<span class="id" title="var">i'</span> · <span class="id" title="var">k</span>) · <span class="id" title="var">g</span>) <br/>
&nbsp;&nbsp;&nbsp;: <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">isPb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb</span>:= <span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isPb</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> ( <span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> · <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">x</span> · <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">isopair</span> <span class="id" title="var">i'</span> <span class="id" title="var">xi'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span>:= <span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> (<span class="id" title="var">x</span> · <span class="id" title="var">i</span>) <span class="id" title="var">y</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|[ |- ?<span class="id" title="var">AA</span> · <span class="id" title="var">_</span> · <span class="id" title="var">_</span> = <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">AA</span> · <span class="id" title="var">h</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">isopair</span> <span class="id" title="var">i</span> <span class="id" title="var">xi</span>)) <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span>:= <span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> (<span class="id" title="var">x</span> · <span class="id" title="var">i</span>) <span class="id" title="var">y</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |[|- ?<span class="id" title="var">AA</span> · <span class="id" title="var">_</span> · <span class="id" title="var">_</span> · ?<span class="id" title="var">K</span> = <span class="id" title="var">_</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="var">intermediate_path</span> (<span class="id" title="var">AA</span> ·  <span class="id" title="var">K</span>) <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> ? . <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span> , <span class="id" title="var">PullbackArrowUnique</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">Ht</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ht</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullback_iso</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">lemmas_on_pullbacks</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">switchPullback</span> {<span class="id" title="var">C</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">D</span>:<span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">D</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">D</span>} (<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">Pullback</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pb</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">P</span> [<span class="id" title="var">r</span> <span class="id" title="var">s</span>]] [<span class="id" title="var">e</span> <span class="id" title="var">ip</span>]]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (!<span class="id" title="var">e</span>) (<span class="id" title="var">is_symmetric_isPullback</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">C</span>) <span class="id" title="var">_</span> <span class="id" title="var">ip</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab925"></a><h1 class="section">A fully faithful functor reflects limits</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">functor_on_square</span>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">hsC</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">isPullback_if_functor_on_square_is</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Fff</span> : <span class="id" title="var">fully_faithful</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>}.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>, <span class="id" title="var">b</span>⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧}.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_on_square</span> : #<span class="id" title="var">F</span> <span class="id" title="var">h</span> · #<span class="id" title="var">F</span> <span class="id" title="var">f</span> = #<span class="id" title="var">F</span> <span class="id" title="var">k</span> · #<span class="id" title="var">F</span> <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (! <span class="id" title="var">functor_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
</div>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">X</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">functor_on_square</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_preimage_square</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span> := <span class="id" title="var">maponpaths</span> (#<span class="id" title="var">F</span>) <span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T'</span> := !<span class="id" title="var">functor_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">T</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TH</span> := <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">T'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">FxFy</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">TH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">HFxFy</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">TH</span>)). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HFxFy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">xy</span> := <span class="id" title="var">fully_faithful_inv_hom</span> <span class="id" title="var">Fff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">FxFy</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">HFxFy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">HFxFy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>:=<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XXX</span> := <span class="id" title="var">XX</span> <span class="id" title="var">FxFy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>:=<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XXX</span> := <span class="id" title="var">XX</span> <span class="id" title="var">FxFy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">kkkk</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">xy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span>:=<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">Fff</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">path_to_ctr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">X1</span>:= <span class="id" title="var">maponpaths</span> (#<span class="id" title="var">F</span>) <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> (!<span class="id" title="var">functor_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">X2</span>:= <span class="id" title="var">maponpaths</span> (#<span class="id" title="var">F</span>) <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> (!<span class="id" title="var">functor_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">isPullback_if_functor_on_square_is</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab926"></a><h1 class="section">A fully faithful and essentially surjective functor preserves pullbacks</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">ff_es_functor_preserves_pb</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">hsD</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Fff</span> : <span class="id" title="var">fully_faithful</span> <span class="id" title="var">F</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Fes</span> : <span class="id" title="var">essentially_surjective</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">FF</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> := (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">Fff</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>}.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>, <span class="id" title="var">b</span>⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧}.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">X</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_image_square</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_square</span> <span class="id" title="var">H</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">Fes</span> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscontr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">e'</span> <span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'c</span> := <span class="id" title="var">invmap</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">i</span> ·<span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'b</span> := <span class="id" title="var">invmap</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">i</span> ·<span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb</span> := <span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XX</span> : <span class="id" title="var">e'b</span> · <span class="id" title="var">f</span> = <span class="id" title="var">e'c</span> · <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">e'b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">e'c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">c</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">umor</span> := <span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">e'b</span> <span class="id" title="var">e'c</span> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">umorPr1</span> := <span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">umorPr2</span> := <span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">XX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">i</span> · #<span class="id" title="var">F</span> <span class="id" title="var">umor</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TX</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">umor</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">umorPr1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">c</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TX</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">umor</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">umorPr2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span> ; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hsD</span> | <span class="id" title="var">cbn</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> [<span class="id" title="var">Htx</span> <span class="id" title="var">Hty</span>]]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pre_comp_with_iso_is_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_inv_after_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">d</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TX</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">d</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>, <span class="id" title="var">TX</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">e'b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">b</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">d</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>, <span class="id" title="var">TX</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">TX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">e'c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">TX</span>:= <span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">FF</span> <span class="id" title="var">e'</span> <span class="id" title="var">c</span>)). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">ff_es_functor_preserves_pb</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">maps_pb_square_to_pb_square</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>, <span class="id" title="var">b</span>⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧}<br/>
&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> -&gt; <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_square</span> <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">maps_pb_squares_to_pb_squares</span> :=<br/>
&nbsp;&nbsp;&nbsp;∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">b</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> ⟦<span class="id" title="var">c</span>, <span class="id" title="var">a</span>⟧} {<span class="id" title="var">h</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>, <span class="id" title="var">b</span>⟧} {<span class="id" title="var">k</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">d</span>,<span class="id" title="var">c</span>⟧}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">k</span> · <span class="id" title="var">g</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">maps_pb_square_to_pb_square</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">functor_on_square</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab927"></a><h1 class="section">Pullbacks in functor categories</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullbacks_pointwise</span>.<br/>

<br/>
</div>

<div class="doc">
Diagram for this section:
<pre>
          d
    J -------&gt; H
    |          |
  c |          | b
    v          v
    G -------&gt; F
         a
</pre>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hsD</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">CD</span> := [<span class="id" title="var">C</span>, <span class="id" title="var">D</span>, <span class="id" title="var">hsD</span>].<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">J</span> : <span class="id" title="var">CD</span>}.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">a</span> : <span class="id" title="var">CD</span> ⟦<span class="id" title="var">G</span>, <span class="id" title="var">F</span>⟧}{<span class="id" title="var">b</span> : <span class="id" title="var">CD</span> ⟦<span class="id" title="var">H</span>, <span class="id" title="var">F</span>⟧}{<span class="id" title="var">c</span> : <span class="id" title="var">CD</span>⟦<span class="id" title="var">J</span>,<span class="id" title="var">G</span>⟧}{<span class="id" title="var">d</span> : <span class="id" title="var">CD</span>⟦<span class="id" title="var">J</span>, <span class="id" title="var">H</span>⟧}.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">Hcomm</span> : <span class="id" title="var">c</span> · <span class="id" title="var">a</span> = <span class="id" title="var">d</span> · <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <span class="id" title="var">mk_Pullback</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> } <span class="id" title="var">_</span> .<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">Hcommx</span> <span class="id" title="var">x</span> := <span class="id" title="var">nat_trans_eq_pointwise</span> <span class="id" title="var">Hcomm</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">g</span> (<span class="id" title="var">T</span> : ∏ <span class="id" title="var">x</span>, <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hcommx</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;<span class="id" title="var">E</span> (<span class="id" title="var">h</span> : <span class="id" title="var">CD</span> ⟦ <span class="id" title="var">E</span>, <span class="id" title="var">G</span> ⟧) (<span class="id" title="var">k</span> : <span class="id" title="var">CD</span> ⟦ <span class="id" title="var">E</span>, <span class="id" title="var">H</span> ⟧)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Hhk</span> : <span class="id" title="var">h</span> · <span class="id" title="var">a</span> = <span class="id" title="var">k</span> · <span class="id" title="var">b</span>) : ∏ <span class="id" title="var">x</span>, <span class="id" title="var">D</span> ⟦ <span class="id" title="var">pr1</span> <span class="id" title="var">E</span> <span class="id" title="var">x</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">J</span> <span class="id" title="var">x</span> ⟧.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">x</span>)) <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">k</span> <span class="id" title="var">x</span>)).<br/>
<span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> <span class="id" title="var">Hhk</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_nat_trans_g</span> (<span class="id" title="var">T</span> : ∏ <span class="id" title="var">x</span>, <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hcommx</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;<span class="id" title="var">E</span> (<span class="id" title="var">h</span> : <span class="id" title="var">CD</span> ⟦ <span class="id" title="var">E</span>, <span class="id" title="var">G</span> ⟧) (<span class="id" title="var">k</span> : <span class="id" title="var">CD</span> ⟦ <span class="id" title="var">E</span>, <span class="id" title="var">H</span> ⟧)<br/>
&nbsp;&nbsp;(<span class="id" title="var">Hhk</span> : <span class="id" title="var">h</span> · <span class="id" title="var">a</span> = <span class="id" title="var">k</span> · <span class="id" title="var">b</span>) : <span class="id" title="var">is_nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, <span class="id" title="var">g</span> <span class="id" title="var">T</span> <span class="id" title="var">E</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hhk</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">MorphismsIntoPullbackEqual</span> (<span class="id" title="var">T</span> <span class="id" title="var">y</span>)).<br/>
+ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">assoc</span>, (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">c</span>), <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">x</span>))), (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">h</span>).<br/>
+ <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">assoc</span>,(<span class="id" title="var">PullbackArrow_PullbackPr2</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">d</span>), <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">x</span>))), (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">k</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pb_if_pointwise_pb</span> : (∏ <span class="id" title="var">x</span>, <span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Hcommx</span> <span class="id" title="var">x</span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hcomm</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
<span class="id" title="tactic">intro</span> <span class="id" title="var">T</span>.<br/>
<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hhk</span>.<br/>
<span class="id" title="var">use</span> <span class="id" title="var">unique_exists</span>.<br/>
- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">g</span> <span class="id" title="var">T</span> <span class="id" title="var">E</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hhk</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">is_nat_trans_g</span>.<br/>
- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hsD</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> (<span class="id" title="var">mk_Pullback</span> (<span class="id" title="var">T</span> <span class="id" title="var">x</span>))) ]).<br/>
- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_category_has_homsets</span>).<br/>
- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> [<span class="id" title="var">h1</span> <span class="id" title="var">h2</span>]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> <span class="id" title="var">Hh</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hsD</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrowUnique</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> <span class="id" title="var">h1</span>) | <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> <span class="id" title="var">h2</span>) ]).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullbacks_pointwise</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab928"></a><h1 class="section">Construction of binary products from pullbacks</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">binproduct_from_pullback</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">Pb</span> : <span class="id" title="var">Pullbacks</span> <span class="id" title="var">C</span>) (<span class="id" title="var">T</span> : <span class="id" title="var">Terminal</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">UnivProductFromPullback</span> (<span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">a</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">d</span>):<br/>
&nbsp;&nbsp;∑ <span class="id" title="var">fg</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">Pb</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">d</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fg</span>· <span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">Pb</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">d</span>)) = <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× (<span class="id" title="var">fg</span>· <span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">Pb</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">d</span>)) = <span class="id" title="var">g</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Pullbacks</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Pb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>)(<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">d</span>)) <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">TerminalArrowEq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrow_PullbackPr1</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackArrow_PullbackPr2</span> .<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isBinProduct_Pullback</span> (<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>):<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">isBinProduct</span> <span class="id" title="var">C</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackObject</span> (<span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">_</span>  ) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">_</span> ).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">UnivProductFromPullback</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proofirrelevance</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isapropifcontr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback_Pullback</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">TerminalArrowEq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">BinProduct_Pullback</span> (<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>) : <span class="id" title="var">BinProduct</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">PullbackObject</span> (<span class="id" title="var">Pb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) (<span class="id" title="var">TerminalArrow</span> <span class="id" title="var">T</span> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dirprodpair</span>  (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">_</span>) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">isBinProduct_Pullback</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">BinProductsFromPullbacks</span> : <span class="id" title="var">BinProducts</span> <span class="id" title="var">C</span> := <span class="id" title="var">BinProduct_Pullback</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">binproduct_from_pullback</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab929"></a><h1 class="section">Pullbacks in functor_precategory</h1>

    We construct pullbacks in the functor category <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a>,</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a>,</span> <span class="inlinecode"><span class="id" title="var">hs</span></span> from pullbacks of C. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullbacks_functor_category</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">hpb</span> : @<span class="id" title="var">Pullbacks</span> <span class="id" title="var">C</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">FunctorcategoryPullbacks_eq</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">D</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">D</span> ⟦<span class="id" title="var">a</span>, <span class="id" title="var">b</span>⟧) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · # <span class="id" title="var">G</span> <span class="id" title="var">f</span> · <span class="id" title="var">α</span> <span class="id" title="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · # <span class="id" title="var">H</span> <span class="id" title="var">f</span> · <span class="id" title="var">β</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pba</span> := <span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">α</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">β</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackSqrCommutes</span> <span class="id" title="var">pba</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">FunctorcategoryPullbacks_isfunctor</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_functor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mk_functor_data</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">d</span> : <span class="id" title="var">D</span>, <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">d</span>) (<span class="id" title="var">G</span> <span class="id" title="var">d</span>) (<span class="id" title="var">H</span> <span class="id" title="var">d</span>) (<span class="id" title="var">α</span> <span class="id" title="var">d</span>) (<span class="id" title="var">β</span> <span class="id" title="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">D</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">D</span> ⟦ <span class="id" title="var">a</span>, <span class="id" title="var">b</span> ⟧),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PullbackArrow</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">b</span>) (<span class="id" title="var">G</span> <span class="id" title="var">b</span>) (<span class="id" title="var">H</span> <span class="id" title="var">b</span>) (<span class="id" title="var">α</span> <span class="id" title="var">b</span>) (<span class="id" title="var">β</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) (<span class="id" title="var">G</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) (<span class="id" title="var">G</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · # <span class="id" title="var">G</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) (<span class="id" title="var">G</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · # <span class="id" title="var">H</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_id</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">px</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">py</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">y</span>) (<span class="id" title="var">G</span> <span class="id" title="var">y</span>) (<span class="id" title="var">H</span> <span class="id" title="var">y</span>) (<span class="id" title="var">α</span> <span class="id" title="var">y</span>) (<span class="id" title="var">β</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pz</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">z</span>) (<span class="id" title="var">G</span> <span class="id" title="var">z</span>) (<span class="id" title="var">H</span> <span class="id" title="var">z</span>) (<span class="id" title="var">α</span> <span class="id" title="var">z</span>) (<span class="id" title="var">β</span> <span class="id" title="var">z</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pz1</span> := <span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">pz</span> <span class="id" title="var">py</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">py</span> · # <span class="id" title="var">G</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">py</span> · # <span class="id" title="var">H</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pz2</span> := <span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">pz</span> <span class="id" title="var">py</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">py</span> · # <span class="id" title="var">G</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">py</span> · # <span class="id" title="var">H</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">py1</span> := <span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">py</span> <span class="id" title="var">px</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">px</span> · # <span class="id" title="var">G</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">px</span> · # <span class="id" title="var">H</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">py2</span> := <span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">py</span> <span class="id" title="var">px</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">px</span> · # <span class="id" title="var">G</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">px</span> · # <span class="id" title="var">H</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">px</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">py</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">pz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">pz1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">py1</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">pz2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">py2</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">FunctorcategoryPullbacks_functor</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_functor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_functor_data</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackObject</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">d</span>) (<span class="id" title="var">β</span> <span class="id" title="var">d</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">b</span>) (<span class="id" title="var">β</span> <span class="id" title="var">b</span>)) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · (# <span class="id" title="var">G</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">hpb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) (<span class="id" title="var">β</span> <span class="id" title="var">a</span>)) · (# <span class="id" title="var">H</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_isfunctor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">FunctorcategoryPullbacks_is_nat_trans1</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_nat_trans</span> (<span class="id" title="var">FunctorcategoryPullbacks_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">G</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">D</span>, <span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">px</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">px'</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">px'</span> <span class="id" title="var">px</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">px</span> · # <span class="id" title="var">G</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">px</span> · # <span class="id" title="var">H</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">FunctorcategoryPullbacks_nat_trans1</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) : <span class="id" title="var">nat_trans</span> (<span class="id" title="var">FunctorcategoryPullbacks_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_nat_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackPr1</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_is_nat_trans1</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">FunctorcategoryPullbacks_is_nat_trans2</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_nat_trans</span> (<span class="id" title="var">FunctorcategoryPullbacks_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">D</span>, <span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">px</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">px'</span> := <span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">px'</span> <span class="id" title="var">px</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">px</span> · # <span class="id" title="var">G</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">px</span> · # <span class="id" title="var">H</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FunctorcategoryPullbacks_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">FunctorcategoryPullbacks_nat_trans2</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) : <span class="id" title="var">nat_trans</span> (<span class="id" title="var">FunctorcategoryPullbacks_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_nat_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackPr2</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_is_nat_trans2</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">FunctorcategoryPullbacks_comm</span> (<span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">G</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">β</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">H</span> <span class="id" title="var">F</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">FunctorcategoryPullbacks_nat_trans1</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">α</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">FunctorcategoryPullbacks_nat_trans2</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>) <span class="id" title="var">β</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hs</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">PullbackSqrCommutes</span> (<span class="id" title="var">hpb</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">G</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">α</span> <span class="id" title="var">x</span>) (<span class="id" title="var">β</span> <span class="id" title="var">x</span>))).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">FunctorcategoryPullbacks</span> : @<span class="id" title="var">Pullbacks</span> (<span class="id" title="var">functor_precategory</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">F</span>, <span class="id" title="var">G</span>, <span class="id" title="var">H</span>, <span class="id" title="var">α</span>, <span class="id" title="var">β</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_Pullback</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_nat_trans1</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_nat_trans2</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">FunctorcategoryPullbacks_comm</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span> <span class="id" title="var">H</span> <span class="id" title="var">α</span> <span class="id" title="var">β</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pb_if_pointwise_pb</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isPullback_Pullback</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullbacks_functor_category</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullback_up_to_iso</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_up_to_iso_eq</span> {<span class="id" title="var">a'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">iso</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">p1</span> · (<span class="id" title="var">f</span> · <span class="id" title="var">i</span>) = <span class="id" title="var">p2</span> · (<span class="id" title="var">g</span> · <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_up_to_iso</span> {<span class="id" title="var">a'</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>) (<span class="id" title="var">i</span> : <span class="id" title="var">iso</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iPb</span> : <span class="id" title="var">isPullback</span> (<span class="id" title="var">f</span> · <span class="id" title="var">i</span>) (<span class="id" title="var">g</span> · <span class="id" title="var">i</span>) <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> (<span class="id" title="var">isPullback_up_to_iso_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span> <span class="id" title="var">i</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Pb</span> := <span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">iPb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPullback</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">unique_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">PullbackArrow</span> <span class="id" title="var">Pb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isPullback_up_to_iso_eq</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackArrow_PullbackPr1</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> (<span class="id" title="var">isPullback_up_to_iso_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackArrow_PullbackPr2</span> <span class="id" title="var">Pb</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> (<span class="id" title="var">isPullback_up_to_iso_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> <span class="id" title="var">Hk</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">X</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">PullbackArrowUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">dirprod_pr1</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">dirprod_pr2</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullback_up_to_iso</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">pullback_paths</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback_mor_paths</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">g1</span> <span class="id" title="var">g2</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">p11</span> <span class="id" title="var">p21</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p12</span> <span class="id" title="var">p22</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>} (<span class="id" title="var">e1</span> : <span class="id" title="var">f1</span> = <span class="id" title="var">f2</span>) (<span class="id" title="var">e2</span> : <span class="id" title="var">g1</span> = <span class="id" title="var">g2</span>) (<span class="id" title="var">e3</span> : <span class="id" title="var">p11</span> = <span class="id" title="var">p21</span>) (<span class="id" title="var">e4</span> : <span class="id" title="var">p12</span> = <span class="id" title="var">p22</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : <span class="id" title="var">p11</span> · <span class="id" title="var">f1</span> = <span class="id" title="var">p12</span> · <span class="id" title="var">g1</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">p21</span> · <span class="id" title="var">f2</span> = <span class="id" title="var">p22</span> · <span class="id" title="var">g2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iPb</span> : <span class="id" title="var">isPullback</span> <span class="id" title="var">f1</span> <span class="id" title="var">g1</span> <span class="id" title="var">p11</span> <span class="id" title="var">p12</span> <span class="id" title="var">H1</span>) : <span class="id" title="var">isPullback</span> <span class="id" title="var">f2</span> <span class="id" title="var">g2</span> <span class="id" title="var">p21</span> <span class="id" title="var">p22</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e1</span>, <span class="id" title="var">e2</span>, <span class="id" title="var">e3</span>, <span class="id" title="var">e4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e5</span> : <span class="id" title="var">H1</span> = <span class="id" title="var">H2</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">iPb</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">pullback_paths</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">induced_precategory_reflects_pullbacks</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">induced_precategory</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span> · <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> (# (<span class="id" title="var">induced_precategory_incl</span> <span class="id" title="var">j</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_precategory_incl</span> <span class="id" title="var">j</span>) <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_precategory_incl</span> <span class="id" title="var">j</span>) <span class="id" title="var">p1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_precategory_incl</span> <span class="id" title="var">j</span>) <span class="id" title="var">p2</span>) <span class="id" title="var">H</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">pb</span> <span class="id" title="var">T</span>, <span class="id" title="var">pb</span> (<span class="id" title="var">j</span> <span class="id" title="var">T</span>)).<br/>
</div>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>