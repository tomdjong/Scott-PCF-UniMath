<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.Algebra.Matrix</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab610"></a><h1 class="section">Matrices</h1>


<div class="paragraph"> </div>

Operations on vectors and matrices.

<div class="paragraph"> </div>

Author: Langston Barrett (@siddharthist) (March 2018)

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartA</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.PartA</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Combinatorics.FiniteSequences</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.BinaryOperations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.IteratedBinaryOperations</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.RigsAndRings</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab611"></a><h2 class="section">Contents</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Vectors
<ul class="doclist">
<li> Standard conditions on one binary operation

</li>
<li> Standard conditions on a pair of binary operations

</li>
<li> Structures

</li>
</ul>

</li>
<li> Matrices
<ul class="doclist">
<li> Standard conditions on one binary operation

</li>
<li> Structures

</li>
<li> Matrix rig

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

<a name="lab612"></a><h2 class="section">Vectors</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">op</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">binop</span> (<span class="id" title="var">Vector</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">i</span>, <span class="id" title="var">op</span> (<span class="id" title="var">v1</span> <span class="id" title="var">i</span>) (<span class="id" title="var">v2</span> <span class="id" title="var">i</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab613"></a><h3 class="section">Standard conditions on one binary operation</h3>

<div class="paragraph"> </div>

 Most features of binary operations (associativity, unity, etc) carry over to
    pointwise operations. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">OneOp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} {<span class="id" title="var">op</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_assoc</span> (<span class="id" title="var">assocax</span> : <span class="id" title="var">isassoc</span> <span class="id" title="var">op</span>) : <span class="id" title="var">isassoc</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">assocax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_lunit</span> (<span class="id" title="var">lun</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">lunax</span> : <span class="id" title="var">islunit</span> <span class="id" title="var">op</span> <span class="id" title="var">lun</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">islunit</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_vec</span> <span class="id" title="var">lun</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">lunax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_runit</span> (<span class="id" title="var">run</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">runax</span> : <span class="id" title="var">isrunit</span> <span class="id" title="var">op</span> <span class="id" title="var">run</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isrunit</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_vec</span> <span class="id" title="var">run</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">runax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_unit</span> (<span class="id" title="var">un</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">unax</span> : <span class="id" title="var">isunit</span> <span class="id" title="var">op</span> <span class="id" title="var">un</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isunit</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_vec</span> <span class="id" title="var">un</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isunitpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_lunit</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_runit</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unax</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_comm</span> (<span class="id" title="var">commax</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">op</span>) : <span class="id" title="var">iscomm</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">commax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_monoidop</span> (<span class="id" title="var">monoidax</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">op</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_assoc</span>, <span class="id" title="var">assocax_is</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isunitalpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">const_vec</span> (<span class="id" title="var">unel_is</span> <span class="id" title="var">monoidax</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_unit</span>, <span class="id" title="var">unax_is</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_abmonoidop</span> (<span class="id" title="var">abmonoidax</span> : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">op</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isabmonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_monoidop</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1isabmonoidop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">abmonoidax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_comm</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">abmonoidax</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">OneOp</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab614"></a><h3 class="section">Standard conditions on a pair of binary operations</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">TwoOps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} {<span class="id" title="var">op</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} {<span class="id" title="var">op'</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_ldistr</span> (<span class="id" title="var">isldistrax</span> : <span class="id" title="var">isldistr</span> <span class="id" title="var">op</span> <span class="id" title="var">op'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isldistr</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isldistrax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_rdistr</span> (<span class="id" title="var">isrdistrax</span> : <span class="id" title="var">isrdistr</span> <span class="id" title="var">op</span> <span class="id" title="var">op'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isrdistr</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isrdistrax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_distr</span> (<span class="id" title="var">isdistrax</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">op</span> <span class="id" title="var">op'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isdistr</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>) (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">dirprodpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_ldistr</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprod_pr1</span> <span class="id" title="var">isdistrax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_rdistr</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprod_pr2</span> <span class="id" title="var">isdistrax</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">TwoOps</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab615"></a><h3 class="section">Structures</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Structures</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_hSet</span> (<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">hSet</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">hSetpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Vector</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> <span class="id" title="var">isaset</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">isofhlevel</span> 2).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">vector_hlevel</span>, <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_setwithbinop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">setwithbinop</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">setwithbinoppair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_hSet</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_setwith2binop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">setwith2binop</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">setwith2binoppair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_hSet</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pointwise</span> <span class="id" title="var">n</span> <span class="id" title="var">op2</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_monoid</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">monoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_setwithbinop</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_monoidop</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pointwise_abmonoid</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abmonoid</span>) (<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) : <span class="id" title="var">abmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">abmonoidpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_setwithbinop</span>; [<span class="id" title="tactic">exact</span> <span class="id" title="var">X</span>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_abmonoidop</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Structures</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab616"></a><h2 class="section">Matrices</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">op</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">binop</span> (<span class="id" title="var">Matrix</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">mat1</span> <span class="id" title="var">mat2</span> <span class="id" title="var">i</span>, <span class="id" title="var">pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">op</span> (<span class="id" title="var">mat1</span> <span class="id" title="var">i</span>) (<span class="id" title="var">mat2</span> <span class="id" title="var">i</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab617"></a><h3 class="section">Standard conditions on one binary operation</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">OneOpMat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">nat</span>} {<span class="id" title="var">op</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_assoc</span> (<span class="id" title="var">assocax</span> : <span class="id" title="var">isassoc</span> <span class="id" title="var">op</span>) : <span class="id" title="var">isassoc</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_assoc</span>, <span class="id" title="var">assocax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_lunit</span> (<span class="id" title="var">lun</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">lunax</span> : <span class="id" title="var">islunit</span> <span class="id" title="var">op</span> <span class="id" title="var">lun</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">islunit</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_matrix</span> <span class="id" title="var">lun</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_lunit</span>, <span class="id" title="var">lunax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_runit</span> (<span class="id" title="var">run</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">runax</span> : <span class="id" title="var">isrunit</span> <span class="id" title="var">op</span> <span class="id" title="var">run</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isrunit</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_matrix</span> <span class="id" title="var">run</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_runit</span>, <span class="id" title="var">runax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_unit</span> (<span class="id" title="var">un</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">unax</span> : <span class="id" title="var">isunit</span> <span class="id" title="var">op</span> <span class="id" title="var">un</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isunit</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>) (<span class="id" title="var">const_matrix</span> <span class="id" title="var">un</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isunitpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_lunit</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_runit</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unax</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_comm</span> (<span class="id" title="var">commax</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">op</span>) : <span class="id" title="var">iscomm</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pointwise_comm</span>, <span class="id" title="var">commax</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_monoidop</span> (<span class="id" title="var">monoidax</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">op</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_assoc</span>, <span class="id" title="var">assocax_is</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isunitalpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">const_matrix</span> (<span class="id" title="var">unel_is</span> <span class="id" title="var">monoidax</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_unit</span>, <span class="id" title="var">unax_is</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">entrywise_abmonoidop</span> (<span class="id" title="var">abmonoidax</span> : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">op</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> (<span class="id" title="var">entrywise</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">op</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isabmonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_monoidop</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1isabmonoidop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">abmonoidax</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">entrywise_comm</span>; <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">abmonoidax</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">OneOpMat</span>.<br/>

<br/>
</div>

<div class="doc">
It is uncommon to consider two entrywise binary operations on matrices,
    so we don't derive "standard conditions on a pair of binar operations"
    for matrices. 
<div class="paragraph"> </div>

<a name="lab618"></a><h3 class="section">Structures</h3>

<div class="paragraph"> </div>

<a name="lab619"></a><h3 class="section">Matrix rig</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">MatrixMult</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="var">rig</span>}.<br/>

<br/>
</div>

<div class="doc">
Summation and pointwise multiplication 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">Σ</span> := (<span class="id" title="var">iterop_fun</span> <span class="id" title="var">rigunel1</span> <span class="id" title="var">op1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "R1 ^ R2" := ((<span class="id" title="var">pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">op2</span>) <span class="id" title="var">R1</span> <span class="id" title="var">R2</span>).<br/>

<br/>
</div>

<div class="doc">
If A is m × n (so B is n × p),
      <tt>
        AB(i, j) = A(i, 1) * B(1, j) + A(i, 2) * B(2, j) + ⋯ + A(i, n) * B(n, j)
      </tt>
<div class="paragraph"> </div>

      The order of the arguments allows currying the first matrix.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">matrix_mult</span> {<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat1</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">p</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat2</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>) : (<span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">p</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <span class="id" title="var">Σ</span> ((<span class="id" title="var">row</span> <span class="id" title="var">mat1</span> <span class="id" title="var">i</span>) ^ (<span class="id" title="var">col</span> <span class="id" title="var">mat2</span> <span class="id" title="var">j</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "A ** B" := (<span class="id" title="var">matrix_mult</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">identity_matrix</span> {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} : (<span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">stn_eq_or_neq</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">rigunel2</span>). &nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">rigunel1</span>). </div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MatrixMult</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">Σ</span> := (<span class="id" title="var">iterop_fun</span> <span class="id" title="var">rigunel1</span> <span class="id" title="var">op1</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "R1 ^ R2" := ((<span class="id" title="var">pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">op2</span>) <span class="id" title="var">R1</span> <span class="id" title="var">R2</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "A ** B" := (<span class="id" title="var">matrix_mult</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80).<br/>

<br/>
</div>

<div class="doc">
The following is based on "The magnitude of metric spaces" by Tom Leinster
    (arXiv:1012.5857v3). 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Weighting</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">R</span> : <span class="id" title="var">rig</span>}.<br/>

<br/>
</div>

<div class="doc">
Definition 1.1.1 in arXiv:1012.5857v3 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">weighting</span> {<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">vec</span> : <span class="id" title="var">Vector</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span>, (<span class="id" title="var">mat</span> ** (<span class="id" title="var">col_vec</span> <span class="id" title="var">vec</span>)) = <span class="id" title="var">col_vec</span> (<span class="id" title="var">const_vec</span> (1%<span class="id" title="var">rig</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">coweighting</span> {<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">vec</span> : <span class="id" title="var">Vector</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span>, ((<span class="id" title="var">row_vec</span> <span class="id" title="var">vec</span>) ** <span class="id" title="var">mat</span>) = <span class="id" title="var">row_vec</span> (<span class="id" title="var">const_vec</span> (1%<span class="id" title="var">rig</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">matrix_mult_vectors</span> {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">vec1</span> <span class="id" title="var">vec2</span> : <span class="id" title="var">Vector</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">row_vec</span> <span class="id" title="var">vec1</span>) ** (<span class="id" title="var">col_vec</span> <span class="id" title="var">vec2</span>)) = <span class="id" title="var">weq_matrix_1_1</span> (<span class="id" title="var">Σ</span> (<span class="id" title="var">vec1</span> ^ <span class="id" title="var">vec2</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Multiplying a column vector by the identity row vector is the same as
      taking the sum of its entries. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">sum_entries1</span> {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">vec</span> : <span class="id" title="var">Vector</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">weq_matrix_1_1</span> (<span class="id" title="var">Σ</span> <span class="id" title="var">vec</span>) = ((<span class="id" title="var">row_vec</span> (<span class="id" title="var">const_vec</span> (1%<span class="id" title="var">rig</span>))) ** (<span class="id" title="var">col_vec</span> <span class="id" title="var">vec</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ !<span class="id" title="var">matrix_mult_vectors</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pointwise_lunit</span> 1%<span class="id" title="var">rig</span> <span class="id" title="var">_</span> <span class="id" title="var">vec</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">riglunax2</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">sum_entries2</span> {<span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">vec</span> : <span class="id" title="var">Vector</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">weq_matrix_1_1</span> (<span class="id" title="var">Σ</span> <span class="id" title="var">vec</span>) = (<span class="id" title="var">row_vec</span> <span class="id" title="var">vec</span> ** <span class="id" title="var">col_vec</span> (<span class="id" title="var">const_vec</span> 1%<span class="id" title="var">rig</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ !<span class="id" title="var">matrix_mult_vectors</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pointwise_runit</span> 1%<span class="id" title="var">rig</span> <span class="id" title="var">_</span> <span class="id" title="var">vec</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rigrunax2</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
TODO: prove this so that the below isn't hypothetical 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">matrix_mult_assoc_statement</span> : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ (<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">mat1</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">mat2</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">q</span> : <span class="id" title="var">nat</span>) (<span class="id" title="var">mat3</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">mat1</span> ** <span class="id" title="var">mat2</span>) ** <span class="id" title="var">mat3</span>) = (<span class="id" title="var">mat1</span> ** (<span class="id" title="var">mat2</span> ** <span class="id" title="var">mat3</span>)).<br/>

<br/>
</div>

<div class="doc">
Lemma 1.1.2 in arXiv:1012.5857v3 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weighting_coweighting_sum</span> {<span class="id" title="var">m</span> <span class="id" title="var">n</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wei</span> : <span class="id" title="var">weighting</span> <span class="id" title="var">mat</span>) (<span class="id" title="var">cowei</span> : <span class="id" title="var">coweighting</span> <span class="id" title="var">mat</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">assocax</span> : <span class="id" title="var">matrix_mult_assoc_statement</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Σ</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">wei</span>) = <span class="id" title="var">Σ</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">cowei</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> <span class="id" title="var">weq_matrix_1_1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> ((<span class="id" title="var">row_vec</span> (<span class="id" title="var">const_vec</span> (1%<span class="id" title="var">rig</span>))) ** (<span class="id" title="var">col_vec</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">wei</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">sum_entries1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (!<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">z</span> ** <span class="id" title="var">_</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">cowei</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">_</span> ** <span class="id" title="var">z</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">wei</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">sum_entries2</span> .<br/>
</div>

<br/>
</div>

<div class="doc">
Definition 1.1.3 in arXiv:1012.5857v3 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">has_magnitude</span> {<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">mat</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weighting</span> <span class="id" title="var">mat</span>) × (<span class="id" title="var">coweighting</span> <span class="id" title="var">mat</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">magnitude</span> {<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">nat</span>} (<span class="id" title="var">m</span> : <span class="id" title="var">Matrix</span> <span class="id" title="var">R</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span>) (<span class="id" title="var">has</span> : <span class="id" title="var">has_magnitude</span> <span class="id" title="var">m</span>) : <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Σ</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">dirprod_pr1</span> <span class="id" title="var">has</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> &quot;| Mat |" := (<span class="id" title="var">magnitude</span> <span class="id" title="var">Mat</span> <span class="id" title="var">_</span>) : <span class="id" title="var">magnitude</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Weighting</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>