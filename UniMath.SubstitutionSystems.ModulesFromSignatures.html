<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.SubstitutionSystems.ModulesFromSignatures</h1>

<div class="code">
</div>

<div class="doc">

<div class="paragraph"> </div>

Reference : "Initial Semantics for Strengthened Signatures" (André Hirschowitz , Marco Maggesi)

<div class="paragraph"> </div>

Let (H, θ) be a strengthened signature, M an endo-functor.
If M has a structure of (left) module over a monad T, then it can be lifted to endow
H(M) with a structure of module over T.

<div class="paragraph"> </div>

Let T be the initial Id+H algebra. Then T is the initial representation in the sense of H&amp;M.

<div class="paragraph"> </div>

Note : A shorter proof of this statment could be formalized by using the proof of initiality
in the category of heterogeneous substitution systems, provided we weaken the notion of heterogeneous
substitution system so that the bracket associated to the functor is not unique.
The proof of initiality in the category of "weak" heterogeneous substitution systems is the same
as the one one already proved formally for the standard notion of heterogeneous substitution system.

<div class="paragraph"> </div>


</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.PointedFunctors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.PointedFunctorsComposition</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.NaturalTransformations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.FunctorCategory</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.Signatures</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.Notation</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">subsys</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Monads.LModules</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.SubstitutionSystems</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Monads.Monads</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.whiskering</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.MonadsFromSubstitutionSystems</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.EndofunctorsMonoidal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.HorizontalComposition</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.FunctorAlgebras</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.bincoproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.graphs.colimits</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Chains.All</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Presheaf</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.LiftingInitial_alt</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.SubstitutionSystems.GenMendlerIteration_alt</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.initial</span>.<br/>

<br/>
</div>

<div class="doc">
A monad is a pointed endofunctor 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ptd_from_mon</span> {<span class="id" title="var">C</span>:<span class="id" title="var">precategory</span>} <span class="id" title="var">hsC</span> (<span class="id" title="var">T</span>:<span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) : <span class="id" title="var">precategory_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hsC</span> :=<br/>
&nbsp;&nbsp;((<span class="id" title="var">T</span>:<span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span>),, <span class="id" title="var">η</span> <span class="id" title="var">T</span>).<br/>

<br/>
</div>

<div class="doc">
Let (Z, e : 1 -&gt; Z) be a pointed endofunctor.
Then e is a morphism (actually the initial morphism) in the category of pointed endofunctors 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_ptd_mor_pt</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} <span class="id" title="var">hs</span> (<span class="id" title="var">F</span> : <span class="id" title="var">ptd_obj</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_ptd_mor</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span>:=<span class="id" title="var">id_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>) (<span class="id" title="var">ptd_pt</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ptd_mor_pt</span> {<span class="id" title="var">C</span>:<span class="id" title="var">precategory</span>} <span class="id" title="var">hs</span> (<span class="id" title="var">F</span>:<span class="id" title="var">ptd_obj</span> <span class="id" title="var">C</span>) : <span class="id" title="var">ptd_mor</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>) <span class="id" title="var">F</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">ptd_pt</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> ,, <span class="id" title="var">is_ptd_mor_pt</span> <span class="id" title="var">hs</span> <span class="id" title="var">F</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> σ := (<span class="id" title="var">lm_mult</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">SignatureLiftModule</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">hsC</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">hsD</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">Signature</span> <span class="id" title="var">C</span> <span class="id" title="var">hsC</span> <span class="id" title="var">D</span> <span class="id" title="var">hsD</span>).<br/>

<br/>
</div>

<div class="doc">
The forgetful functor from pointed endofunctors to endofunctors 
</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'U'" := (<span class="id" title="var">functor_ptd_forget</span> <span class="id" title="var">C</span> <span class="id" title="var">hsC</span>).<br/>
</div>

<div class="doc">
The precategory of pointed endofunctors on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'Ptd'" := (<span class="id" title="var">precategory_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hsC</span>).<br/>
</div>

<div class="doc">
The category of endofunctors on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'EndC'":= ([<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hsC</span>]) .<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) (<span class="id" title="var">M</span> : <span class="id" title="var">LModule</span> <span class="id" title="var">T</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">Mf</span> := (<span class="id" title="var">M</span> : <span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'p' T" := (<span class="id" title="var">ptd_from_mon</span> <span class="id" title="var">hsC</span> <span class="id" title="var">T</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3).<br/>

<br/>
</div>

<div class="doc">
The pointed functor TT 
</div>
<div class="code">
<span class="id" title="keyword">Let</span>  <span class="id" title="var">T2</span> := (<span class="id" title="var">ptd_composite</span> <span class="id" title="var">_</span> <span class="id" title="var">hsC</span> (<span class="id" title="var">p</span> <span class="id" title="var">T</span>) (<span class="id" title="var">p</span> <span class="id" title="var">T</span>)) .<br/>

<br/>
</div>

<div class="doc">
The multiplication of a monad is a morphism of pointed endofunctors 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_ptd_mor_μ</span> : <span class="id" title="var">is_ptd_mor</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span>:= <span class="id" title="var">T2</span>) (<span class="id" title="var">G</span>:=<span class="id" title="var">p</span> <span class="id" title="var">T</span>)  (<span class="id" title="var">μ</span> <span class="id" title="var">T</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Monad_law2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ptd_mor_from_μ</span> : <span class="id" title="var">ptd_mor</span> <span class="id" title="var">_</span> <span class="id" title="var">T2</span> (<span class="id" title="var">p</span> <span class="id" title="var">T</span>) := (<span class="id" title="var">_</span> ,, <span class="id" title="var">is_ptd_mor_μ</span>).<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">strength_law1_pw</span> <span class="id" title="var">M</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_trans_eq_pointwise</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">θ_Strength1_int_implies_θ_Strength1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Sig_strength_law1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> ) <span class="id" title="var">M</span>) <span class="id" title="var">x</span>.<br/>

<br/>
</div>

<div class="doc">
A pointwise version of the second strength law with only one identity instead
    of two α<i>functor 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">strength_law2_pw</span> :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">X</span> : <span class="id" title="var">EndC</span>) (<span class="id" title="var">Z</span> <span class="id" title="var">Z'</span> : <span class="id" title="var">Ptd</span>) <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;((<span class="id" title="var">theta</span> <span class="id" title="var">H</span>) (<span class="id" title="var">X</span> ⊗ (<span class="id" title="var">Z</span> <span class="id" title="var">p</span>• <span class="id" title="var">Z'</span>)) : <span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> =<br/>
&nbsp;&nbsp;((<span class="id" title="var">theta</span> <span class="id" title="var">H</span>) (<span class="id" title="var">X</span> ⊗ <span class="id" title="var">Z'</span>) •• (<span class="id" title="var">U</span> <span class="id" title="var">Z</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;·<br/>
&nbsp;&nbsp;((<span class="id" title="var">theta</span> <span class="id" title="var">H</span>) ((<span class="id" title="var">functor_compose</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsC</span> (<span class="id" title="var">U</span> <span class="id" title="var">Z'</span>) <span class="id" title="var">X</span>) ⊗ <span class="id" title="var">Z</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;·<br/>
&nbsp;&nbsp;(# <span class="id" title="var">H</span> (<span class="id" title="var">identity</span> (<span class="id" title="var">functor_compose</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsC</span> (<span class="id" title="var">U</span> <span class="id" title="var">Z</span> ∙ <span class="id" title="var">U</span> <span class="id" title="var">Z'</span>) <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: [<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hsC</span>] ⟦ <span class="id" title="var">functor_compose</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsC</span> (<span class="id" title="var">U</span> <span class="id" title="var">Z</span>) (<span class="id" title="var">U</span> <span class="id" title="var">Z'</span> ∙ <span class="id" title="var">X</span> : [<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hsC</span>]),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_compose</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsC</span> (<span class="id" title="var">U</span> <span class="id" title="var">Z</span> ∙ <span class="id" title="var">U</span> <span class="id" title="var">Z'</span>) <span class="id" title="var">X</span> ⟧) : <span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> <span class="id" title="var">Z'</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">θ_Strength2_int_implies_θ_Strength2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Sig_strength_law2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="var">X</span> <span class="id" title="var">Z</span> <span class="id" title="var">Z'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">identity</span> <span class="id" title="var">_</span>) ) <span class="id" title="var">x</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">nat_trans_eq_pointwise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_id</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">θ_nat_2_pw</span> := (<span class="id" title="var">θ_nat_2_pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> (<span class="id" title="var">theta</span> <span class="id" title="var">H</span>)).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">θ_nat_1_pw</span> := (<span class="id" title="var">θ_nat_1_pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> (<span class="id" title="var">theta</span> <span class="id" title="var">H</span>) ).<br/>

<br/>
</div>

<div class="doc">
The module multiplication is given by

<div class="paragraph"> </div>

         Θ<i>M,T        H(σ)
H(M) T ------&gt; H(MT) ------&gt; H(M)

<div class="paragraph"> </div>


</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_lm_mult</span> : [<span class="id" title="var">C</span>,<span class="id" title="var">D</span>, <span class="id" title="var">hsD</span>] ⟦ <span class="id" title="var">T</span> ∙ <span class="id" title="var">H</span> <span class="id" title="var">Mf</span> , <span class="id" title="var">H</span> <span class="id" title="var">Mf</span>⟧ :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_trans_comp</span> ((<span class="id" title="var">theta</span> <span class="id" title="var">H</span>) ((<span class="id" title="var">M</span> : <span class="id" title="var">C</span> ⟶ <span class="id" title="var">C</span>),, <span class="id" title="var">ptd_from_mon</span> <span class="id" title="var">hsC</span> <span class="id" title="var">T</span>)) (# <span class="id" title="var">H</span> (σ <span class="id" title="var">M</span>)).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_LModule_data</span> : <span class="id" title="var">LModule_data</span> <span class="id" title="var">T</span> <span class="id" title="var">D</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span>=&gt; [<span class="id" title="var">C</span>,<span class="id" title="var">D</span>, <span class="id" title="var">hsD</span>] ⟦  <span class="id" title="var">T</span> ∙ <span class="id" title="var">x</span>, <span class="id" title="var">x</span>⟧) (<span class="id" title="var">H</span> <span class="id" title="var">Mf</span>) <span class="id" title="var">lift_lm_mult</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">lift_lm_mult_laws</span> : <span class="id" title="var">LModule_laws</span> <span class="id" title="var">_</span> <span class="id" title="var">lift_LModule_data</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">θ_nat_2_pw</span> <span class="id" title="var">Mf</span> (<span class="id" title="var">id_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hsC</span>) (<span class="id" title="var">p</span> <span class="id" title="var">T</span>) (<span class="id" title="var">ptd_mor_pt</span> <span class="id" title="var">hsC</span> <span class="id" title="var">_</span>) <span class="id" title="var">c</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">horcomp_pre_post</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">category_pair</span> <span class="id" title="var">_</span> <span class="id" title="var">hsC</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">strength_law1_pw</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[|<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp_pw</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [|<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> (<span class="id" title="var">functor_id</span> <span class="id" title="var">H</span> <span class="id" title="var">Mf</span>))].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_cancel_pw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hsC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">LModule_law1</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="var">θ_nat_2_pw</span> <span class="id" title="var">Mf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ptd_mor_from_μ</span>)  <span class="id" title="var">c</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">strength_law2_pw</span> <span class="id" title="var">Mf</span> (<span class="id" title="var">p</span> <span class="id" title="var">T</span>) (<span class="id" title="var">p</span> <span class="id" title="var">T</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">θ_nat_1_pw</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (σ <span class="id" title="var">M</span>) (<span class="id" title="var">p</span> <span class="id" title="var">T</span>) <span class="id" title="var">c</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_comp_pw</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsD</span> <span class="id" title="var">H</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_comp_pw</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsD</span> <span class="id" title="var">H</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_comp_pw</span> <span class="id" title="var">hsC</span> <span class="id" title="var">hsD</span> <span class="id" title="var">H</span>)|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_cancel_pw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hsC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_id</span>,<span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">LModule_law2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">lift_lmodule</span> : <span class="id" title="var">LModule</span> <span class="id" title="var">T</span> <span class="id" title="var">D</span> := (<span class="id" title="var">lift_LModule_data</span>,, <span class="id" title="var">lift_lm_mult_laws</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">SignatureLiftModule</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">InitialRep</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab2009"></a><h2 class="section">Some variables and assumptions</h2>

<div class="paragraph"> </div>

 Assume having a precategory <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> whose hom-types are sets 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">CP</span> : <span class="id" title="var">BinCoproducts</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'EndC'":= ([<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hs</span>]) .<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">hsEndC</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">EndC</span> := <span class="id" title="var">functor_category_has_homsets</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>.<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">CPEndC</span> : <span class="id" title="var">BinCoproducts</span> <span class="id" title="var">EndC</span> := <span class="id" title="var">BinCoproducts_functor_precat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">CP</span> <span class="id" title="var">hs</span>.<br/>

<br/>
</div>

<div class="doc">
Assume having a signature on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Variable</span> <span class="id" title="var">H</span> : <span class="id" title="var">Signature</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>.<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">θ</span> := <span class="id" title="var">theta</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">θ_nat_2_pw</span> := (<span class="id" title="var">θ_nat_2_pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> (<span class="id" title="var">theta</span> <span class="id" title="var">H</span>)).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">θ_nat_1_pw</span> := (<span class="id" title="var">θ_nat_1_pointwise</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> (<span class="id" title="var">theta</span> <span class="id" title="var">H</span>)).<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">Id_H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">EndC</span> <span class="id" title="var">EndC</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">BinCoproduct_of_functors</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">CPEndC</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constant_functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_identity</span> <span class="id" title="var">_</span> : <span class="id" title="var">EndC</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">Alg</span> : <span class="id" title="var">precategory</span> := <span class="id" title="var">FunctorAlg</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">hsEndC</span>.<br/>

<br/>
</div>

<div class="doc">
The category of endofunctors on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'EndC'":= ([<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hs</span>]) .<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'p' T" := (<span class="id" title="var">ptd_from_alg</span> <span class="id" title="var">T</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">η</span> := @<span class="id" title="var">eta_from_alg</span>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#T"><span class="id" title="variable">T</span></a></span> be a heterogeneous substitution system.
  Then <span class="inlinecode">τ</span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#T"><span class="id" title="variable">T</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#T"><span class="id" title="variable">T</span></a></span> is a module morphism
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">TauModuleMorphism</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">T</span> : <span class="id" title="var">hss</span> <span class="id" title="var">CP</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_mon</span> := (<span class="id" title="var">Monad_from_hss</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_mod</span> := (<span class="id" title="var">tautological_LModule</span> <span class="id" title="var">T_mon</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">HT_mod</span> := (<span class="id" title="var">lift_lmodule</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">T_mod</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> τ<span class="id" title="var">_lmodule_laws</span> : <span class="id" title="var">LModule_Mor_laws</span> <span class="id" title="var">T_mon</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">HT_mod</span>) (<span class="id" title="var">T'</span> := <span class="id" title="var">T_mod</span>) (τ <span class="id" title="var">T</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> (<span class="id" title="var">fbracket_</span>τ <span class="id" title="var">T</span>  (<span class="id" title="var">Z</span>:= <span class="id" title="var">p</span> <span class="id" title="var">T</span>)(<span class="id" title="var">identity</span> <span class="id" title="var">_</span> )) <span class="id" title="var">a</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> τ<span class="id" title="var">_lmodule_mor</span> :  <span class="id" title="var">LModule_Mor</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">LModule_Mor_laws</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) <span class="id" title="var">_</span> τ<span class="id" title="var">_lmodule_laws</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">TauModuleMorphism</span>.<br/>

<br/>
</div>

<div class="doc">
Let (M, τ<i>M) be a representation in the sense of Hirschowitz &amp; Maggesi :
<ul class="doclist">
<li> M is a monad

</li>
<li> <span class="inlinecode">τ<span class="id" title="var">_M</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">HM</span></span> <span class="inlinecode">---&gt;</span> <span class="inlinecode"><span class="id" title="var">M</span></span> is a module morphism

</li>
</ul>

<div class="paragraph"> </div>

Then there exists a unique monad morphism j : T --&gt; M that is compatible with τ<i>M, τ<i>T
     where T is the initial HSS.

<div class="paragraph"> </div>

In other words, T is the initial representation in the sense of H&amp;M

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variables</span> (<span class="id" title="var">IC</span> : <span class="id" title="var">Initial</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">CC</span> : <span class="id" title="var">Colims_of_shape</span> <span class="id" title="var">nat_graph</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">HH</span> : <span class="id" title="var">is_omega_cocont</span> <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">T</span> := <span class="id" title="var">InitHSS</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">CP</span> <span class="id" title="var">IC</span> <span class="id" title="var">CC</span> <span class="id" title="var">H</span> <span class="id" title="var">HH</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_alg</span> := (<span class="id" title="var">alg_from_hss</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_mon</span> := (<span class="id" title="var">Monad_from_hss</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_func</span> := (<span class="id" title="var">T_mon</span> : <span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">T_hss</span> := (<span class="id" title="var">T</span>:<span class="id" title="var">hss</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">fix_a_representation</span>.<br/>

<br/>
<span class="id" title="keyword">Variables</span> (<span class="id" title="var">M</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">M_mod</span> := (<span class="id" title="var">tautological_LModule</span> <span class="id" title="var">M</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">HM_mod</span> := (<span class="id" title="var">lift_lmodule</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">M_mod</span>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> (τ<span class="id" title="var">_M</span>: <span class="id" title="var">LModule_Mor</span> <span class="id" title="var">M</span> <span class="id" title="var">HM_mod</span> <span class="id" title="var">M_mod</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">M_alg</span> : <span class="id" title="var">Alg</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">EndC</span> ⟦ <span class="id" title="var">Id_H</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ⟧) (<span class="id" title="var">M</span>:<span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrow</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Monads.η</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> τ<span class="id" title="var">_M</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
j : T --&gt; M is the initial Id+H-algebra morphism 
</div>
<div class="code">
<span class="id" title="keyword">Let</span> <span class="id" title="var">j</span> : <span class="id" title="var">Alg</span> ⟦<span class="id" title="var">T_alg</span>, <span class="id" title="var">M_alg</span>⟧ := <span class="id" title="var">InitialArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">M_alg</span>.<br/>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">InitialEndC</span> : <span class="id" title="var">Initial</span> <span class="id" title="var">EndC</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Initial_functor_precat</span>, <span class="id" title="var">IC</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">Colims_of_shape_nat_graph_EndC</span> : <span class="id" title="var">Colims_of_shape</span> <span class="id" title="var">nat_graph</span> <span class="id" title="var">EndC</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">colimits.ColimsFunctorCategory_of_shape</span>, <span class="id" title="var">CC</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">is_omega_cocont_Id_H'</span> := <span class="id" title="var">LiftingInitial_alt.is_omega_cocont_Id_H</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span> <span class="id" title="var">CP</span> <span class="id" title="var">H</span> <span class="id" title="var">HH</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <span class="id" title="var">j_mor</span> := ((<span class="id" title="var">mor_from_algebra_mor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
</div>

<div class="doc">
  Following Ralph's proof : we want to prove the square diagram for the
  monad morphism induced by
  the initial algebra morphism j : T --&gt; M :
<pre>
       jj
  TT ------&gt; MM
   |         |
μ_T|         | μ_M
   |         |
   V         V
   T ------&gt; M
       j
</pre>

<div class="paragraph"> </div>

The strategy is to show that both paths of the diagram satisfy the characteristic equation of
the same Mendler iterator. We use Lemma 8 from "Heteregenous substitution system revisited"
  (Benedikt Ahrens &amp; Ralph Matthes) with the following parameters :

<div class="paragraph"> </div>

    X := M
    L Z := Z·T
    F Z := (Id+H) Z

<div class="paragraph"> </div>

  And for any Z : EndC, h : LZ -&gt; X

<div class="paragraph"> </div>

    ψ<i>Z(h)  := <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#j"><span class="id" title="variable">j</span></a>,</span> <span class="inlinecode">τ<span class="id" title="var">_M</span></span> <span class="inlinecode">∘</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#h"><span class="id" title="variable">h</span></a></span> <span class="inlinecode">∘</span> <span class="inlinecode"><span class="id" title="var">Θ_Z</span>,(<a class="idref" href="UniMath.Foundations.Preamble.html#T"><span class="id" title="variable">T</span></a>,<span class="id" title="var">η</span>)</span>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">L</span> := (<span class="id" title="var">pre_composition_functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span> <span class="id" title="var">hs</span> <span class="id" title="var">T_func</span>).<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">X</span> := (<span class="id" title="var">M</span>:<span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">HL</span> : <span class="id" title="var">is_omega_cocont</span> <span class="id" title="var">L</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">OmegaCocontFunctors.is_omega_cocont_pre_composition_functor</span>, <span class="id" title="var">CC</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">isInitial_precomp'</span> : <span class="id" title="var">isInitial</span> [<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hs</span>] (<span class="id" title="var">L</span> <span class="id" title="var">InitialEndC</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">LiftingInitial_alt.isInitial_pre_comp</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span> <span class="id" title="var">IC</span> <span class="id" title="var">p</span> <span class="id" title="var">T_hss</span> : <span class="id" title="var">isInitial</span> [<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hs</span>] (<span class="id" title="var">L</span> <span class="id" title="var">InitialEndC</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> ψ<span class="id" title="var">_pw</span> <span class="id" title="var">Z</span> : <span class="id" title="var">_</span> ⟦ψ<span class="id" title="var">_source</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span> <span class="id" title="var">Z</span>, ψ<span class="id" title="var">_target</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span> <span class="id" title="var">Z</span>⟧ .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">BinCoproductArrow</span> <span class="id" title="var">EndC</span> (<span class="id" title="var">a</span>:= `<span class="id" title="var">T_hss</span>) (<span class="id" title="var">b</span>:= <span class="id" title="var">functor_composite</span> `<span class="id" title="var">T_hss</span> (<span class="id" title="var">H</span> <span class="id" title="var">Z</span>)) (<span class="id" title="var">CPEndC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">c</span>:=<span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> ((<span class="id" title="var">θ</span>  (<span class="id" title="var">Z</span> ⊗ (<span class="id" title="var">p</span> <span class="id" title="var">T_hss</span>)))·#<span class="id" title="var">H</span> <span class="id" title="var">h</span>· (τ<span class="id" title="var">_M</span>:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> ψ<span class="id" title="var">_nt</span> : <span class="id" title="var">is_nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ψ<span class="id" title="var">_pw</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">weqfunextsec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">precompWithBinCoproductArrow</span> <span class="id" title="var">C</span> (<span class="id" title="var">CP</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">CP</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">identity</span> <span class="id" title="var">_</span>) (((# <span class="id" title="var">H</span> <span class="id" title="var">a</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">T_func</span> <span class="id" title="var">c</span>))). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrow_eq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>,<span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">θ_nat_1_pw</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> (<span class="id" title="var">p</span> <span class="id" title="var">T_alg</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; <span class="id" title="var">revgoals</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">nat_trans_eq_pointwise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">H</span> (<span class="id" title="var">_</span>:<span class="id" title="var">EndC</span>⟦ <span class="id" title="var">T_mon</span> ∙ <span class="id" title="var">x'</span>, <span class="id" title="var">T_mon</span> ∙ <span class="id" title="var">x</span>⟧)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_cancel_pw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[|<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_id</span>   <span class="id" title="var">x</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> ψ  : (<span class="id" title="var">PreShv</span> <span class="id" title="var">EndC</span>)⟦ψ<span class="id" title="var">_source</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span> , ψ<span class="id" title="var">_target</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span>⟧ :=<br/>
&nbsp;&nbsp;(ψ<span class="id" title="var">_pw</span> ,, ψ<span class="id" title="var">_nt</span>).<br/>

<br/>
</div>

<div class="doc">
Uniqueness of the Mendler iterator characteristized by its equation 
</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">uniq_iter</span> :<br/>
&nbsp;&nbsp;∃! <span class="id" title="var">h</span> : [<span class="id" title="var">C</span>, <span class="id" title="var">C</span>, <span class="id" title="var">hs</span>] ⟦ <span class="id" title="var">L</span> `<span class="id" title="var">T_hss</span>, <span class="id" title="var">X</span> ⟧,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>) · <span class="id" title="var">h</span> = (ψ:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) `<span class="id" title="var">T_alg</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">GenMendlerIteration</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">InitialEndC</span> <span class="id" title="var">Colims_of_shape_nat_graph_EndC</span> <span class="id" title="var">Id_H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_omega_cocont_Id_H'</span> <span class="id" title="var">hsEndC</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">isInitial_precomp'</span> <span class="id" title="var">HL</span> ψ.<br/>

<br/>
</div>

<div class="doc">
The previous characteristic equation can be split as an equality between coproduct of arrows :
<ul class="doclist">
<li> h ∘ η<i>T = j_mor

</li>
<li> h ∘ τ<i>T = τ<i>M ∘ H h ∘ Θ<i>T,T

</li>
</ul>

<div class="paragraph"> </div>

where <span class="inlinecode"><span class="id" title="var">η_T</span>,</span> <span class="inlinecode">τ<span class="id" title="var">_T</span></span> : Id + HT --&gt; T

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">coprod_iter_eq</span> (<span class="id" title="var">h</span>:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;(∏ <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">BinCoproductIn1</span> <span class="id" title="var">C</span> (<span class="id" title="var">CP</span> (<span class="id" title="var">_</span> (<span class="id" title="var">T_mon</span> <span class="id" title="var">x</span>)) ((<span class="id" title="var">H</span> <span class="id" title="var">T_func</span>:<span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">T_mon</span> <span class="id" title="var">x</span>))) ·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> ·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">h</span> <span class="id" title="var">x</span> = <span class="id" title="var">j_mor</span> <span class="id" title="var">x</span>) -&gt;<br/>
&nbsp;&nbsp;(∏ <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">BinCoproductIn2</span> <span class="id" title="var">C</span> (<span class="id" title="var">CP</span> (<span class="id" title="var">_</span> (<span class="id" title="var">T_mon</span> <span class="id" title="var">x</span>)) ((<span class="id" title="var">H</span> <span class="id" title="var">T_func</span>:<span class="id" title="var">functor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">T_mon</span> <span class="id" title="var">x</span>))) ·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> · <span class="id" title="var">h</span> <span class="id" title="var">x</span> =<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">θ</span> (`<span class="id" title="var">T_alg</span> ⊗ <span class="id" title="var">p</span> <span class="id" title="var">T_alg</span>):<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> · (# <span class="id" title="var">H</span> <span class="id" title="var">h</span>:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> · τ<span class="id" title="var">_M</span> <span class="id" title="var">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>) · <span class="id" title="var">h</span> = (ψ:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) `<span class="id" title="var">T_alg</span> <span class="id" title="var">h</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hB1</span> <span class="id" title="var">hB2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrowEta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">postcompWithBinCoproductArrow</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrow_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hB1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hB2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Let</span> τ<span class="id" title="var">T</span> := τ<span class="id" title="var">_lmodule_mor</span> <span class="id" title="var">T</span>.<br/>

<br/>
</div>

<div class="doc">
j is a morphism of representation.
    It is exactly the 'H' part of the Id + H algebra morphism diagram 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">j_mor_rep</span> <span class="id" title="var">x</span> : τ<span class="id" title="var">T</span> <span class="id" title="var">x</span> · <span class="id" title="var">j_mor</span> <span class="id" title="var">x</span> = (# <span class="id" title="var">H</span> <span class="id" title="var">j_mor</span>:<span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">x</span> · τ<span class="id" title="var">_M</span> <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> (<span class="id" title="var">algebra_mor_commutes</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="var">x</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductIn2Commutes</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
j satisfies the η-related diagram of monad morphism.
         This is Id part of the Id+H-algebra morphism diagram 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">j_mon_η</span> :   ∏ <span class="id" title="var">a</span> : <span class="id" title="var">C</span>, (<span class="id" title="var">Monads.η</span> <span class="id" title="var">T_mon</span>) <span class="id" title="var">a</span> · <span class="id" title="var">j_mor</span> <span class="id" title="var">a</span> = (<span class="id" title="var">Monads.η</span> <span class="id" title="var">M</span>) <span class="id" title="var">a</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> (<span class="id" title="var">algebra_mor_commutes</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="var">a</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductIn1Commutes</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductIn1Commutes</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Let</span> <span class="id" title="var">j_ptd</span> : <span class="id" title="var">precategory_Ptd</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span> ⟦ <span class="id" title="var">ptd_from_mon</span> <span class="id" title="var">hs</span> <span class="id" title="var">T_mon</span>, <span class="id" title="var">ptd_from_mon</span> <span class="id" title="var">hs</span> <span class="id" title="var">M</span>⟧.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">j_mon_η</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
j is a monad morphism (following Ralph's proof). For the square diagram,
     we show that both parts satisfies the same Mendler iterator characteristic equation 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">j_mon_square_eq1</span> : # <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>) · ((<span class="id" title="var">μ</span> <span class="id" title="var">T_mon</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>, <span class="id" title="var">_</span>⟧) · <span class="id" title="var">j_mor</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ψ : <span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) `<span class="id" title="var">T_alg</span>  ((<span class="id" title="var">μ</span> <span class="id" title="var">T_mon</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>, <span class="id" title="var">_</span>⟧) · <span class="id" title="var">j_mor</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">coprod_iter_eq</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Monad_law1</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">T_mon</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">LModule_Mor_</span>σ <span class="id" title="var">_</span>  τ<span class="id" title="var">T</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">j_mor_rep</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">j_mon_square_eq2</span> :<br/>
&nbsp;&nbsp;# <span class="id" title="var">L</span> (<span class="id" title="var">alg_map</span> <span class="id" title="var">Id_H</span> <span class="id" title="var">T_alg</span>) ·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">j_mor</span> <span class="id" title="var">ø</span> <span class="id" title="var">T_mon</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>, <span class="id" title="var">_</span>∙<span class="id" title="var">_</span>⟧) · (<span class="id" title="var">M</span> ∘ <span class="id" title="var">j_mor</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>, <span class="id" title="var">_</span>∙<span class="id" title="var">_</span>⟧) · <span class="id" title="var">μ</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;(ψ : <span class="id" title="var">nat_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) `<span class="id" title="var">T_alg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">j_mor</span> <span class="id" title="var">ø</span> <span class="id" title="var">T_mon</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>, <span class="id" title="var">_</span>∙<span class="id" title="var">_</span>⟧) · (<span class="id" title="var">M</span> ∘ <span class="id" title="var">j_mor</span> : <span class="id" title="var">EndC</span> ⟦<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>, <span class="id" title="var">_</span>∙<span class="id" title="var">_</span>⟧) · <span class="id" title="var">μ</span> <span class="id" title="var">M</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">coprod_iter_eq</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">j_mon_η</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_ax</span> (<span class="id" title="var">Monads.η</span> <span class="id" title="var">M</span> )). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Monad_law1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">j_mor_rep</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_ax</span> τ<span class="id" title="var">_M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">LModule_Mor_</span>σ <span class="id" title="var">_</span>  τ<span class="id" title="var">_M</span> ( <span class="id" title="var">x</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">θ_nat_2_pw</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j_ptd</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">θ_nat_1_pw</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j_mor</span> (<span class="id" title="var">ptd_from_mon</span> <span class="id" title="var">hs</span> <span class="id" title="var">T_mon</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp_pw</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_cancel_pw</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">j_mon_laws</span> : <span class="id" title="var">Monad_Mor_laws</span> (<span class="id" title="var">T</span>:=<span class="id" title="var">T_mon</span>) (<span class="id" title="var">T'</span>:=<span class="id" title="var">M</span>) (<span class="id" title="var">mor_from_algebra_mor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_eq_pointwise</span> (<span class="id" title="var">a</span>:= <span class="id" title="var">compose</span> (<span class="id" title="var">C</span>:=<span class="id" title="var">EndC</span>)  (<span class="id" title="var">μ</span> <span class="id" title="var">T_mon</span>) <span class="id" title="var">j_mor</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a'</span>:= <span class="id" title="var">compose</span>(<span class="id" title="var">C</span>:=<span class="id" title="var">EndC</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">compose</span> (<span class="id" title="var">C</span>:=<span class="id" title="var">EndC</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span>:=<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">b</span>:=<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span>:=<span class="id" title="var">_</span>∙<span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j_mor</span> <span class="id" title="var">ø</span> <span class="id" title="var">T_mon</span> ) (<span class="id" title="var">M</span> ∘ <span class="id" title="var">j_mor</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">μ</span> <span class="id" title="var">M</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">uniqueExists</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">uniq_iter</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">j_mon_square_eq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">j_mon_square_eq2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">j_mon_η</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">j_mon</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T_mon</span> <span class="id" title="var">M</span> :=   <span class="id" title="var">_</span> ,, <span class="id" title="var">j_mon_laws</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">fix_a_representation</span>.<br/>

<br/>
</div>

<div class="doc">
TODO:

<div class="paragraph"> </div>

  To assemble the above results into a concise statement,
  we would need to define the category of representations
  of a signature (H,θ).

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">InitialRep</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>