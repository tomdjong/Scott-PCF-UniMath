<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.Algebra.Domains_and_Fields</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab535"></a><h1 class="section">Algebra I. Part E. Integral domains and fields. Vladimir Voevodsky. Aug. 2011 - .</h1>

</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.Groups</span>.<br/>
</div>

<div class="doc">
<a name="lab536"></a><h2 class="section">Contents</h2>

<ul class="doclist">
<li> Integral domains and fields
<ul class="doclist">
<li> Integral domains
<ul class="doclist">
<li> General definitions

</li>
<li> Computation lemmas for integral domains

</li>
<li> Multiplicative submonoid of non-zero elements

</li>
<li> Relations similar to "greater" on integral domains

</li>
</ul>

</li>
<li> Fields
<ul class="doclist">
<li> Main definitions

</li>
<li> Field of fractions of an integral domain with decidable equality

</li>
<li> Canonical homomorphism to the field of fractions

</li>
</ul>

</li>
<li> Relations similar to "greater" on field of fractions
<ul class="doclist">
<li> Description of the field of fractions as the ring of fractions
    with respect to the submonoid of "positive" elements

</li>
<li> Definition and properties of "greater" on the field of fractions

</li>
<li> Relations and the canonical homomorphism to the field of fractions

</li>
</ul>

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

<a name="lab537"></a><h2 class="section">Preamble</h2>

<div class="paragraph"> </div>

 Settings 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">Kernel</span> <span class="id" title="var">Term</span> <span class="id" title="var">Sharing</span>.<br/>

<br/>
</div>

<div class="doc">
Imports 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.Algebra.RigsAndRings</span>.<br/>

<br/>
</div>

<div class="doc">
To upstream files 
<div class="paragraph"> </div>

 To one binary operation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islcancelableif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) : <span class="id" title="var">islcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isinclbetweensets</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrcancelableif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) : <span class="id" title="var">isrcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isinclbetweensets</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscancelableif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isr</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span> := <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">islcancelableif</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">isl</span>) (<span class="id" title="var">isrcancelableif</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">isr</span>).<br/>

<br/>
</div>

<div class="doc">
To monoids 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">multmonoid_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">linvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) 1).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1linvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">X</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">linvpairxy</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) (<span class="id" title="var">y'</span> : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">y'</span>) * (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">y'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lcanfromlinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">c'</span> : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">c</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">c</span> * <span class="id" title="var">a</span>) (<span class="id" title="var">c</span> * <span class="id" title="var">b</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">a</span> = <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">pr1</span> <span class="id" title="var">c'</span>) * <span class="id" title="var">x</span>) <span class="id" title="var">e</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">c'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">X</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e'</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>) 1).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1rinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">X</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rinvpairxy</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) (<span class="id" title="var">y'</span> : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">y'</span>) * (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">y'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rcanfromrinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">c'</span> : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">c</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">a</span> * <span class="id" title="var">c</span> ) (<span class="id" title="var">b</span> * <span class="id" title="var">c</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">a</span> = <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">x</span> * (<span class="id" title="var">pr1</span> <span class="id" title="var">c'</span>)) <span class="id" title="var">e</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)  <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">c'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">X</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e'</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pathslinvtorinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) (<span class="id" title="var">x''</span> : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">x''</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">runax</span> <span class="id" title="var">X</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)). &nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x''</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">x</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">x''</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">lunax</span> <span class="id" title="var">X</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x''</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>). &nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">dirprod</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) 1) (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>) 1)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1invpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">X</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invtolinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) : <span class="id" title="var">linvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invtorinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) : <span class="id" title="var">rinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">isapropdirprod</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathslinvtorinv</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> (<span class="id" title="var">invtolinv</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">invtorinv</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">x''</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invpairxy</span> (<span class="id" title="var">X</span> : <span class="id" title="var">monoid</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) (<span class="id" title="var">y'</span> : <span class="id" title="var">invpair</span> <span class="id" title="var">X</span> <span class="id" title="var">y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">invpair</span> <span class="id" title="var">X</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">y'</span>) * (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">linvpairxy</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">invtolinv</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">invtolinv</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">rinvpairxy</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">invtorinv</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">invtorinv</span> <span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span>))).<br/>
</div>

<br/>
</div>

<div class="doc">
To groups 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">grfrompathsxy</span> (<span class="id" title="var">X</span> : <span class="id" title="var">gr</span>) {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>) : <span class="id" title="var">paths</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">X</span> <span class="id" title="var">b</span>)) (<span class="id" title="var">unel</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">X</span> <span class="id" title="var">b</span>)) <span class="id" title="var">e</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grrinvax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">e'</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">grtopathsxy</span> (<span class="id" title="var">X</span> : <span class="id" title="var">gr</span>) {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">X</span> <span class="id" title="var">b</span>)) (<span class="id" title="var">unel</span> <span class="id" title="var">X</span>) ) : <span class="id" title="var">a</span> = <span class="id" title="var">b</span> .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">b</span>) <span class="id" title="var">e</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">e'</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
To rigs 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">multlinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">rig</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">linvpair</span> (<span class="id" title="var">rigmultmonoid</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">multrinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">rig</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">rinvpair</span> (<span class="id" title="var">rigmultmonoid</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">multinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">rig</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">invpair</span> (<span class="id" title="var">rigmultmonoid</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigneq0andmultlinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">rig</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">isnm</span> : ((<span class="id" title="var">n</span> * <span class="id" title="var">m</span>) != 0)%<span class="id" title="var">rig</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">n</span> != 0%<span class="id" title="var">rig</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">rigmult0x</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isnm</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigneq0andmultrinv</span> (<span class="id" title="var">X</span> : <span class="id" title="var">rig</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">isnm</span> : ((<span class="id" title="var">n</span> * <span class="id" title="var">m</span>) != 0)%<span class="id" title="var">rig</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">m</span> != 0%<span class="id" title="var">rig</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">rigmultx0</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isnm</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">
To rings 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringneq0andmultlinv</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">isnm</span> : ((<span class="id" title="var">n</span> * <span class="id" title="var">m</span>) != 0)) : <span class="id" title="var">n</span> != 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isnm</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringneq0andmultrinv</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">isnm</span> : ((<span class="id" title="var">n</span> * <span class="id" title="var">m</span>) != 0)) : <span class="id" title="var">m</span> != 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmultx0</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">isnm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isnm</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringpossubmonoid</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">submonoid</span> (<span class="id" title="var">ringmultmonoid</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">R</span> <span class="id" title="var">x</span> 0). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">is1</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x1</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvringmultgtif</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isa</span> : <span class="id" title="var">isasymm</span> <span class="id" title="var">R</span>) : <span class="id" title="var">isinvringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">rab0</span> <span class="id" title="var">ra0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : <span class="id" title="var">b</span> != 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rab0</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmultx0</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">rab0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isa</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab0</span> <span class="id" title="var">rab0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">int</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g</span> | <span class="id" title="var">l</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">int'</span> := <span class="id" title="var">ringmultgt0lt0</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">ra0</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isa</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab0</span> <span class="id" title="var">int'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">rab0</span> <span class="id" title="var">rb0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : <span class="id" title="var">a</span> != 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rab0</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">rab0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isa</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab0</span> <span class="id" title="var">rab0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">int</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g</span> | <span class="id" title="var">l</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">int'</span> := <span class="id" title="var">ringmultlt0gt0</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">l</span> <span class="id" title="var">rb0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">isa</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab0</span> <span class="id" title="var">int'</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab538"></a><h2 class="section">Standard Algebraic Structures (cont.) Integral domains and Fileds.</h2>


<div class="paragraph"> </div>

Some of the notions considered in this section were introduced in C. Mulvey "Intuitionistic algebra
and representations of rings". See also P.T. Johnstone "Rings, fields and spectra". We only
consider here the strongest ("geometric") forms of the conditions of integrality and of being a
field. In particular all our fileds have decidable equality and p-adic numbers or reals are not
fileds in the sense of the definitions considered here. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab539"></a><h3 class="section">Integral domains</h3>

<div class="paragraph"> </div>

<a name="lab540"></a><h4 class="section">General definitions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isnonzerolinvel</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">multlinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;((<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) != 0).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">negf</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">X</span>, <span class="id" title="var">a</span> * <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) 1) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">neg</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) (0 * <span class="id" title="var">x</span>))). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isnonzerorinvel</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">multrinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;((<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) != 0).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">negf</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">X</span>, <span class="id" title="var">x</span> * <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) 1) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">neg</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">x</span> * 0))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmultx0</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isnonzerofromlinvel</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">multlinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">x</span> != 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">negf</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) * <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) 1) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">neg</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span> * <span class="id" title="var">x</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) * 0))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmultx0</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isnonzerofromrinvel</span> (<span class="id" title="var">X</span> : <span class="id" title="tactic">ring</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">x'</span> : <span class="id" title="var">multrinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">x</span> != 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">negf</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">X</span>, <span class="id" title="var">a</span> * (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) 1) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">neg</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>) (0 * (<span class="id" title="var">pr1</span> <span class="id" title="var">x'</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isintdom</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (<span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) (∏ (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">X</span>), <span class="id" title="var">paths</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) 0 -&gt; <span class="id" title="var">hdisj</span> (<span class="id" title="var">eqset</span> <span class="id" title="var">a1</span> 0) (<span class="id" title="var">eqset</span> <span class="id" title="var">a2</span> 0)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisintdom</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isintdom</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">propproperty</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>. <span class="id" title="var">use</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x2</span>. <span class="id" title="var">use</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">propproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isapropisintdom</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdom</span> : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">commring</span>, <span class="id" title="var">isintdom</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1intdom</span> : <span class="id" title="var">intdom</span> -&gt; <span class="id" title="var">commring</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1intdom</span> : <span class="id" title="var">intdom</span> &gt;-&gt; <span class="id" title="var">commring</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nonzeroax</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) : <span class="id" title="var">neg</span> (@<span class="id" title="var">paths</span> <span class="id" title="var">X</span> 1 0) := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdomax</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">X</span>), (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) = 0 -&gt; <span class="id" title="var">hdisj</span> (<span class="id" title="var">eqset</span> <span class="id" title="var">a1</span> 0) (<span class="id" title="var">eqset</span> <span class="id" title="var">a2</span> 0) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab541"></a><h4 class="section">(X = Y) ≃ (ringiso X Y)</h4>

   We use the following composition

<div class="paragraph"> </div>

                            (X = Y) ≃ (pr1 X = pr1 Y)
                                    ≃ (ringiso X Y)

<div class="paragraph"> </div>

  where the second weak equivalence is given by univalence for commrings, <span class="inlinecode"><span class="id" title="var">commring_univalence</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdom_univalence_weq1</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">intdom</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">subtypeInjectivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisintdom</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">intdom_univalence_weq1</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdom_univalence_weq2</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">intdom</span>) : (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">commring_univalence</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdom_univalence_map</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">intdom</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) -&gt; (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idrigiso</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdom_univalence_isweq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">intdom</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">intdom_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweqhomot</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">intdom_univalence_weq1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">intdom_univalence_weq2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqcomp_to_funcomp_app</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">weqproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">intdom_univalence_isweq</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdom_univalence</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">intdom</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">intdom_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">intdom_univalence_isweq</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">intdom_univalence</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab542"></a><h4 class="section">Computational lemmas for integral domains</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdomax2l</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) 0) (<span class="id" title="var">ne</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">y</span> = 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int'</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">x</span> != 0 -&gt; <span class="id" title="var">y</span> = 0)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> <span class="id" title="var">int'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ene</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ene</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e''</span> | <span class="id" title="var">ne'</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne</span> <span class="id" title="var">e''</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ne'</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdomax2r</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * <span class="id" title="var">y</span>) 0) (<span class="id" title="var">ne</span> : <span class="id" title="var">y</span> != 0) : <span class="id" title="var">x</span> = 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int'</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">y</span> != 0 -&gt; <span class="id" title="var">x</span> = 0)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> <span class="id" title="var">int'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ene</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ene</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e''</span> | <span class="id" title="var">ne'</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne</span> <span class="id" title="var">ne'</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdomneq0andmult</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">isn</span> : <span class="id" title="var">n</span> != 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ism</span> : <span class="id" title="var">m</span> != 0) : ((<span class="id" title="var">n</span> * <span class="id" title="var">m</span>) != 0).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ism</span> (<span class="id" title="var">intdomax2l</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">e</span> <span class="id" title="var">isn</span> )).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdomlcan</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>), <span class="id" title="var">c</span> != 0 -&gt; <span class="id" title="var">paths</span> (<span class="id" title="var">c</span> * <span class="id" title="var">a</span>) (<span class="id" title="var">c</span> * <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">ne</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">grtopathsxy</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">a</span> - <span class="id" title="var">b</span>) 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">grfrompathsxy</span> <span class="id" title="var">X</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> ((<span class="id" title="var">c</span> * <span class="id" title="var">a</span>) - (<span class="id" title="var">c</span> * <span class="id" title="var">b</span>)) 0) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">ringldistr</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int'</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">c</span> != 0 -&gt; <span class="id" title="var">paths</span> (<span class="id" title="var">a</span> - <span class="id" title="var">b</span>) 0)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> <span class="id" title="var">int'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ene</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ene</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e''</span> | <span class="id" title="var">ne'</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne</span> <span class="id" title="var">e''</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ne'</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">intdomlcan</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdomrcan</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>), <span class="id" title="var">c</span> != 0 -&gt; <span class="id" title="var">paths</span> (<span class="id" title="var">a</span> * <span class="id" title="var">c</span>) (<span class="id" title="var">b</span> * <span class="id" title="var">c</span>) -&gt; <span class="id" title="var">a</span> = <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">ne</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> (@<span class="id" title="var">grtopathsxy</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">a</span> - <span class="id" title="var">b</span>) 0).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">grfrompathsxy</span> <span class="id" title="var">X</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> ((<span class="id" title="var">a</span> * <span class="id" title="var">c</span>) - (<span class="id" title="var">b</span> * <span class="id" title="var">c</span>)) 0) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">ringrdistr</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span>). <span class="id" title="tactic">generalize</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int'</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">c</span> != 0 -&gt; <span class="id" title="var">paths</span> (<span class="id" title="var">a</span> - <span class="id" title="var">b</span>) 0)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> <span class="id" title="var">int'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">ene</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ene</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e''</span> | <span class="id" title="var">ne'</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne</span> <span class="id" title="var">ne'</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">intdomrcan</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">intdomiscancelable</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">iscancelable</span> (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscancelableif</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomlcan</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab543"></a><h4 class="section">Multiplicative submonoid of non-zero elements</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdomnonzerosubmonoid</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) : @<span class="id" title="var">subabmonoid</span> (<span class="id" title="var">ringmultabmonoid</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">x</span> = 0))). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">b</span>) <span class="id" title="var">e</span>). <span class="id" title="var">clearbody</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">toneghdisj</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab544"></a><h4 class="section">Relations similar to "greater" on integral domains</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">intdomnonzerotopos</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> : <span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) : <span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x</span>) 0 (<span class="id" title="var">pr2</span> <span class="id" title="var">x</span>)) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g</span> | <span class="id" title="var">l</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x</span>) <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (- (<span class="id" title="var">pr1</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ringtogt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">is0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringminusminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">l</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab545"></a><h3 class="section">Ring units (i.e. multilicatively invertible elements)</h3>

<div class="paragraph"> </div>

<a name="lab546"></a><h3 class="section">Fields</h3>

<div class="paragraph"> </div>

<a name="lab547"></a><h4 class="section">Main definitions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isafield</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">isnonzerorig</span> <span class="id" title="var">X</span>) × (∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">multinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) ⨿ (<span class="id" title="var">x</span> = 0)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisafield</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isafield</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">propproperty</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropcoprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isapropinvpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (@<span class="id" title="var">multx0_is_l</span> <span class="id" title="var">X</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">dirprod_pr1</span> (<span class="id" title="var">ringop1axs</span> <span class="id" title="var">X</span>)) (<span class="id" title="var">ringop2axs</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ringdistraxs</span> <span class="id" title="var">X</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">H'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span> , <span class="id" title="var">op2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">H'</span>) <span class="id" title="var">y</span>) <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (! <span class="id" title="var">dirprod_pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">H'</span>)).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isapropisafield</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fld</span> : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">commring</span>, <span class="id" title="var">isafield</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isafield</span> <span class="id" title="var">X</span>) : <span class="id" title="var">fld</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1fld</span> : <span class="id" title="var">fld</span> -&gt; <span class="id" title="var">commring</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldtointdom</span> (<span class="id" title="var">X</span> : <span class="id" title="var">fld</span>) : <span class="id" title="var">intdom</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>). <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>) <span class="id" title="var">a1</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">a1'</span> | <span class="id" title="var">e0</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">e12</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">ringmultx0</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) <span class="id" title="var">a1</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e2</span> := <span class="id" title="var">lcanfromlinv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">invtolinv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a1'</span>) <span class="id" title="var">e12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">ii2</span> <span class="id" title="var">e2</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">e12</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">ii1</span> <span class="id" title="var">e0</span>)).<br/>
</div>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">fldtointdom</span> : <span class="id" title="var">fld</span> &gt;-&gt; <span class="id" title="var">intdom</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldchoice</span> {<span class="id" title="var">X</span> : <span class="id" title="var">fld</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : (<span class="id" title="var">multinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) ⨿ (<span class="id" title="var">x</span> = 0) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldmultinvpair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">fld</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">ne</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">multinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">fldchoice</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [ <span class="id" title="var">ne0</span> | <span class="id" title="var">e0</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ne0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne</span> <span class="id" title="var">e0</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldmultinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">fld</span>} (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">ne</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">X</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">fldmultinvpair</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">ne</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab548"></a><h4 class="section">(X = Y) ≃ (ringiso X Y)</h4>

   We use the following composition

<div class="paragraph"> </div>

                                (X = Y) ≃ (pr1 X = pr1 Y)
                                        ≃ (ringiso X Y)

<div class="paragraph"> </div>

   where the second weak equivalence is given by univalence for commrings, <span class="inlinecode"><span class="id" title="var">commring_univalence</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fld_univalence_weq1</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">fld</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">subtypeInjectivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisafield</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">fld_univalence_weq1</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fld_univalence_weq2</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">fld</span>) : (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">commring_univalence</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fld_univalence_map</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">fld</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) -&gt; (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idrigiso</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fld_univalence_isweq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">fld</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">fld_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweqhomot</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">fld_univalence_weq1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">fld_univalence_weq2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqcomp_to_funcomp_app</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">weqproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">fld_univalence_isweq</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fld_univalence</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">fld</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">ringiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">fld_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">fld_univalence_isweq</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">fld_univalence</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab549"></a><h4 class="section">Field of fractions of an integral domain with decidable equality</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldfracmultinvint</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xa</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) 0) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e0</span> | <span class="id" title="var">ne0</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> 1 (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> != 0) (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) <span class="id" title="var">ne0</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">
Note: we choose a strange from the mathematicians perspective approach to the definition of the
multiplicative inverse on non-zero elements of a field due to the current, somewhat less than
satisfactory, situation with computational behavior of our construction of set-quotients. The
particular problem is that the weak equivalence between "quotient of subtype" and "subtype of a
quotient" is not isomorphism in the syntactic category. This can be corrected by extension of the
type system with tfc-terms. See discussion in hSet.v 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">fldfracmultinvintcomp</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fldfracmultinvint</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x1</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xa1</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa1</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa1</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a1</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x2</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xa2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa2</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a2</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhfun</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracmultinvint</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa1</span>) 0) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e1</span> | <span class="id" title="var">ne1</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa2</span>) 0) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e2</span> | <span class="id" title="var">ne2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">aa0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x1</span> * <span class="id" title="var">a2</span> * <span class="id" title="var">a0</span>) (<span class="id" title="var">x2</span> * <span class="id" title="var">a1</span> * <span class="id" title="var">a0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">x1</span> = 0) <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">intdomax2r</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathsinv0</span> <span class="id" title="var">e</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e''</span> := <span class="id" title="var">intdomax2r</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne2</span> <span class="id" title="var">e''</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa2</span>) 0) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e2</span> | <span class="id" title="var">ne2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">aa0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x1</span> * <span class="id" title="var">a2</span> * <span class="id" title="var">a0</span>) (<span class="id" title="var">x2</span> * <span class="id" title="var">a1</span> * <span class="id" title="var">a0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">x2</span> = 0) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">intdomax2r</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <span class="id" title="var">e</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e''</span> := <span class="id" title="var">intdomax2r</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">ne1</span> <span class="id" title="var">e''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">aa0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">aa0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">x2</span> * <span class="id" title="var">a0</span>) (<span class="id" title="var">a2</span> * <span class="id" title="var">x1</span> * <span class="id" title="var">a0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x1</span> * <span class="id" title="var">a2</span> * <span class="id" title="var">a0</span>) (<span class="id" title="var">x2</span> * <span class="id" title="var">a1</span> * <span class="id" title="var">a0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringcomm2</span> <span class="id" title="var">X</span> <span class="id" title="var">a1</span> <span class="id" title="var">x2</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringcomm2</span> <span class="id" title="var">X</span> <span class="id" title="var">a2</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> <span class="id" title="var">e</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">fldfracmultinvintcomp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldfracmultinv0</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) := <span class="id" title="var">setquotfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">fldfracmultinvintcomp</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nonzeroincommringfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">commring</span>) (<span class="id" title="var">S</span> : @<span class="id" title="var">submonoid</span> (<span class="id" title="var">ringmultmonoid</span> <span class="id" title="var">X</span>)) (<span class="id" title="var">xa</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ne</span> : (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <span class="id" title="var">xa</span> !=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> 0 (<span class="id" title="var">unel</span> <span class="id" title="var">S</span>)))) : (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span> != 0).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">x</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">negf</span> (<span class="id" title="var">weqpathsinsetquot</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">ne</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">negf</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">unel</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * 1 * 1) (0 * (<span class="id" title="var">pr1</span> <span class="id" title="var">aa</span>) * 1)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">nonzeroincommringfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">zeroincommringfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="var">S</span> : @<span class="id" title="var">submonoid</span> (<span class="id" title="var">ringmultmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : ∏ <span class="id" title="var">s</span> : <span class="id" title="var">S</span>, (<span class="id" title="var">pr1</span> <span class="id" title="var">s</span> != 0)) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">aa</span> : <span class="id" title="var">S</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> <span class="id" title="var">S</span>) (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">x</span> <span class="id" title="var">aa</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> 0 (<span class="id" title="var">unel</span> <span class="id" title="var">S</span>)))) : <span class="id" title="var">x</span> = 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">invweq</span> (<span class="id" title="var">weqpathsinsetquot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">e</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">aa0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa0</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e2</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * 1 * <span class="id" title="var">a0</span>) (0 * <span class="id" title="var">a</span> * <span class="id" title="var">a0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringmult0x</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomax2r</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">a0</span> <span class="id" title="var">e2</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">aa0</span>)).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">zeroincommringfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isdeceqfldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isdeceq</span> (<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isdeceqcommringfrac</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isrcancelableif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b0</span> <span class="id" title="var">b1</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">a</span>) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islinvinfldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ne</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">paths</span> ((<span class="id" title="var">fldfracmultinv0</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>) * <span class="id" title="var">x</span>) 1.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : ∏ <span class="id" title="var">x0</span>, <span class="id" title="var">isaprop</span> (<span class="id" title="var">x0</span> != 0 -&gt; <span class="id" title="var">paths</span> ((<span class="id" title="var">fldfracmultinv0</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x0</span>) * <span class="id" title="var">x0</span>) 1)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> (<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) (<span class="id" title="var">fldfracmultinv0</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x0</span> * <span class="id" title="var">x0</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotunivprop</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">int</span> <span class="id" title="var">x0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">xa</span> <span class="id" title="var">ne</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dirprodpair</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">fldfracmultinvint</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">xa</span>)) * (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr2</span> (<span class="id" title="var">fldfracmultinvint</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">xa</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> 1 (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">weqpathsinsetquot</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracmultinvint</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) 0 ) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e0</span> | <span class="id" title="var">ne0'</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">nonzeroincommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) <span class="id" title="var">xa</span> <span class="id" title="var">ne</span> <span class="id" title="var">e0</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">a</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x</span> := (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) : <span class="id" title="var">X</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a</span> := (<span class="id" title="var">pr1</span> <span class="id" title="var">aa</span>) : <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">a</span> * <span class="id" title="var">x</span> * 1  * 1) (1 * (<span class="id" title="var">x</span> * <span class="id" title="var">a</span>) * 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringcomm2</span> <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">islinvinfldfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrinvinfldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ne</span> : <span class="id" title="var">x</span> != 0) : <span class="id" title="var">paths</span> (<span class="id" title="var">x</span> * (<span class="id" title="var">fldfracmultinv0</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>)) 1.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringcomm2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">islinvinfldfrac</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ne</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) : <span class="id" title="var">fld</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">zeroincommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>), <span class="id" title="var">pr2</span> <span class="id" title="var">a</span>) 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">unel</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span> <span class="id" title="var">e'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">isdeceqfldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> 0) <span class="id" title="keyword">as</span> [ <span class="id" title="var">e</span> | <span class="id" title="var">ne</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ii2</span> <span class="id" title="var">e</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">ii1</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">fldfracmultinv0</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">islinvinfldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">ne</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">isrinvinfldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">ne</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab550"></a><h4 class="section">Canonical homomorphism to the field of fractions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">x</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinop1funtofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">isbinopfun</span> <span class="id" title="var">X</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) := <span class="id" title="var">isbinop1funtocommringfrac</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunital1funtofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) : (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> 0) = 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isaddmonoidfuntofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> <span class="id" title="var">X</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isbinop1funtofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">isunital1funtofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tofldfracandminus0</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> (- <span class="id" title="var">x</span>)) (- <span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tocommringfracandminus0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">tofldfracandminus</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>)) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> - <span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tocommringfracandminus</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinop2funtofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">isbinopfun</span> (<span class="id" title="var">ringmultmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">ringmultmonoid</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isbinopfuntoabmonoidfrac</span> (<span class="id" title="var">ringmultabmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isbinop2funtofldfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunital2funtofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) : (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> 1) = 1.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isunital2funtofldfrac</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ismultmonoidfuntofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">ringmultmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">ringmultmonoid</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isbinop2funtofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">isunital2funtofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isringfuntofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">isringfun</span> <span class="id" title="var">X</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isaddmonoidfuntofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ismultmonoidfuntofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isincltofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isincl</span> (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isincltocommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">intdomiscancelable</span> <span class="id" title="var">X</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">x</span>))).<br/>

<br/>
</div>

<div class="doc">
<a name="lab551"></a><h3 class="section">Relations similar to "greater" on fields of fractions</h3>


<div class="paragraph"> </div>

Our approach here is slightly different from the tranditional one used for example in Bourbaki
Algebra II, Ch. VI, Section 2 where one starts with a total ordering on a ring and extends it to
its field of fractions. This situation woud be exemplified by the extension of "greater or equal"
from integers to rationals. We have chosen to use instead as our archetypical example the extension
of "greater" from integers to rationals. There is no particular difference between the two choices
for types with decidable equality but in the setting of general rings in constructive mathematics
the relations such as "greater" appear to be more fundamental than relations such as "greater or
equal". For example, "greater or equal" on constructive real numbers can be obtained from "greater"
but not vice versa. 
<div class="paragraph"> </div>

<a name="lab552"></a><h4 class="section">Description of the field of fractions as the ring of fractions with respect to the submonoid of "positive" elements</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weqfldfracgtint_f</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xa</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) 0 (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>))) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g</span> | <span class="id" title="var">l</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (- (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>)). <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (- (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">ringfromlt0</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">l</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqfldfracgtintcomp_f</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgtint_f</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x1</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xa1</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa1</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa1</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a1</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x2</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xa2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">aa2</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a2</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhfun</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">R</span> <span class="id" title="var">x</span> 0) 1 <span class="id" title="var">is2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">aa0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">a0</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">aa0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">x1</span> * <span class="id" title="var">a2</span> * <span class="id" title="var">a0</span>) (<span class="id" title="var">x2</span> * <span class="id" title="var">a1</span> * <span class="id" title="var">a0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa1</span>)) 0 (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa1</span>))) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g1</span> | <span class="id" title="var">l1</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>)) 0 (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>))) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g2</span> | <span class="id" title="var">l2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, - <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>)) 0 (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa2</span>))) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g2</span> | <span class="id" title="var">l2</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, - <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>) <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrunax2</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, - - <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">intdomrcan</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">aa0</span>) <span class="id" title="var">e</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">weqfldfracgtintcomp_f</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weqfldfracgt_f</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> -&gt; <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">setquotfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">weqfldfracgtintcomp_f</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weqfldfracgtint_b</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) (<span class="id" title="var">xa</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xa</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqfldfracgtintcomp_b</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) : <span class="id" title="var">iscomprelrelfun</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgtint_b</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhfun</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>)) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t2</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t2</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weqfldfracgt_b</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) -&gt; <span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">setquotfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">weqfldfracgtintcomp_b</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">weqfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">weq</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="var">weqfldfracgt_b</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">egf</span> : ∏ <span class="id" title="var">a</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfrac</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotunivprop</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isasetsetquot</span> <span class="id" title="var">_</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)) <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">xa</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgtint_b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span> (<span class="id" title="var">weqfldfracgtint_f</span> <span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">xa</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>)) <span class="id" title="var">xa</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">weqpathsinsetquot</span>). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) 0 (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>))) <span class="id" title="keyword">as</span> [ <span class="id" title="var">g'</span> | <span class="id" title="var">l'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">efg</span> : ∏ <span class="id" title="var">a</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>)) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfrac</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotunivprop</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isasetsetquot</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span>)) <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">xa</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">weqfldfracgtint_f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> (<span class="id" title="var">weqfldfracgtint_b</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span> <span class="id" title="var">xa</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)) <span class="id" title="var">xa</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">weqpathsinsetquot</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">R</span> <span class="id" title="var">x</span> 0) 1 <span class="id" title="var">is2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_f</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_b</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) 0 (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>))) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">nc</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)) 0 (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xa</span>)))) <span class="id" title="keyword">with</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">int</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">g'</span> | <span class="id" title="var">l'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringrmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ringlmultminus</span> <span class="id" title="var">X</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweq_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">egf</span> <span class="id" title="var">efg</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringfunweqfldfracgt_b</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) : <span class="id" title="var">isringfun</span> (<span class="id" title="var">weqfldfracgt_b</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> :=  <span class="id" title="var">weqfldfracgt_b</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g0</span> := <span class="id" title="var">weqfldfracgtint_b</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">g</span> (<span class="id" title="var">x</span> + <span class="id" title="var">x'</span>)) ((<span class="id" title="var">g</span> <span class="id" title="var">x</span>) + (<span class="id" title="var">g</span> <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotuniv2prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">setproperty</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">g</span> (<span class="id" title="var">x</span> + <span class="id" title="var">x'</span>)) ((<span class="id" title="var">g</span> <span class="id" title="var">x</span>) + (<span class="id" title="var">g</span> <span class="id" title="var">x'</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g0</span> (<span class="id" title="var">commringfracop1int</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">commringfracop1int</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">g0</span> <span class="id" title="var">xa1</span>) (<span class="id" title="var">g0</span> <span class="id" title="var">xa2</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">g0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">commringfracop1int</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsdirprod</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">xa1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x1</span> <span class="id" title="var">aa1</span> ]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">xa2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x2</span> <span class="id" title="var">aa2</span> ]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">aa1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a1</span> <span class="id" title="var">ia1</span> ]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">aa2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a2</span> <span class="id" title="var">ia2</span> ]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">a</span> = 0))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">is1</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">ia1</span> <span class="id" title="var">ia2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">carrierpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">X</span>, <span class="id" title="var">hProppair</span> (<span class="id" title="var">x</span> = 0 -&gt; <span class="id" title="var">empty</span>) (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">x</span> = 0)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">toneghdisj</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">ia1</span>) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">ia2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">e</span>))) (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g0</span> (<span class="id" title="var">dirprodpair</span> 0 (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 <span class="id" title="var">is2</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> 0 (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">g0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_b</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">a</span> = 0))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">is2</span>)) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">g</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)) ((<span class="id" title="var">g</span> <span class="id" title="var">x</span>) * (<span class="id" title="var">g</span> <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotuniv2prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">setproperty</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">g</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)) ((<span class="id" title="var">g</span> <span class="id" title="var">x</span>) * (<span class="id" title="var">g</span> <span class="id" title="var">x'</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g0</span> (<span class="id" title="var">commringfracop2int</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">xa1</span> <span class="id" title="var">xa2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">commringfracop2int</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">g0</span> <span class="id" title="var">xa1</span>) (<span class="id" title="var">g0</span> <span class="id" title="var">xa2</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">g0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">commringfracop2int</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">abmonoidfracopint</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsdirprod</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">xa1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x1</span> <span class="id" title="var">aa1</span> ]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">xa2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x2</span> <span class="id" title="var">aa2</span> ]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">aa1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a1</span> <span class="id" title="var">ia1</span> ]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">aa2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a2</span> <span class="id" title="var">ia2</span> ]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">a</span> = 0))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> (<span class="id" title="var">is1</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">ia1</span> <span class="id" title="var">ia2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">carrierpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">X</span>, <span class="id" title="var">hProppair</span> (<span class="id" title="var">x</span> = 0 -&gt; <span class="id" title="var">empty</span>) (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">x</span> = 0)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> : <span class="id" title="var">paths</span> (<span class="id" title="var">a1</span> * <span class="id" title="var">a2</span>) 0 =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">toneghdisj</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">ia1</span>) (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">ia2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">intdomax</span> <span class="id" title="var">X</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">e</span>))) (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">intdomnonzerosubmonoid</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g0</span> (<span class="id" title="var">dirprodpair</span> 1 (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 <span class="id" title="var">is2</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> 1 (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">setquotpr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">g0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_b</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, (<span class="id" title="var">isapropneg</span> (<span class="id" title="var">a</span> = 0))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">rtoneq</span> <span class="id" title="var">ir</span> <span class="id" title="var">is2</span>)) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isringfunweqfldfracgt_b</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringfunweqfldfracgt_f</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringfun</span> (<span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgt_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">ringisopair</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">weqfldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">ir</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isringfunweqfldfracgt_b</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">ir</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<span class="id" title="var">isringfun</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">commringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)) (<span class="id" title="var">invmap</span> <span class="id" title="var">int</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isringfuninvmap</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isringfunweqfldfracgt_f</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab553"></a><h4 class="section">Definition and properties of "greater" on the field of fractions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) : <span class="id" title="var">hrel</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <span class="id" title="var">commringfracgt</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>, <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">b</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringmultfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringmultgt</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ringmultgtandfun</span> (<span class="id" title="var">ringfunconstr</span> (<span class="id" title="var">isringfunweqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">ir</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isringmultcommringfracgt</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isringmultfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringaddfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">fldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">ringaddhrelandfun</span> (<span class="id" title="var">ringfunconstr</span> (<span class="id" title="var">isringfunweqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">ir</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isringaddcommringfracgt</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isringaddfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">istransfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isr</span> : <span class="id" title="var">istrans</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">istrans</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">istransabmonoidfracrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">istransfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isirreflfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isr</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isirrefl</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isirreflabmonoidfracrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isirreflfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isasymmfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isr</span> : <span class="id" title="var">isasymm</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isasymm</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isasymmabmonoidfracrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isasymmfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscotransfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isr</span> : <span class="id" title="var">iscotrans</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscotrans</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscotransabmonoidfracrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">iscotransfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isantisymmnegfldfracgt</span>  (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">ir</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isr</span> : <span class="id" title="var">isantisymmneg</span> <span class="id" title="var">R</span>) : <span class="id" title="var">isantisymmneg</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : <span class="id" title="var">isantisymmneg</span> (<span class="id" title="var">commringfracgt</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>, <span class="id" title="var">r</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">commringfracgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isantisymmnegabmonoidfracrel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ringmultabmonoid</span> <span class="id" title="var">X</span>) (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ispartbinopcommringfracgt</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">is0</span> <span class="id" title="var">is1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">r</span> : (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">c</span>) =&gt; <span class="id" title="var">r</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">int</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqfldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> <span class="id" title="var">ir</span>)  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isantisymmnegfldfracgt</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isdecfldfracgt</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">R</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isa</span> : <span class="id" title="var">isasymm</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isr</span> : <span class="id" title="var">isdecrel</span> <span class="id" title="var">R</span>) : <span class="id" title="var">isdecrel</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isdecabmonoidfracrel</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">isinvringmultgtaspartinvbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">R</span> <span class="id" title="var">is0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isinvringmultgtif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">is0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">is1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">nc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isa</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isr</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab554"></a><h4 class="section">Relations and the canonical homomorphism to the field of fractions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscomptofldfrac</span> (<span class="id" title="var">X</span> : <span class="id" title="var">intdom</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdeceq</span> <span class="id" title="var">X</span>) {<span class="id" title="var">L</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isringmultgt</span> <span class="id" title="var">X</span> <span class="id" title="var">L</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">L</span> 1 0) (<span class="id" title="var">nc</span> : <span class="id" title="var">neqchoice</span> <span class="id" title="var">L</span>) (<span class="id" title="var">isa</span> : <span class="id" title="var">isasymm</span> <span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun</span> <span class="id" title="var">L</span> (<span class="id" title="var">fldfracgt</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span>) (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> := <span class="id" title="var">iscomptocommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>, <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">fldfracgt</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">iscomprelrelfun</span> <span class="id" title="tactic">in</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ee</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">tocommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">tocommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dirprodpair</span> <span class="id" title="var">x</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">L</span> <span class="id" title="var">a</span> 0) <span class="id" title="var">_</span> <span class="id" title="var">is2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">weqfldfracgt_f</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span> (<span class="id" title="var">tofldfrac</span> <span class="id" title="var">X</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqfldfracgtint_f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">X</span> <span class="id" title="var">is0</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">nc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">dirprodpair</span> <span class="id" title="var">x</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, <span class="id" title="var">a</span> != 0) 1 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">X</span> (<span class="id" title="var">ringpossubmonoid</span> <span class="id" title="var">X</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">weqfldfracgtint_f</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">nc</span> 1 0 (<span class="id" title="var">nonzeroax</span> <span class="id" title="var">X</span>) ) <span class="id" title="keyword">as</span> [ <span class="id" title="var">l'</span> | <span class="id" title="var">nl</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">L</span> <span class="id" title="var">a</span> 0))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">isa</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">is2</span> <span class="id" title="var">nl</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int'</span> := <span class="id" title="var">int</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ee</span> <span class="id" title="var">x1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">int'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ee</span> <span class="id" title="var">x2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">int'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">int'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">l</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">iscomptofldfrac</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>