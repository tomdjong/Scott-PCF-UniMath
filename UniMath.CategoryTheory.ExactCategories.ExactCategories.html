<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.ExactCategories.ExactCategories</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab1194"></a><h1 class="section">Exact categories</h1>

<div class="paragraph"> </div>

<a name="lab1195"></a><h2 class="section">Contents</h2>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Preliminaries
<ul class="doclist">
<li> Diagram chasing lemmas

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> The definition of exact category
<ul class="doclist">
<li> Equivalence with Quillen's definition

</li>
<li> The exact category structure induced on X by
      a function X -&gt; ob M, where M is an exact category.

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.Foundations.All</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.MoreFoundations.Notations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.MoreFoundations.PartA</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.MoreFoundations.Propositions</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.Algebra.BinaryOperations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.Algebra.Monoids</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.Groups</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Isos</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Core.NaturalTransformations</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Monics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Epis</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.zero</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.kernels</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.cokernels</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.binproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.bincoproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.pullbacks</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.pushouts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.BinDirectSums</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.limits.Opp</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.CategoriesWithBinOps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.opp_precat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.PrecategoriesWithAbgrops</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.PreAdditive</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Morphisms</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Additive</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.CategoryTheory.Subcategory.Full</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">isZero</span> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">BinDirectSumOb</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_binop</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">grinv</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">BinDirectSum</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_Pr1</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_Pr2</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_In1</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_In2</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_BinOpId</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_IdIn1</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_IdIn2</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_Unel1</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">to_Unel2</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">MorphismPair</span> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">morphism_from_iso</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">ToBinDirectSum</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <span class="id" title="var">isBinDirectSum</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">logic</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">hom</span> (<span class="id" title="var">C</span>:<span class="id" title="var">precategory_data</span>) : <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">UU</span> := <span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>, <span class="id" title="var">precategory_morphisms</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">Hom</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) : <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">hSet</span> := <span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>, <span class="id" title="var">hSetpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">C</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">Hom_add</span> (<span class="id" title="var">C</span> : <span class="id" title="var">PreAdditive</span>) : <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">C</span> -&gt; <span class="id" title="var">abgr</span> := <span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>, (@<span class="id" title="var">to_abgr</span> <span class="id" title="var">C</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">InvestigateNotations</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">hom</span> <span class="id" title="var">M</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="var">h</span> <span class="id" title="var">k</span> : <span class="id" title="var">Hom_add</span> <span class="id" title="var">M</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">abgrcat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> <span class="id" title="var">empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">h</span>+<span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := -<span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t</span> := <span class="id" title="var">f</span>-<span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p</span> := <span class="id" title="var">f</span>·<span class="id" title="var">h</span> + (<span class="id" title="var">h</span>∘<span class="id" title="var">f</span>) · 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">o</span> := (<span class="id" title="var">h</span> + <span class="id" title="var">h</span>) · 1 = <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s</span> := <span class="id" title="var">f</span>+<span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">u</span> := <span class="id" title="var">f</span>·1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">v</span> := <span class="id" title="var">f</span>·0·<span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">InvestigateNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Categories</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isPushout'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">in1</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">d</span>) (<span class="id" title="var">in2</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) : <span class="id" title="var">hProp</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (∑ (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">in1</span> = <span class="id" title="var">g</span> · <span class="id" title="var">in2</span>), <span class="id" title="var">isPushout</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">in1</span> <span class="id" title="var">in2</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> (                  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaproptotal2</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_isPushout</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span> <span class="id" title="var">po</span> <span class="id" title="var">po'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span> ]) <span class="id" title="keyword">using</span> <span class="id" title="var">_P_</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isPullback'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>) : <span class="id" title="var">hProp</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (∑ (<span class="id" title="var">H</span> : <span class="id" title="var">p1</span> · <span class="id" title="var">f</span> = <span class="id" title="var">p2</span>· <span class="id" title="var">g</span>), <span class="id" title="var">isPullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">_P_</span> (<span class="id" title="var">oppositeCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPullback'_up_to_z_iso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> : <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">p1</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">d</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">d'</span> <span class="id" title="var">d</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> -&gt; <span class="id" title="var">isPullback'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">i</span>·<span class="id" title="var">p1</span>) (<span class="id" title="var">i</span>·<span class="id" title="var">p2</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">e</span> <span class="id" title="var">pb</span>]. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">using</span> <span class="id" title="var">_P_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">pb</span> <span class="id" title="var">T</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">iscontrweqf</span> <span class="id" title="var">_</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqtotal2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_comp_left_weq</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">i</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">weqiff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc'</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_after_z_iso_inv</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrefl_logeq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isPushout'_up_to_z_iso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> : <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">c</span>) (<span class="id" title="var">in1</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">d</span>) (<span class="id" title="var">in2</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPushout'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">in1</span> <span class="id" title="var">in2</span> -&gt; <span class="id" title="var">isPushout'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">i</span>∘<span class="id" title="var">in1</span>) (<span class="id" title="var">i</span>∘<span class="id" title="var">in2</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">isPullback'_up_to_z_iso</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositeCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">in1</span> <span class="id" title="var">in2</span> (<span class="id" title="var">opp_z_iso</span> <span class="id" title="var">i</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Pushout_to_isPushout'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">po</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPushout'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">PushoutIn1</span> <span class="id" title="var">po</span>) (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">po</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">PushoutSqrCommutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isPushout_Pushout</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Pullback_to_isPullback'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">category</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">a</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb</span>) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">PullbackSqrCommutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isPullback_Pullback</span>.<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">Categories</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">MorphismPairs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> ∏ (<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>) (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">InverseMorphismPairIsomorphism</span> (<span class="id" title="var">InverseMorphismPairIsomorphism</span> <span class="id" title="var">f</span>) = <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MorphismPairs</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Pullbacks</span>. &nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IsoArrowTo</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>}     {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>) := ∑ <span class="id" title="var">i</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>, <span class="id" title="var">i</span> · <span class="id" title="var">g'</span> = <span class="id" title="var">g</span> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">IsoArrowTo_pr1</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>}   {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>) : <span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IsoArrowFrom</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>}   {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B'</span>) := ∑ <span class="id" title="var">i</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>, <span class="id" title="var">g</span> · <span class="id" title="var">i</span>  = <span class="id" title="var">g'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">IsoArrowFrom_pr1</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B'</span>) : <span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">z_iso</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IsoArrow</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>}       {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) := ∑ (<span class="id" title="var">i</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>) (<span class="id" title="var">j</span> : <span class="id" title="var">z_iso</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>), <span class="id" title="var">i</span> · <span class="id" title="var">g'</span> = <span class="id" title="var">g</span> · <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pullbackiso1</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">C</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">pb'</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsoArrowTo</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb</span>) (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pullbackiso</span> <span class="id" title="var">pb</span> <span class="id" title="var">pb'</span>),,<span class="id" title="var">pr12</span> (<span class="id" title="var">pullbackiso</span> <span class="id" title="var">pb</span> <span class="id" title="var">pb'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">pullbackiso2</span> {<span class="id" title="var">M</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">C</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">pb'</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">IsoArrowTo</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pullbackiso</span> <span class="id" title="var">pb</span> <span class="id" title="var">pb'</span>),,<span class="id" title="var">pr22</span> (<span class="id" title="var">pullbackiso</span> <span class="id" title="var">pb</span> <span class="id" title="var">pb'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">OppositeIsoArrows</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opposite_IsoArrowTo</span> {<span class="id" title="var">M</span>:<span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">IsoArrowFrom</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">g'</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">opp_z_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opposite_IsoArrowFrom</span> {<span class="id" title="var">M</span>:<span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g'</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B'</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">IsoArrowTo</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">g'</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">opp_z_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opposite_IsoArrow</span> {<span class="id" title="var">M</span>:<span class="id" title="var">precategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrow</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">IsoArrow</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">g'</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">opp_z_iso</span> (<span class="id" title="var">pr12</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">opp_z_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (! <span class="id" title="var">pr22</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">OppositeIsoArrows</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoArrowTo_isaprop</span> (<span class="id" title="var">M</span> : <span class="id" title="var">category</span>) {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isMonic</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">isaprop</span> (<span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">k</span> <span class="id" title="var">K</span>] <span class="id" title="var">e</span>], <span class="id" title="var">k'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">k'</span> <span class="id" title="var">K'</span>] <span class="id" title="var">e'</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">i</span> <span class="id" title="var">A</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span> (<span class="id" title="var">e</span> @ !<span class="id" title="var">e'</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_is_z_isomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoArrowFrom_isaprop</span> (<span class="id" title="var">M</span> : <span class="id" title="var">category</span>) {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isEpi</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isaprop</span> (<span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">k</span> <span class="id" title="var">K</span>] <span class="id" title="var">e</span>], <span class="id" title="var">k'</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">k'</span> <span class="id" title="var">K'</span>] <span class="id" title="var">e'</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>, <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_is_z_isomorphism</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">e</span> @ !<span class="id" title="var">e'</span>).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">Pullbacks</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">abgrcat</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "0"     := (<span class="id" title="var">unel</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">_</span>))) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "0"     := (<span class="id" title="var">unel</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "f + g" := (@<span class="id" title="var">op</span> (<span class="id" title="var">pr1monoid</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">_</span>))) <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "f + g" := (@<span class="id" title="var">op</span> (<span class="id" title="var">pr1monoid</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))) <span class="id" title="var">f</span> <span class="id" title="var">g</span>) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "  - g" := (@<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">_</span>) <span class="id" title="var">g</span>) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "  - g" := (@<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">g</span>) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "f - g" := (@<span class="id" title="var">op</span> (<span class="id" title="var">pr1monoid</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">_</span>))) <span class="id" title="var">f</span> (@<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">g</span>)) : <span class="id" title="var">abgrcat</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "f - g" := (@<span class="id" title="var">op</span> (<span class="id" title="var">pr1monoid</span> (<span class="id" title="var">grtomonoid</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)))) <span class="id" title="var">f</span> (@<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">g</span>)) : <span class="id" title="var">abgrcat</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">PreAdditive</span>.<br/>
</div>

<div class="doc">
Reprove some standard facts in additive categories with the 0 map (the zero element of the
      group) replacing the zero map (defined by composing maps to and from the zero object). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ThroughZeroIsZero</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span> : <span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">b</span>) : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = 0.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> ((0:<span class="id" title="var">a</span>--&gt;<span class="id" title="var">Z</span>) · <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">g</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">ArrowsToZero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">to_postmor_unel'</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elem21</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) : <span class="id" title="var">AB</span>--&gt;<span class="id" title="var">AB</span> := 1 + π<span class="id" title="var">₁</span>·<span class="id" title="var">f</span>·<span class="id" title="var">ι₂</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Foo</span>. &nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elem21_isiso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) : <span class="id" title="var">is_z_isomorphism</span> (<span class="id" title="var">elem21</span> <span class="id" title="var">AB</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (1 - π<span class="id" title="var">₁</span>·<span class="id" title="var">f</span>·<span class="id" title="var">ι₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">elem21</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">runax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assocax</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>, <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightMinus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grlinvax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">assoc</span> π<span class="id" title="var">₁</span> <span class="id" title="var">f</span> <span class="id" title="var">ι₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn2Pr1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvunel</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">runax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assocax</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>, <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftMinus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grrinvax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">assoc</span> π<span class="id" title="var">₁</span> <span class="id" title="var">f</span> <span class="id" title="var">ι₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn2Pr1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvunel</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Foo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elem12</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">A</span>) : <span class="id" title="var">AB</span>--&gt;<span class="id" title="var">AB</span> := 1 + π<span class="id" title="var">₂</span>·<span class="id" title="var">f</span>·<span class="id" title="var">ι₁</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">elem12_isiso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">A</span>) : <span class="id" title="var">is_z_isomorphism</span> (<span class="id" title="var">elem12</span> <span class="id" title="var">AB</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (1 - π<span class="id" title="var">₂</span>·<span class="id" title="var">f</span>·<span class="id" title="var">ι₁</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">elem12</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">runax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assocax</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>, <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightMinus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grlinvax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn1Pr2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">zeroRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">grinvunel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">runax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assocax</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>, <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftMinus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grrinvax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn1Pr2</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">zeroLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">zeroRight</span>. <span class="id" title="var">use</span> <span class="id" title="var">grinvunel</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isKernel'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">g</span> = 0 ∧ ∀ (<span class="id" title="var">w</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">w</span> --&gt; <span class="id" title="var">y</span>), <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = 0 ⇒ ∃! φ : <span class="id" title="var">w</span> --&gt; <span class="id" title="var">x</span>, φ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hasKernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">x</span> (<span class="id" title="var">f</span>:<span class="id" title="var">x</span>--&gt;<span class="id" title="var">y</span>), <span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isKernel_iff</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> &lt;-&gt; ∑ <span class="id" title="var">e</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">Z</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <span class="id" title="var">isKernel</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">e'</span> <span class="id" title="var">ik</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">e'</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">PreAdditive_unel_zero</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ik</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> (<span class="id" title="var">e</span> @ ! <span class="id" title="var">PreAdditive_unel_zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">e</span> <span class="id" title="var">ik</span>]. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">e</span> @ ! <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">PreAdditive_unel_zero</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ik</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> (<span class="id" title="var">e'</span> @ <span class="id" title="var">PreAdditive_unel_zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isKernel'_to_Kernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">Kernel</span> <span class="id" title="var">Z</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">co</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span>,,<span class="id" title="var">f</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isKernel_iff</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isCokernel'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">g</span> = 0 ∧ ∀ (<span class="id" title="var">w</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">w</span>), <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = 0 ⇒ ∃! φ : <span class="id" title="var">z</span> --&gt; <span class="id" title="var">w</span>, <span class="id" title="var">g</span> · φ = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">hasCokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">z</span> (<span class="id" title="var">g</span>:<span class="id" title="var">y</span>--&gt;<span class="id" title="var">z</span>), <span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isCokernel_iff</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> &lt;-- <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> &lt;-- <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> &lt;-&gt; ∑ <span class="id" title="var">e</span> : <span class="id" title="var">f</span> ∘ <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">Z</span> <span class="id" title="var">z</span> <span class="id" title="var">x</span>, <span class="id" title="var">isCokernel</span> <span class="id" title="var">Z</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">e'</span> <span class="id" title="var">ik</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">e'</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">PreAdditive_unel_zero</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ik</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> (<span class="id" title="var">e</span> @ ! <span class="id" title="var">PreAdditive_unel_zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">e</span> <span class="id" title="var">ik</span>]. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">e</span> @ ! <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">PreAdditive_unel_zero</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ik</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> (<span class="id" title="var">e'</span> @ <span class="id" title="var">PreAdditive_unel_zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isCokernel'_to_Cokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">Cokernel</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">co</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">z</span>,,<span class="id" title="var">g</span>). <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isCokernel_iff</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PushoutCokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">D</span>) (<span class="id" title="var">p'</span>:<span class="id" title="var">D</span>--&gt;<span class="id" title="var">E</span>) (<span class="id" title="var">j'</span>:<span class="id" title="var">C</span>--&gt;<span class="id" title="var">E</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isPushout'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">j'</span> -&gt; <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">b</span> <span class="id" title="var">co</span>] [<span class="id" title="var">e</span> <span class="id" title="var">po</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">categoryWithAbgrops_category</span>, <span class="id" title="var">category_to_precategory</span>, <span class="id" title="var">pr1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">co</span> <span class="id" title="var">T</span> (<span class="id" title="var">j</span>·<span class="id" title="var">h</span>) <span class="id" title="var">v</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscontrweqb</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">w</span>]; <span class="id" title="tactic">exists</span> (<span class="id" title="var">j'</span>·<span class="id" title="var">k</span>); <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">categoryWithAbgrops_category</span>, <span class="id" title="var">category_to_precategory</span>, <span class="id" title="var">pr1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">reflexivity</span>) <span class="id" title="keyword">using</span> <span class="id" title="var">_L_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">l</span> <span class="id" title="var">w</span>]; <span class="id" title="tactic">unfold</span> <span class="id" title="var">hfiber</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">PO</span> := <span class="id" title="var">po</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">l</span> (!<span class="id" title="var">w</span>)); <span class="id" title="tactic">clear</span> <span class="id" title="var">po</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">PO</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">PO</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscontrweqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">weqtotal2asstor</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">weqfibtototal</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">weqiff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">y</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">refine</span> ((<span class="id" title="var">_</span>:<span class="id" title="var">isofhlevel</span> 2 <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hlevelntosn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Tmp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackKernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>&lt;--<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>&lt;--<span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span>:<span class="id" title="var">B</span>&lt;--<span class="id" title="var">D</span>) (<span class="id" title="var">p'</span>:<span class="id" title="var">D</span>&lt;--<span class="id" title="var">E</span>) (<span class="id" title="var">j'</span>:<span class="id" title="var">C</span>&lt;--<span class="id" title="var">E</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isPullback'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <span class="id" title="var">j'</span> -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">p'</span> (<span class="id" title="var">i</span>∘<span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<span class="id" title="var">PushoutCokernel</span> (<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">E</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">j</span> <span class="id" title="var">p'</span> <span class="id" title="var">j'</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">KernelIsMonic</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">t</span> <span class="id" title="var">i</span>] <span class="id" title="var">w</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">T</span> := ∑ <span class="id" title="var">r</span> : <span class="id" title="var">w</span> --&gt; <span class="id" title="var">x</span>, <span class="id" title="var">r</span> · <span class="id" title="var">f</span> = <span class="id" title="var">q</span> · <span class="id" title="var">f</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">ic</span> : <span class="id" title="var">isProofIrrelevant</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">proofirrelevance</span>, <span class="id" title="var">isapropifcontr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t1</span> := (<span class="id" title="var">p</span>,,<span class="id" title="var">e</span>) : <span class="id" title="var">T</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">t2</span> := (<span class="id" title="var">q</span>,,<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>) : <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">ic</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>). <span class="id" title="tactic">exact</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> <span class="id" title="var">Q</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CokernelIsEpi</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isEpi</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">KernelIsMonic</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">makeMonicKernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isMonic</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∏ (<span class="id" title="var">w</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">w</span> --&gt; <span class="id" title="var">y</span>), <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = 0 -&gt; ∑ φ : <span class="id" title="var">w</span> --&gt; <span class="id" title="var">x</span>, φ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">im</span> <span class="id" title="var">eq</span> <span class="id" title="var">ex</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">r</span> <span class="id" title="var">R</span>] [<span class="id" title="var">s</span> <span class="id" title="var">S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality_prop</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">im</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">R@</span>!<span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ex</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">makeEpiCokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isEpi</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∏ (<span class="id" title="var">w</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">w</span>), <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = 0 -&gt; ∑ φ : <span class="id" title="var">z</span> --&gt; <span class="id" title="var">w</span>, <span class="id" title="var">g</span> · φ = <span class="id" title="var">h</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">makeMonicKernel</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoWithKernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">z'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">z</span> --&gt; <span class="id" title="var">z'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">h</span> -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> (<span class="id" title="var">g</span>·<span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">makeMonicKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>) @ <span class="id" title="var">zeroLeft</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">post_comp_with_iso_is_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> (<span class="id" title="var">is_iso_from_is_z_iso</span> <span class="id" title="var">h</span> <span class="id" title="var">j</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">e</span> @ ! <span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoWithCokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">h</span> -&gt; <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">h</span>·<span class="id" title="var">f</span>) <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span> <span class="id" title="var">i</span>, <span class="id" title="var">IsoWithKernel</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span> (<span class="id" title="var">opp_is_z_isomorphism</span> <span class="id" title="var">h</span> <span class="id" title="var">i</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">KernelOfZeroMapIsIso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) : <span class="id" title="var">isKernel'</span> <span class="id" title="var">g</span> (0 : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">ke</span>]. <span class="id" title="var">use</span> (<span class="id" title="var">is_z_iso_from_is_iso'</span> <span class="id" title="var">M</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ke</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">zeroRight</span> <span class="id" title="var">_</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CokernelOfZeroMapIsIso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) : <span class="id" title="var">isCokernel'</span> (0 : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) <span class="id" title="var">g</span> -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">co</span>]. <span class="id" title="var">use</span> <span class="id" title="var">is_z_iso_from_is_iso</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">co</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">KernelUniqueness</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">M</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">f'</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">iscontr</span> (<span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">IsoArrowTo_isaprop</span> <span class="id" title="var">M</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">f'</span> <span class="id" title="var">g</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">j</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">P</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">f'</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">j</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> <span class="id" title="var">Q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">P</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CokernelUniqueness</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">z'</span> : <span class="id" title="var">M</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} {<span class="id" title="var">g'</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z'</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">iscontr</span> (<span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">IsoArrowFrom_isaprop</span> <span class="id" title="var">M</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">j</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">P</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">g'</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">j</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> <span class="id" title="var">Q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Q</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToPullback</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">Z</span> : <span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Pullback</span> (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>) (0 : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_Pr1</span> <span class="id" title="var">S</span>,, <span class="id" title="var">to_Pr2</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ArrowsToZero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_isBinProduct</span> <span class="id" title="var">M</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToPushout</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">Z</span> : <span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Pushout</span> (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">A</span>) (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">S</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">S</span>,, <span class="id" title="var">to_In2</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ArrowsFromZero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_isBinCoproduct</span> <span class="id" title="var">M</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">directSumMap</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) : <span class="id" title="var">ac</span> --&gt; <span class="id" title="var">bd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">BinDirectSumIndAr</span> <span class="id" title="var">M</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">directSumMapEqPr1</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>} {<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> · π<span class="id" title="var">₁</span> = π<span class="id" title="var">₁</span> · <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">directSumMapEqPr2</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>} {<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> · π<span class="id" title="var">₂</span> = π<span class="id" title="var">₂</span> · <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">directSumMapEqIn1</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>} {<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ι₁</span> · <span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> = <span class="id" title="var">f</span> · <span class="id" title="var">ι₁</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumIndArEq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumIn1Commutes</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">directSumMapEqIn2</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>} {<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ι₂</span> · <span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> = <span class="id" title="var">g</span> · <span class="id" title="var">ι₂</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumIndArEq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumIn2Commutes</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">to_BinOpId'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">co</span> : <span class="id" title="var">M</span>} {<span class="id" title="var">i1</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">co</span>} {<span class="id" title="var">i2</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">co</span>} {<span class="id" title="var">p1</span> : <span class="id" title="var">co</span> --&gt; <span class="id" title="var">a</span>} {<span class="id" title="var">p2</span> : <span class="id" title="var">co</span> --&gt; <span class="id" title="var">b</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">B</span> : <span class="id" title="var">isBinDirectSum</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">p1</span> · <span class="id" title="var">i1</span> + <span class="id" title="var">p2</span> · <span class="id" title="var">i2</span> = <span class="id" title="var">identity</span> <span class="id" title="var">co</span> := <span class="id" title="var">to_BinOpId</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">to_BinOpId''</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">ab</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: (<span class="id" title="var">to_Pr1</span> <span class="id" title="var">ab</span> · <span class="id" title="var">to_In1</span> <span class="id" title="var">ab</span>) + (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">ab</span> · <span class="id" title="var">to_In2</span> <span class="id" title="var">ab</span>) = 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">to_BinOpId</span> <span class="id" title="var">ab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ismonoidfun_prop</span> {<span class="id" title="var">G</span> <span class="id" title="var">H</span>:<span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">G</span>-&gt;<span class="id" title="var">H</span>) : <span class="id" title="var">hProp</span> := <span class="id" title="var">hProppair</span> (<span class="id" title="var">ismonoidfun</span> <span class="id" title="var">f</span>) (<span class="id" title="var">isapropismonoidfun</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">PreAdditive_functor</span> (<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">F</span> : <span class="id" title="var">M</span> ⟶ <span class="id" title="var">N</span>, ∀ <span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>, <span class="id" title="var">ismonoidfun_prop</span> (@<span class="id" title="var">functor_on_morphisms</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> <span class="id" title="var">F</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span> -&gt; <span class="id" title="var">F</span> <span class="id" title="var">A</span> --&gt; <span class="id" title="var">F</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">PreAdditive_functor_to_functor</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> -&gt; <span class="id" title="var">functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_on_morphisms_add</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>) { <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">monoidfun</span> (<span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">F</span> <span class="id" title="var">a</span> --&gt; <span class="id" title="var">F</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "# F" := (<span class="id" title="var">functor_on_morphisms_add</span> <span class="id" title="var">F</span>) : <span class="id" title="var">abgrcat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_functor_comp</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">F</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>) = # <span class="id" title="var">F</span> <span class="id" title="var">f</span> · # <span class="id" title="var">F</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_functor_add</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span>:<span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">F</span> (<span class="id" title="var">f</span>+<span class="id" title="var">g</span>) = # <span class="id" title="var">F</span> <span class="id" title="var">f</span> + # <span class="id" title="var">F</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ismonoidfunisbinopfun</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_functor_zero</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) (<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_on_morphisms_add</span> (<span class="id" title="var">a</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">b</span>:=<span class="id" title="var">B</span>) <span class="id" title="var">F</span> 0 = 0.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ismonoidfununel</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">add_functor_sub</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">g</span>:<span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">F</span> (-<span class="id" title="var">g</span>) = - # <span class="id" title="var">F</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">grinvandmonoidfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">zeroCriterion</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">Z</span>:<span class="id" title="var">M</span>} : <span class="id" title="var">identity</span> <span class="id" title="var">Z</span> = 0 &lt;-&gt; <span class="id" title="var">isZero</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">exists</span> 0. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">refine</span> (! <span class="id" title="var">id_left</span> <span class="id" title="var">h</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">induction</span> (!<span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">exists</span> 0. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">refine</span> (! <span class="id" title="var">id_right</span> <span class="id" title="var">h</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">induction</span> (!<span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">isapropifcontr</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span> <span class="id" title="var">Z</span>)). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">applyFunctorToIsZero</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) (<span class="id" title="var">Z</span> : <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isZero</span> <span class="id" title="var">Z</span> -&gt; <span class="id" title="var">isZero</span> (<span class="id" title="var">F</span> <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">i</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">zeroCriterion</span> (! <span class="id" title="var">functor_id</span> <span class="id" title="var">F</span> <span class="id" title="var">Z</span> @ <span class="id" title="var">maponpaths</span> (#<span class="id" title="var">F</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">zeroCriterion</span> <span class="id" title="var">i</span>) @ <span class="id" title="var">add_functor_zero</span> <span class="id" title="var">F</span> <span class="id" title="var">Z</span> <span class="id" title="var">Z</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">applyFunctorToZero</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) : <span class="id" title="var">Zero</span> <span class="id" title="var">M</span> -&gt; <span class="id" title="var">Zero</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">F</span> <span class="id" title="var">Z</span>,, <span class="id" title="var">applyFunctorToIsZero</span> <span class="id" title="var">F</span> <span class="id" title="var">Z</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Z</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">applyFunctorToIsBinDirectSum</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">S</span> : <span class="id" title="var">M</span>) (<span class="id" title="var">i1</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">S</span>) (<span class="id" title="var">i2</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">S</span>) (<span class="id" title="var">p1</span> : <span class="id" title="var">S</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">p2</span> : <span class="id" title="var">S</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isBinDirectSum</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> -&gt; <span class="id" title="var">isBinDirectSum</span> (# <span class="id" title="var">F</span> <span class="id" title="var">i1</span>) (# <span class="id" title="var">F</span> <span class="id" title="var">i2</span>) (# <span class="id" title="var">F</span> <span class="id" title="var">p1</span>) (# <span class="id" title="var">F</span> <span class="id" title="var">p2</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">add_functor_comp</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">ds</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">add_functor_comp</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">ds</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">add_functor_comp</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">ds</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="var">use</span> <span class="id" title="var">ismonoidfununel</span>. <span class="id" title="var">use</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">add_functor_comp</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">ds</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="var">use</span> <span class="id" title="var">ismonoidfununel</span>. <span class="id" title="var">use</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- 2 <span class="id" title="var">add_functor_comp</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">add_functor_add</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">ds</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">applyFunctorToBinDirectSum</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> -&gt; <span class="id" title="var">BinDirectSum</span> (<span class="id" title="var">F</span> <span class="id" title="var">A</span>) (<span class="id" title="var">F</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">λ</span> <span class="id" title="var">S</span>, <span class="id" title="var">mk_BinDirectSum</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">applyFunctorToIsBinDirectSum</span> <span class="id" title="var">F</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">S</span> <span class="id" title="var">ι₁</span> <span class="id" title="var">ι₂</span> π<span class="id" title="var">₁</span> π<span class="id" title="var">₂</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">S</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">induced_PreAdditive_incl</span> (<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PreAdditive_functor</span> (<span class="id" title="var">induced_PreAdditive</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">induced_precategory_incl</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">SwitchMap</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">ab</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">ba</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) : <span class="id" title="var">ab</span> --&gt; <span class="id" title="var">ba</span> := π<span class="id" title="var">₁</span> · <span class="id" title="var">ι₂</span> + π<span class="id" title="var">₂</span> · <span class="id" title="var">ι₁</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SwitchMapEqn</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">ab</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">ba</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) : <span class="id" title="var">SwitchMap</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">ab</span> <span class="id" title="var">ba</span> · <span class="id" title="var">SwitchMap</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">ba</span> <span class="id" title="var">ab</span> = 1.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">SwitchMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">to_BinOpId''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>, (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn2Pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>, (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">ba</span>), <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>, (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">ba</span>), <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>, (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">DirectSumIn1Pr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">SwitchIso</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">a</span> <span class="id" title="var">b</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">ab</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">ba</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) : <span class="id" title="var">z_iso</span> <span class="id" title="var">ab</span> <span class="id" title="var">ba</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchMap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchMap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">SwitchMapEqn</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SwitchMapEqnTo</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">bc</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) (<span class="id" title="var">cb</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">a</span>--&gt;<span class="id" title="var">b</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">a</span>--&gt;<span class="id" title="var">c</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">bc</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> · <span class="id" title="var">SwitchMap</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">bc</span> <span class="id" title="var">cb</span> = <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">cb</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">SwitchMap</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">BinDirectSumPr1Commutes</span>, <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">cb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">cb</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> π<span class="id" title="var">₂</span> <span class="id" title="var">_</span> π<span class="id" title="var">₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">cb</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>, <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">cb</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SwitchMapMapEqn</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">ca</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>) (<span class="id" title="var">db</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">d</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">SwitchMap</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span> <span class="id" title="var">ca</span> <span class="id" title="var">ac</span> · <span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> = <span class="id" title="var">directSumMap</span> <span class="id" title="var">ca</span> <span class="id" title="var">db</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> · <span class="id" title="var">SwitchMap</span> <span class="id" title="var">d</span> <span class="id" title="var">b</span> <span class="id" title="var">db</span> <span class="id" title="var">bd</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">SwitchMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqPr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqPr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">directSumMapSwitch</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">ca</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>) (<span class="id" title="var">db</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">d</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrow</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">ca</span> <span class="id" title="var">db</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">SwitchMapMapEqn</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_directSumMap</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">directSumMap</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">bd</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">ac</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">f</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opp_mor</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumIndArEq</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_directSumMap'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ac</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">bd</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opp_mor</span> (<span class="id" title="var">directSumMap</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">bd</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">ac</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">f</span>) (<span class="id" title="var">opp_mor</span> <span class="id" title="var">g</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">directSumMap</span> <span class="id" title="var">ac</span> <span class="id" title="var">bd</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">opp_mor</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">opposite_directSumMap</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfKernels</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xX</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) (<span class="id" title="var">yY</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">y</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">zZ</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">z</span> <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">isKernel'</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">xX</span> <span class="id" title="var">yY</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">yY</span> <span class="id" title="var">zZ</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">BinDirectSumIndArComp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">zeroRight</span> <span class="id" title="var">_</span> @ <span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> (! <span class="id" title="var">pr1</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">zeroRight</span> <span class="id" title="var">_</span> @ <span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> (! <span class="id" title="var">pr1</span> <span class="id" title="var">i'</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e1</span> := ! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">directSumMapEqPr1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e2</span> := ! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">directSumMapEqPr2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>  <span class="id" title="var">w</span> (<span class="id" title="var">h</span> · π<span class="id" title="var">₁</span>) <span class="id" title="var">e1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">h1</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i'</span> <span class="id" title="var">w</span> (<span class="id" title="var">h</span> · π<span class="id" title="var">₂</span>) <span class="id" title="var">e2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">h2</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">_</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">directSumMapEqPr1</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">precomp_with</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">_</span>) <span class="id" title="var">directSumMapEqPr2</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">precomp_with</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">K</span>] [<span class="id" title="var">k'</span> <span class="id" title="var">K'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality_prop</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">k</span>) <span class="id" title="var">directSumMapEqPr1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>) (<span class="id" title="var">K</span> @ !<span class="id" title="var">K'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">k'</span>) <span class="id" title="var">directSumMapEqPr1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">k</span>) <span class="id" title="var">directSumMapEqPr2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>) (<span class="id" title="var">K</span> @ !<span class="id" title="var">K'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ ! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">precomp_with</span> <span class="id" title="var">k'</span>) <span class="id" title="var">directSumMapEqPr2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@ <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfCokernels</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xX</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) (<span class="id" title="var">yY</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">y</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">zZ</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">z</span> <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g'</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isCokernel'</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">xX</span> <span class="id" title="var">yY</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">yY</span> <span class="id" title="var">zZ</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">opposite_directSumMap'</span> <span class="id" title="var">xX</span> <span class="id" title="var">yY</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">opposite_directSumMap'</span> <span class="id" title="var">yY</span> <span class="id" title="var">zZ</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">SumOfKernels</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">zZ</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">yY</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">xX</span>) <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">g'</span> <span class="id" title="var">f'</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inducedMapReflectsKernels</span> (<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">induced_PreAdditive</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> (# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">k</span>,,<span class="id" title="var">λ</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>, <span class="id" title="var">pr2</span> <span class="id" title="var">k</span> (<span class="id" title="var">j</span> <span class="id" title="var">T</span>) <span class="id" title="var">h</span> <span class="id" title="var">e</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inducedMapReflectsCokernels</span> (<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">induced_PreAdditive</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> (# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">k</span>,,<span class="id" title="var">λ</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>, <span class="id" title="var">pr2</span> <span class="id" title="var">k</span> (<span class="id" title="var">j</span> <span class="id" title="var">T</span>) <span class="id" title="var">h</span> <span class="id" title="var">e</span>).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">PreAdditive</span>.<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">KernelCokernelPairs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isKernelCokernelPair</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) : <span class="id" title="var">hProp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">isKernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> ∧ <span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">PairToKernel</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">PairToCokernel</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> := <span class="id" title="var">pr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inducedMapReflectsKernelCokernelPairs</span> (<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">induced_PreAdditive</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">c</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">inducedMapReflectsKernels</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">inducedMapReflectsCokernels</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opposite_isKernelCokernelPair</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairToCokernel</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairToKernel</span> <span class="id" title="var">s</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairUniqueness1</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">i'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i'</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">iscontr</span> (<span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">k</span> <span class="id" title="var">_</span>] [<span class="id" title="var">k'</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">exact</span> (<span class="id" title="var">KernelUniqueness</span> <span class="id" title="var">k</span> <span class="id" title="var">k'</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairUniqueness2</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">p'</span>: <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p'</span> -&gt; <span class="id" title="var">iscontr</span> (<span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">p</span> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> <span class="id" title="var">c</span>] [<span class="id" title="var">_</span> <span class="id" title="var">c'</span>]. <span class="id" title="tactic">exact</span> (<span class="id" title="var">CokernelUniqueness</span> <span class="id" title="var">c</span> <span class="id" title="var">c'</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">kerCokerDirectSum</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">S</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> := <span class="id" title="var">BinDirectSum_isBinDirectSum</span> <span class="id" title="var">M</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">S</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>. <span class="id" title="var">use</span> <span class="id" title="var">unique_exists</span>; <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">h</span> · <span class="id" title="var">to_Pr1</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">h</span> (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">S</span>) (<span class="id" title="var">to_In2</span> <span class="id" title="var">S</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">runax</span> (<span class="id" title="var">T</span>--&gt;<span class="id" title="var">S</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">S</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">S</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>. <span class="id" title="var">use</span> <span class="id" title="var">unique_exists</span>; <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">ι₂</span> · <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">assoc</span> (<span class="id" title="var">to_Pr1</span> <span class="id" title="var">S</span>) (<span class="id" title="var">to_In1</span> <span class="id" title="var">S</span>) <span class="id" title="var">h</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">lunax</span> (<span class="id" title="var">S</span>--&gt;<span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (! <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">kerCoker10</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">kerCokerDirectSum</span> (<span class="id" title="var">TrivialDirectSum</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">kerCoker01</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">isKernelCokernelPair</span> (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">kerCokerDirectSum</span> (<span class="id" title="var">TrivialDirectSum'</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairPushoutMap</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">po</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">q</span> : <span class="id" title="var">po</span> --&gt; <span class="id" title="var">C</span>), <span class="id" title="var">PushoutIn1</span> <span class="id" title="var">po</span> · <span class="id" title="var">q</span> = <span class="id" title="var">p</span> × <span class="id" title="var">PushoutIn2</span> <span class="id" title="var">po</span> · <span class="id" title="var">q</span> = 0.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">isPushout_Pushout</span> <span class="id" title="var">po</span> <span class="id" title="var">C</span> <span class="id" title="var">p</span> 0 <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">PairToCokernel</span> <span class="id" title="var">pr</span>) @ ! <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairPullbackMap</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> &lt;-- <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">A'</span>) (<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">q</span> : <span class="id" title="var">pb</span> &lt;-- <span class="id" title="var">C</span>), <span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb</span> ∘ <span class="id" title="var">q</span> = <span class="id" title="var">p</span> × <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span> ∘ <span class="id" title="var">q</span> = 0.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPushoutMap</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) (<span class="id" title="var">opposite_isKernelCokernelPair</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairPushoutCokernel</span> {<span class="id" title="var">M</span> :<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">A'</span>) (<span class="id" title="var">po</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> := <span class="id" title="var">PushoutIn2</span> <span class="id" title="var">po</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pp</span> := <span class="id" title="var">PairPushoutMap</span> <span class="id" title="var">pr</span> <span class="id" title="var">r</span> <span class="id" title="var">po</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">j</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">pp</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">s</span> := <span class="id" title="var">PushoutIn1</span> <span class="id" title="var">po</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> [<span class="id" title="var">e1</span> <span class="id" title="var">e2</span>]]; <span class="id" title="tactic">change</span> (<span class="id" title="var">isCokernel'</span> <span class="id" title="var">j</span> <span class="id" title="var">q</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">s</span> · <span class="id" title="var">q</span> = <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">j</span> · <span class="id" title="var">q</span> = 0)) <span class="id" title="tactic">in</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span> : <span class="id" title="var">i</span> · (<span class="id" title="var">s</span> · <span class="id" title="var">h</span>) = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">r</span> · <span class="id" title="var">j</span> · <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">s</span>, <span class="id" title="var">s</span> · <span class="id" title="var">h</span>)). <span class="id" title="tactic">exact</span> (<span class="id" title="var">PushoutSqrCommutes</span> <span class="id" title="var">po</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (!<span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">V</span> := <span class="id" title="var">iscontrpr1</span> ((<span class="id" title="var">pr22</span> <span class="id" title="var">pr</span>) <span class="id" title="var">T</span> (<span class="id" title="var">s</span> · <span class="id" title="var">h</span>) <span class="id" title="var">L</span>)); <span class="id" title="tactic">clear</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">V</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">e3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>; <span class="id" title="tactic">intros</span> φ φ'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> φ <span class="id" title="keyword">as</span> [φ <span class="id" title="var">e4</span>]; <span class="id" title="tactic">induction</span> φ' <span class="id" title="keyword">as</span> [φ' <span class="id" title="var">e5</span>]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">_</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">isEpi_precomp</span> <span class="id" title="var">M</span> <span class="id" title="var">s</span> <span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">pr</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">e4</span> @ ! <span class="id" title="var">e5</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span>  <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">MorphismsOutofPushoutEqual</span> (<span class="id" title="var">isPushout_Pushout</span> <span class="id" title="var">po</span>)); <span class="id" title="tactic">fold</span> <span class="id" title="var">s</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">e3</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">s</span>, <span class="id" title="var">s</span> · <span class="id" title="var">k</span>)). <span class="id" title="tactic">exact</span> <span class="id" title="var">e1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ ! <span class="id" title="var">e</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>. }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PairPullbackKernel</span> {<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> &lt;-- <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">A'</span>) (<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> := <span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pp</span> := <span class="id" title="var">PairPullbackMap</span> <span class="id" title="var">pr</span> <span class="id" title="var">r</span> <span class="id" title="var">pb</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">pp</span>) <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPushoutCokernel</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">opposite_isKernelCokernelPair</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfKernelCokernelPairs</span> {<span class="id" title="var">M</span> : <span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xX</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">x</span> <span class="id" title="var">X</span>) (<span class="id" title="var">yY</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">y</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">zZ</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">z</span> <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} {<span class="id" title="var">f'</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>} {<span class="id" title="var">g'</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">xX</span> <span class="id" title="var">yY</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">yY</span> <span class="id" title="var">zZ</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">SumOfKernels</span>   <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">i</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">i'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>  (<span class="id" title="var">SumOfCokernels</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">i'</span>)).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">KernelCokernelPairs</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">theDefinition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ExactCategoryData</span> := ∑ <span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>, <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span> -&gt; <span class="id" title="var">hProp</span>. &nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ExactCategoryDataToAdditiveCategory</span> (<span class="id" title="var">ME</span> : <span class="id" title="var">ExactCategoryData</span>) : <span class="id" title="var">AdditiveCategory</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">ME</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isExact</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} (<span class="id" title="var">E</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>) : <span class="id" title="var">hProp</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">M</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isExact2</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) := <span class="id" title="var">isExact</span> (<span class="id" title="var">mk_MorphismPair</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isAdmissibleMonomorphism</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">C</span> (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>), <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">AdmissibleMonomorphism</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>), <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">AdmMonoToMap</span>  {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> -&gt;  <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">AdmMonoToMap'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> -&gt; (<span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>)%<span class="id" title="var">cat</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isAdmissibleEpimorphism</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">A</span> (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>), <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">AdmissibleEpimorphism</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} (<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>), <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">AdmEpiToMap</span>  {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> -&gt;  <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">AdmEpiToMap'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> -&gt; (<span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>)%<span class="id" title="var">cat</span> := <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactToAdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span>(<span class="id" title="var">C</span>,,<span class="id" title="var">p</span>,,<span class="id" title="var">e</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactToAdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span>(<span class="id" title="var">A</span>,,<span class="id" title="var">i</span>,,<span class="id" title="var">e</span>)).<br/>
</div>
</div>

<div class="doc">
The following definition is definition 2.1 from the paper of Bühler. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">ExactCategoryProperties</span> (<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>), <span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">Q</span>) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>), <span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">Q</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">Q</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ <span class="id" title="var">A</span>:<span class="id" title="var">M</span>, <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ <span class="id" title="var">A</span>:<span class="id" title="var">M</span>, <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>))) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ <span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>, <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>))) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">PB</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PO</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">PO</span>))).<br/>
</div>

<div class="doc">
The following definition is from Higher Algebraic K-theory I, by Quillen.
      We prove below that the two definitions are equivalent. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">ExactCategoryProperties_Quillen</span> (<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategoryData</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">P</span> <span class="id" title="var">Q</span>:<span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>), <span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">Q</span>) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">AB</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>), <span class="id" title="var">isExact2</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">AB</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ <span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>, <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isKernel'</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>) ∧ <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>))) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">PB</span>)) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PO</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">PO</span>))) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">j</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hasCokernel</span> <span class="id" title="var">i</span> ⇒ <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) ⇒ <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span>) ∧<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∀ (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">j</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hasKernel</span> <span class="id" title="var">j</span> ⇒ <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) ⇒ <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ExactCategory</span> := ∑ (<span class="id" title="var">ME</span>:<span class="id" title="var">ExactCategoryData</span>), <span class="id" title="var">ExactCategoryProperties</span> <span class="id" title="var">ME</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ExactCategoryToData</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) : <span class="id" title="var">ExactCategoryData</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_ExactCategory</span> (<span class="id" title="var">ME</span>:<span class="id" title="var">ExactCategoryData</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">ExactCategoryProperties</span> <span class="id" title="var">ME</span>) : <span class="id" title="var">ExactCategory</span> := <span class="id" title="var">ME</span>,,<span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isExactFunctor</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">M</span> ⟶ <span class="id" title="var">N</span>) : <span class="id" title="var">hProp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= ∀ (<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>), <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> (<span class="id" title="var">applyFunctorToPair</span> <span class="id" title="var">F</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ExactFunctor</span> (<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">ExactCategory</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= ∑ <span class="id" title="var">F</span> : <span class="id" title="var">M</span> ⟶ <span class="id" title="var">N</span>, <span class="id" title="var">isExactFunctor</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ExactFunctorToFunctor</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">ExactCategory</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">ExactFunctor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> -&gt; (<span class="id" title="var">M</span> ⟶ <span class="id" title="var">N</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ShortExactSequence</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) := ∑ (<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>), <span class="id" title="var">isExact</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ShortExactSequenceToMorphismPair</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">ShortExactSequenceMap</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">P</span> <span class="id" title="var">Q</span>:<span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">M</span>) := <span class="id" title="var">MorphismPairMap</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">applyFunctorToShortExactSequence</span> {<span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">ExactFunctor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">M</span> -&gt; <span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">applyFunctorToPair</span> <span class="id" title="var">F</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">E</span> <span class="id" title="var">iE</span>]. <span class="id" title="tactic">unfold</span> <span class="id" title="var">ShortExactSequenceToMorphismPair</span>,<span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">E</span> <span class="id" title="var">iE</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">composeExactFunctors</span> {<span class="id" title="var">L</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>:<span class="id" title="var">ExactCategory</span>} : <span class="id" title="var">ExactFunctor</span> <span class="id" title="var">L</span> <span class="id" title="var">M</span> -&gt; <span class="id" title="var">ExactFunctor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> -&gt; <span class="id" title="var">ExactFunctor</span> <span class="id" title="var">L</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">F</span> ∙ <span class="id" title="var">G</span>). <span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>, <span class="id" title="var">pr2</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span>)).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">theDefinition</span>.<br/>

<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">excat</span> <span class="id" title="keyword">with</span> <span class="id" title="var">excat</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">excat</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;A ↣ B" := (<span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">excat</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;B ↠ C" := (<span class="id" title="var">AdmissibleEpimorphism</span>  <span class="id" title="var">B</span> <span class="id" title="var">C</span>) : <span class="id" title="var">excat</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;F ∙ G" := (<span class="id" title="var">composeExactFunctors</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>) : <span class="id" title="var">excat</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;M ⟶ N" := (<span class="id" title="var">ExactFunctor</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>) : <span class="id" title="var">excat</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">ExactCategoryAccessFunctions</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_IsomorphicToExact</span> {<span class="id" title="var">P</span> <span class="id" title="var">Q</span>:<span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">Q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr112</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_IsomorphicToExact'</span> {<span class="id" title="var">P</span> <span class="id" title="var">Q</span>:<span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">Q</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isExact</span> <span class="id" title="var">Q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr212</span> <span class="id" title="var">M</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_IdentityIsMono</span> (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr122</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IdentityMono</span> (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">identity</span> <span class="id" title="var">A</span>,, <span class="id" title="var">EC_IdentityIsMono</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_IdentityIsEpi</span> (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr2</span> (<span class="id" title="var">pr122</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IdentityEpi</span> (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">identity</span> <span class="id" title="var">A</span>,, <span class="id" title="var">EC_IdentityIsEpi</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_ExactToKernelCokernel</span> {<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr12</span> (<span class="id" title="var">pr22</span> <span class="id" title="var">M</span>) <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_ExactToKernel</span> {<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isKernel'</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">λ</span> <span class="id" title="var">i</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_ExactToCokernel</span> {<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">λ</span> <span class="id" title="var">i</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_ComposeMono</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">g</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr112</span> (<span class="id" title="var">pr222</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_ComposeEpi</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">g</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr212</span> (<span class="id" title="var">pr222</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_PullbackEpi</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">PB</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr122</span> (<span class="id" title="var">pr222</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EC_PushoutMono</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">PO</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>), <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">PO</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">pr222</span> (<span class="id" title="var">pr222</span> <span class="id" title="var">M</span>) <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">ExactCategoryAccessFunctions</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">OppositeExactCategory</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">oppositeExactCategoryData</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategoryData</span>) : <span class="id" title="var">ExactCategoryData</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">oppositeAdditiveCategory</span> <span class="id" title="var">M</span>). <span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">p</span>, @<span class="id" title="var">isExact</span> <span class="id" title="var">M</span> (<span class="id" title="var">opp_MorphismPair</span> <span class="id" title="var">p</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">oppositeExactCategory</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) : <span class="id" title="var">ExactCategory</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">mk_ExactCategory</span> (<span class="id" title="var">oppositeExactCategoryData</span> <span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_IsomorphicToExact'</span> (<span class="id" title="var">opp_MorphismPairIsomorphism</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_IsomorphicToExact</span> (<span class="id" title="var">opp_MorphismPairIsomorphism</span> <span class="id" title="var">f</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">EC_IdentityIsEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">EC_IdentityIsMono</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isKernelCokernelPair</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">i</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_ComposeEpi</span> <span class="id" title="var">M</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_ComposeMono</span> <span class="id" title="var">M</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_PushoutMono</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_PullbackEpi</span> <span class="id" title="var">M</span>). } }<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">OppositeExactCategory</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;C '^op'" := (<span class="id" title="var">oppositeExactCategory</span> <span class="id" title="var">C</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3, <span class="id" title="var">format</span> "C ^op") : <span class="id" title="var">excat</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">ExactCategoryFacts</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactToMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isMonic</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToKernel</span> <span class="id" title="var">e</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactToEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isEpi</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">e</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactSequenceFromMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">co</span> <span class="id" title="var">mo</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">mo</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">mo</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C'</span> [<span class="id" title="var">p'</span> <span class="id" title="var">e</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">co'</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">e</span>) : <span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> := <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">CokernelUniqueness</span> <span class="id" title="var">co'</span> <span class="id" title="var">co</span>)). <span class="id" title="tactic">induction</span> <span class="id" title="var">R</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">R</span> <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">r</span> @ !<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactSequenceFromEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactSequenceFromMono</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">p</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactSequence10</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) : <span class="id" title="var">isExact2</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactSequenceFromMono</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">kerCoker10</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">EC_IdentityIsMono</span> <span class="id" title="var">A</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactSequence01</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) : <span class="id" title="var">isExact2</span> (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactSequenceFromEpi</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">kerCoker01</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">EC_IdentityIsEpi</span> <span class="id" title="var">A</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">FromZeroIsMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">isAdmissibleMonomorphism</span> (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>). <span class="id" title="var">use</span> <span class="id" title="var">ExactSequence01</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">MonoFromZero</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">Z</span> ↣ <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (0 : <span class="id" title="var">Z</span> --&gt; <span class="id" title="var">A</span>),,<span class="id" title="var">FromZeroIsMono</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ToZeroIsEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>). <span class="id" title="var">use</span> <span class="id" title="var">ExactSequence10</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">EpiToZero</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) : <span class="id" title="var">A</span> ↠ <span class="id" title="var">Z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>),,<span class="id" title="var">ToZeroIsEpi</span> <span class="id" title="var">A</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> ∏ (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>), <span class="id" title="var">EpiToZero</span> <span class="id" title="var">A</span> <span class="id" title="var">Z</span> = <span class="id" title="var">MonoFromZero</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">Zero_opp</span> <span class="id" title="var">M</span> <span class="id" title="var">Z</span>) <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsomMono1</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrowFrom</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">I</span>] <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">p</span> <span class="id" title="var">E</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">i</span> · <span class="id" title="var">p</span>). <span class="id" title="var">use</span> (<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">I</span> @ ! <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">k</span> · <span class="id" title="var">p</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">_</span> @ ! <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">k</span> · <span class="id" title="var">p</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsomEpi1</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrowTo</span> <span class="id" title="var">f'</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IsomMono1</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">f</span> <span class="id" title="var">f'</span> (<span class="id" title="var">opposite_IsoArrowTo</span> <span class="id" title="var">i</span>) <span class="id" title="var">e</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsomMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrow</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">g</span> [<span class="id" title="var">h</span> <span class="id" title="var">e</span>]] <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">p</span> <span class="id" title="var">E</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">h</span> · <span class="id" title="var">p</span>). <span class="id" title="var">use</span> (<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">mk_MorphismPairIsomorphism</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mk_MorphismPair</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>) (<span class="id" title="var">mk_MorphismPair</span> <span class="id" title="var">f'</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">h</span> · <span class="id" title="var">p</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">g</span> <span class="id" title="var">h</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">C</span>) <span class="id" title="var">e</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">p</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">p</span> @ ! <span class="id" title="var">id_right</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsomEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">IsoArrow</span> <span class="id" title="var">f'</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IsomMono</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">f</span> <span class="id" title="var">f'</span> (<span class="id" title="var">opposite_IsoArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackEpiIsEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">fepi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">qb</span> := <span class="id" title="var">EC_PullbackEpi</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">fepi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">qb</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">qb</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">qb</span> <span class="id" title="var">epi2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">pullbackiso2</span> <span class="id" title="var">pb</span> <span class="id" title="var">qb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IsomEpi1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">I</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">epi2</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsPullbackEpiIsEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">h</span> : <span class="id" title="var">P</span> --&gt; <span class="id" title="var">A</span>} {<span class="id" title="var">k</span> : <span class="id" title="var">P</span> --&gt; <span class="id" title="var">C</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">pb</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">PullbackEpiIsEpi</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">mk_Pullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">pb</span>))).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsIsoIsMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">IsomMono1</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span>,,<span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">EC_IdentityIsMono</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoIsMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">z_iso_mor</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">IsIsoIsMono</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">f</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IsoToAdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">z_iso_mor</span> <span class="id" title="var">f</span>,,<span class="id" title="var">IsoIsMono</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsoIsEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">z_iso_mor</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IsoIsMono</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) (<span class="id" title="var">opp_z_iso</span> <span class="id" title="var">f</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">IsoToAdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">z_iso_mor</span> <span class="id" title="var">f</span>,,<span class="id" title="var">IsoIsEpi</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToExact</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isExact2</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">S</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">ExactSequenceFromEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairToKernel</span> (<span class="id" title="var">kerCokerDirectSum</span> <span class="id" title="var">S</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">M</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pb</span> := <span class="id" title="var">DirectSumToPullback</span> <span class="id" title="var">S</span> <span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">EC_PullbackEpi</span> (0 : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">Z</span>) (0 : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">Z</span>) (<span class="id" title="var">ToZeroIsEpi</span> <span class="id" title="var">A</span> <span class="id" title="var">Z</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">pb'</span> <span class="id" title="var">R'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">IsomEpi1</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb'</span>) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>) (<span class="id" title="var">pullbackiso2</span> <span class="id" title="var">pb</span> <span class="id" title="var">pb'</span>) <span class="id" title="var">R'</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToExact'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isExact2</span> (<span class="id" title="var">to_In2</span> <span class="id" title="var">S</span>) (<span class="id" title="var">to_Pr1</span> <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">DirectSumToExact</span> (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">In1IsAdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">ι₁</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">B</span>,,<span class="id" title="var">to_Pr2</span> <span class="id" title="var">S</span>,,<span class="id" title="var">DirectSumToExact</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">In2IsAdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">ι₂</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">A</span>,,<span class="id" title="var">to_Pr1</span> <span class="id" title="var">S</span>,,<span class="id" title="var">DirectSumToExact'</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Pr1IsAdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> (π<span class="id" title="var">₁</span> : <span class="id" title="var">S</span> --&gt; <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">B</span>,,<span class="id" title="var">to_In2</span> <span class="id" title="var">S</span>,,<span class="id" title="var">DirectSumToExact'</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Pr2IsAdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> (π<span class="id" title="var">₂</span> : <span class="id" title="var">S</span> --&gt; <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span> (<span class="id" title="var">A</span>,,<span class="id" title="var">to_In1</span> <span class="id" title="var">S</span>,,<span class="id" title="var">DirectSumToExact</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">In1AdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> := <span class="id" title="var">ι₁</span> ,, <span class="id" title="var">In1IsAdmMono</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">In2AdmMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleMonomorphism</span> <span class="id" title="var">B</span> <span class="id" title="var">S</span> := <span class="id" title="var">ι₂</span> ,, <span class="id" title="var">In2IsAdmMono</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pr1AdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">S</span> <span class="id" title="var">A</span> := π<span class="id" title="var">₁</span> ,, <span class="id" title="var">Pr1IsAdmEpi</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Pr2AdmEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">S</span>:<span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">AdmissibleEpimorphism</span> <span class="id" title="var">S</span> <span class="id" title="var">B</span> := π<span class="id" title="var">₂</span> ,, <span class="id" title="var">Pr2IsAdmEpi</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">TrivialExactSequence</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) : <span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">DirectSumToExact</span> (<span class="id" title="var">TrivialDirectSum</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">mk_MorphismPair</span> <span class="id" title="var">ι₁</span> π<span class="id" title="var">₂</span>,, <span class="id" title="var">Q</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">TrivialExactSequence'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} (<span class="id" title="var">Z</span>:<span class="id" title="var">Zero</span> <span class="id" title="var">M</span>) (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) : <span class="id" title="var">ShortExactSequence</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">DirectSumToExact</span> (<span class="id" title="var">TrivialDirectSum'</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">mk_MorphismPair</span> <span class="id" title="var">ι₁</span> π<span class="id" title="var">₂</span>,, <span class="id" title="var">Q</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactPushout</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">A'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">po</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">po</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">PairPushoutMap</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">po</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">pr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> := <span class="id" title="var">EC_PushoutMono</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">R</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">po</span> <span class="id" title="var">J</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">po</span>. <span class="id" title="var">use</span> <span class="id" title="var">ExactSequenceFromMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPushoutCokernel</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">po</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">J</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactPushout'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">A'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">B'</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">i'</span>:<span class="id" title="var">A'</span>--&gt;<span class="id" title="var">B'</span>) (<span class="id" title="var">s</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">B'</span>) (<span class="id" title="var">p'</span>:<span class="id" title="var">B'</span>--&gt;<span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s</span>·<span class="id" title="var">p'</span> = <span class="id" title="var">p</span> ∧ <span class="id" title="var">isPushout'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">i'</span> ∧ <span class="id" title="var">isExact2</span> <span class="id" title="var">i'</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">pr</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> := <span class="id" title="var">EC_PushoutMono</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">po</span> <span class="id" title="var">J</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pomap</span> := <span class="id" title="var">PairPushoutMap</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">po</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p'</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">pomap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">po</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">po</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">PushoutIn1</span> <span class="id" title="var">po</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr12</span> <span class="id" title="var">pomap</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Pushout_to_isPushout'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">use</span> <span class="id" title="var">ExactSequenceFromMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPushoutCokernel</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">po</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">J</span>. }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactPullback</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> &lt;-- <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">A'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">pb</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">PairPullbackMap</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>)) (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">hinhpr</span> (<span class="id" title="var">C</span> ,, <span class="id" title="var">p</span> ,, <span class="id" title="var">pr</span>) : <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> := <span class="id" title="var">EC_PullbackEpi</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">R</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">pb</span> <span class="id" title="var">J</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pb</span>. <span class="id" title="var">use</span> <span class="id" title="var">ExactSequenceFromEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPullbackKernel</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">J</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactPullback'</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> &lt;-- <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">A</span> &lt;-- <span class="id" title="var">A'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">B'</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">i'</span>:<span class="id" title="var">A'</span>&lt;--<span class="id" title="var">B'</span>) (<span class="id" title="var">s</span>:<span class="id" title="var">B</span>&lt;--<span class="id" title="var">B'</span>) (<span class="id" title="var">p'</span>:<span class="id" title="var">B'</span>&lt;--<span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s</span>∘<span class="id" title="var">p'</span> = <span class="id" title="var">p</span> ∧ <span class="id" title="var">isPullback'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">i'</span> ∧ <span class="id" title="var">isExact2</span> <span class="id" title="var">p'</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">ExactToAdmEpi</span> <span class="id" title="var">pr</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> := <span class="id" title="var">EC_PullbackEpi</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">I</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">pb</span> <span class="id" title="var">J</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">pbmap</span> := <span class="id" title="var">PairPullbackMap</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p'</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">pbmap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pb</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">pb</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">PullbackPr1</span> <span class="id" title="var">pb</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr12</span> <span class="id" title="var">pbmap</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Pullback_to_isPullback'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">use</span> <span class="id" title="var">ExactSequenceFromEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PairPullbackKernel</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">pr</span>) <span class="id" title="var">r</span> <span class="id" title="var">pb</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">J</span>. }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MonicAdmEpiIsIso</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">A</span> ↠ <span class="id" title="var">B</span>) : <span class="id" title="var">isMonic</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">E</span>]. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">I</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_prop</span> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_is_z_isomorphism</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">K</span> [<span class="id" title="var">i</span> <span class="id" title="var">E</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">E</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ke</span> <span class="id" title="var">co</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">isKernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">ke</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">co</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> : <span class="id" title="var">i</span> = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">use</span> (<span class="id" title="var">I</span> <span class="id" title="var">K</span> <span class="id" title="var">i</span> 0). <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ke</span> @ ! <span class="id" title="var">zeroLeft</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">I</span> <span class="id" title="var">ke</span>. <span class="id" title="tactic">induction</span> (!<span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">CokernelOfZeroMapIsIso</span> <span class="id" title="var">p</span> <span class="id" title="var">co</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">EpiAdmMonoIsIso</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> ↣ <span class="id" title="var">B</span>) : <span class="id" title="var">isEpi</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">opp_is_z_isomorphism</span> <span class="id" title="var">_</span> (<span class="id" title="var">MonicAdmEpiIsIso</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">i</span> <span class="id" title="var">e</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MonoPlusIdentity</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) (<span class="id" title="var">BC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AC</span> <span class="id" title="var">BC</span> <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">intros</span> [<span class="id" title="var">D</span> [<span class="id" title="var">p</span> <span class="id" title="var">j</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">D</span>. <span class="id" title="tactic">exists</span> (π<span class="id" title="var">₁</span> · <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">ExactSequenceFromEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2:{ <span class="id" title="tactic">apply</span> <span class="id" title="var">EC_ComposeEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Pr1IsAdmEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span>(<span class="id" title="var">A</span>,,<span class="id" title="var">f</span>,,<span class="id" title="var">j</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">M</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">D</span> <span class="id" title="var">Z</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">DZ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">SumOfKernelCokernelPairs</span> <span class="id" title="var">AC</span> <span class="id" title="var">BC</span> <span class="id" title="var">DZ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">j</span> : <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">f</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">kerCoker10</span> <span class="id" title="var">Z</span> <span class="id" title="var">C</span> : <span class="id" title="var">isKernelCokernelPair</span> (<span class="id" title="var">identity</span> <span class="id" title="var">C</span>) 0))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R</span> : <span class="id" title="var">directSumMap</span> <span class="id" title="var">BC</span> <span class="id" title="var">DZ</span> <span class="id" title="var">p</span> 0 · <span class="id" title="var">to_Pr1</span> <span class="id" title="var">DZ</span> = <span class="id" title="var">to_Pr1</span> <span class="id" title="var">BC</span> · <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">directSumMapEqPr1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IsoWithKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">m</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">ι₁</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (! <span class="id" title="var">runax</span> (<span class="id" title="var">_</span> --&gt; <span class="id" title="var">_</span>) <span class="id" title="var">_</span> @ ! <span class="id" title="var">_</span> @ <span class="id" title="var">to_BinOpId''</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ThroughZeroIsZero</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">DZ</span>). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">EpiPlusIdentity</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">C</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) (<span class="id" title="var">BC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AC</span> <span class="id" title="var">BC</span> <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">opposite_directSumMap'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">MonoPlusIdentity</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">f</span> <span class="id" title="var">C</span> (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">BC</span>) (<span class="id" title="var">oppositeBinDirectSum</span> <span class="id" title="var">AC</span>) <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IdentityPlusMono</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AB</span> <span class="id" title="var">AC</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">use</span> (<span class="id" title="var">IsomMono</span> (<span class="id" title="var">directSumMap</span> (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">AC</span>) <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AB</span> <span class="id" title="var">AC</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">SwitchMapMapEqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">MonoPlusIdentity</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IdentityPlusEpi</span> {<span class="id" title="var">M</span> : <span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">A</span>:<span class="id" title="var">M</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AB</span> <span class="id" title="var">AC</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="var">use</span> (<span class="id" title="var">IsomEpi</span> (<span class="id" title="var">directSumMap</span> (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">AC</span>) <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>)) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AB</span> <span class="id" title="var">AC</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">SwitchMapMapEqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">EpiPlusIdentity</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">i</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfExactSequences</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span> <span class="id" title="var">C'</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AA'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>) (<span class="id" title="var">BB'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>) (<span class="id" title="var">CC'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>} {<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>} {<span class="id" title="var">g'</span> : <span class="id" title="var">B'</span> --&gt; <span class="id" title="var">C'</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> -&gt; <span class="id" title="var">isExact2</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AA'</span> <span class="id" title="var">BB'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">BB'</span> <span class="id" title="var">CC'</span> <span class="id" title="var">g</span> <span class="id" title="var">g'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ExactSequenceFromMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">use</span> <span class="id" title="var">SumOfCokernels</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">i'</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">A</span> <span class="id" title="var">B'</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">AB'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">j</span> := <span class="id" title="var">directSumMap</span> <span class="id" title="var">AB'</span> <span class="id" title="var">BB'</span> <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">B'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">k</span> := <span class="id" title="var">directSumMap</span> <span class="id" title="var">AA'</span> <span class="id" title="var">AB'</span> (<span class="id" title="var">identity</span> <span class="id" title="var">A</span>) <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">kj</span> : <span class="id" title="var">k</span> · <span class="id" title="var">j</span> = <span class="id" title="var">directSumMap</span> <span class="id" title="var">AA'</span> <span class="id" title="var">BB'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumUnique</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>). <span class="id" title="var">intermediate_path</span> (<span class="id" title="var">k</span> · (π<span class="id" title="var">₁</span> · <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">directSumMapEqPr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">postcomp_with</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">directSumMapEqPr1</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (! <span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>). <span class="id" title="var">intermediate_path</span> (<span class="id" title="var">k</span> · (π<span class="id" title="var">₂</span> · (<span class="id" title="var">identity</span> <span class="id" title="var">B'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">directSumMapEqPr2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">directSumMapEqPr2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">kj</span>. <span class="id" title="var">use</span> (<span class="id" title="var">EC_ComposeMono</span> <span class="id" title="var">k</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IdentityPlusMono</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">MonoPlusIdentity</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdmMonoEnlargement</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">BC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">BC</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">AC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">BC</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span>  = <span class="id" title="var">ι₁</span> · (1 + π<span class="id" title="var">₁</span>·<span class="id" title="var">f</span>·<span class="id" title="var">ι₂</span>) · (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AC</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (! <span class="id" title="var">runax</span> (<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> π<span class="id" title="var">₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>, <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (!<span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">EC_ComposeMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">EC_ComposeMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">In1IsAdmMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IsIsoIsMono</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">elem21_isiso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">MonoPlusIdentity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfAdmissibleEpis</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AA'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>) (<span class="id" title="var">BB'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">f'</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AA'</span> <span class="id" title="var">BB'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">g</span> <span class="id" title="var">e</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C'</span> [<span class="id" title="var">g'</span> <span class="id" title="var">e'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">CC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmEpi</span> (<span class="id" title="var">SumOfExactSequences</span> <span class="id" title="var">CC'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">SumOfAdmissibleMonos</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AA'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">A'</span>) (<span class="id" title="var">BB'</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">f'</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AA'</span> <span class="id" title="var">BB'</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">g</span> <span class="id" title="var">e</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">e'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">C'</span> [<span class="id" title="var">g'</span> <span class="id" title="var">e'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">CC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmMono</span> (<span class="id" title="var">SumOfExactSequences</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">CC'</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MapPlusIdentityToCommSq</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">C</span>:<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) (<span class="id" title="var">BC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">ι₁</span> = <span class="id" title="var">ι₁</span> · (<span class="id" title="var">directSumMap</span> <span class="id" title="var">AC</span> <span class="id" title="var">BC</span> <span class="id" title="var">f</span> (<span class="id" title="var">identity</span> <span class="id" title="var">C</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">BC</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">BC</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>, <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">AC</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">KernelPlusIdentity</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) (<span class="id" title="var">D</span>:<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">BD</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">D</span>) (<span class="id" title="var">CD</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel'</span> (<span class="id" title="var">f</span> · <span class="id" title="var">ι₁</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">BD</span> <span class="id" title="var">CD</span> <span class="id" title="var">g</span> (<span class="id" title="var">identity</span> <span class="id" title="var">D</span>)) -&gt; <span class="id" title="var">isKernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">makeMonicKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">isMonic_postcomp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">KernelIsMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">to_In1_isMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">CD</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">K</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">eqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> : <span class="id" title="var">h</span> · <span class="id" title="var">ι₁</span> · <span class="id" title="var">directSumMap</span> <span class="id" title="var">BD</span> <span class="id" title="var">CD</span> <span class="id" title="var">g</span> (<span class="id" title="var">identity</span> <span class="id" title="var">D</span>) = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">r</span>, <span class="id" title="var">r</span>·<span class="id" title="var">ι₁</span>) <span class="id" title="var">eqn</span> @ <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">K</span> <span class="id" title="var">T</span> (<span class="id" title="var">h</span>·<span class="id" title="var">ι₁</span>) <span class="id" title="var">E</span>)); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">to_In1_isMonic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CokernelPlusIdentity</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">g</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) (<span class="id" title="var">D</span>:<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">BD</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">D</span>) (<span class="id" title="var">CD</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel'</span> (<span class="id" title="var">f</span> · <span class="id" title="var">ι₁</span>) (<span class="id" title="var">directSumMap</span> <span class="id" title="var">BD</span> <span class="id" title="var">CD</span> <span class="id" title="var">g</span> (<span class="id" title="var">identity</span> <span class="id" title="var">D</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ic</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">r</span> <span class="id" title="var">r'</span>] [<span class="id" title="var">s</span> <span class="id" title="var">s'</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality_prop</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">r'</span> @ ! <span class="id" title="var">s'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">r'</span> <span class="id" title="var">s'</span> <span class="id" title="var">u</span> <span class="id" title="var">h</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">FromBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">w</span>, <span class="id" title="var">ι₁</span> · <span class="id" title="var">w</span>) <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">CokernelIsEpi</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">ic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">L</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">w</span>, <span class="id" title="var">ι₂</span> · <span class="id" title="var">w</span>) <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">directSumMapEqIn2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">id_left</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">L</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ic</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> @ <span class="id" title="var">u</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Q</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">q</span> <span class="id" title="var">Q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (π<span class="id" title="var">₁</span> · <span class="id" title="var">q</span> + π<span class="id" title="var">₂</span> · <span class="id" title="var">ι₂</span> · <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>,<span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">w</span>, <span class="id" title="var">w</span>·<span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">to_BinOpId''</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">MapPlusIdentityToPullback</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">C</span>:<span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">AC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) (<span class="id" title="var">BC</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isPullback</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">MapPlusIdentityToCommSq</span> <span class="id" title="var">f</span> <span class="id" title="var">C</span> <span class="id" title="var">AC</span> <span class="id" title="var">BC</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> [<span class="id" title="var">P</span> <span class="id" title="var">P'</span>]] [<span class="id" title="var">q</span> [<span class="id" title="var">Q</span> <span class="id" title="var">Q'</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (! <span class="id" title="var">id_right</span> <span class="id" title="var">_</span> @ <span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">AC</span>). <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">induction</span> (!<span class="id" title="var">P'</span>), (!<span class="id" title="var">Q'</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<span class="id" title="var">h</span> · π<span class="id" title="var">₁</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">BC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">g</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">h</span> <span class="id" title="var">_</span> π<span class="id" title="var">₁</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">AC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">refine</span> (! <span class="id" title="var">runax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> : <span class="id" title="var">h</span> · π<span class="id" title="var">₂</span> = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">refine</span> ( <span class="id" title="var">_</span> @ <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">w</span>, <span class="id" title="var">w</span> · π<span class="id" title="var">₂</span>) (!<span class="id" title="var">e</span>) @ <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">directSumMap</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">BinDirectSumIndAr</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">BC</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">K</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroLeft</span>.<br/>
</div>
</div>

<div class="doc">
The "obscure" axiom c of Quillen. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdmMonoFromComposite</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">j</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hasCokernel</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) -&gt; <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hc</span> <span class="id" title="var">im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">CB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">BC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">CB</span> (<span class="id" title="var">i</span> · <span class="id" title="var">j</span>) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">s</span> := <span class="id" title="var">AdmMonoEnlargement</span> <span class="id" title="var">_</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) <span class="id" title="var">i</span> <span class="id" title="var">im</span> : <span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">im</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="var">q</span> · <span class="id" title="var">elem12</span> <span class="id" title="var">_</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">j</span>) = <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">CB</span> 0 <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">ToBinDirectSumsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">elem12</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>, <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> π<span class="id" title="var">₂</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> (<span class="id" title="var">q</span> · π<span class="id" title="var">₂</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> π<span class="id" title="var">₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">CB</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightMinus</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr1Commutes</span>, <span class="id" title="var">BinDirectSumPr2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">grrinvax</span> (<span class="id" title="var">Hom_add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">elem12</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>, <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> π<span class="id" title="var">₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">CB</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinDirectSumPr2Commutes</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e'</span> : <span class="id" title="var">q</span> · <span class="id" title="var">elem12</span> <span class="id" title="var">_</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">j</span>) · <span class="id" title="var">SwitchMap</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> = <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">BC</span> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">SwitchMapEqnTo</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">BC</span> <span class="id" title="var">i</span> 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">induction</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EC_ComposeMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">EC_ComposeMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IsIsoIsMono</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">elem12_isiso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IsIsoIsMono</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">SwitchIso</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e'</span> <span class="id" title="var">e</span> <span class="id" title="var">s</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">hc</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">hc</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">D</span> [<span class="id" title="var">k</span> <span class="id" title="var">ic</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">DC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PB</span> := <span class="id" title="var">is_symmetric_isPullback</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">M</span>) <span class="id" title="var">_</span> (<span class="id" title="var">MapPlusIdentityToPullback</span> <span class="id" title="var">k</span> <span class="id" title="var">C</span> <span class="id" title="var">BC</span> <span class="id" title="var">DC</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">co</span> := <span class="id" title="var">CokernelPlusIdentity</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span> <span class="id" title="var">C</span> <span class="id" title="var">BC</span> <span class="id" title="var">DC</span> <span class="id" title="var">ic</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">es</span> := <span class="id" title="var">ExactSequenceFromMono</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">co</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">co</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t</span> : <span class="id" title="var">i</span> · <span class="id" title="var">to_In1</span> <span class="id" title="var">BC</span> = <span class="id" title="var">ToBinDirectSum</span> <span class="id" title="var">BC</span> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ToBinDirectSumFormulaUnique</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">ToBinDirectSumFormula</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">rewrite_op</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">runax</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l'</span> : <span class="id" title="var">isAdmissibleMonomorphism</span> (<span class="id" title="var">i</span> · <span class="id" title="var">to_In1</span> <span class="id" title="var">BC</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">induction</span> (!<span class="id" title="var">t</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">l</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ee</span> := <span class="id" title="var">es</span> <span class="id" title="var">l'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">es</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">ExactToAdmMono</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">k</span>)). <span class="id" title="var">use</span> (<span class="id" title="var">ExactSequenceFromEpi</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">KernelPlusIdentity</span>. 4: <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_ExactToKernel</span> <span class="id" title="var">ee</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">IsPullbackEpiIsEpi</span> (<span class="id" title="var">_</span>,,<span class="id" title="var">PB</span>)). <span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmEpi</span> <span class="id" title="var">ee</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdmEpiFromComposite</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">j</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hasKernel</span> <span class="id" title="var">j</span> -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) -&gt; <span class="id" title="var">isAdmissibleEpimorphism</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">AdmMonoFromComposite</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>^<span class="id" title="var">op</span>) <span class="id" title="var">j</span> <span class="id" title="var">i</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">CokernelSequence</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">P</span> <span class="id" title="var">R</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">j</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">P</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">j</span> <span class="id" title="var">q</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">Q</span> (<span class="id" title="var">s</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">Q</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">P</span> --&gt; <span class="id" title="var">Q</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">Q</span> --&gt; <span class="id" title="var">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) <span class="id" title="var">s</span> ∧ <span class="id" title="var">isExact2</span> <span class="id" title="var">k</span> <span class="id" title="var">r</span> ∧ <span class="id" title="var">isPushout'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">k</span> ∧ <span class="id" title="var">s</span> · <span class="id" title="var">r</span> = <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ip</span> <span class="id" title="var">jq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">co</span> := <span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">ip</span> : <span class="id" title="var">isCokernel'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">b</span> := <span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">jq</span> : <span class="id" title="var">isCokernel'</span> <span class="id" title="var">j</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">I</span> := <span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">ip</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">J</span> := <span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">jq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">IJ</span> := <span class="id" title="var">EC_ComposeMono</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">I</span> <span class="id" title="var">J</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">co'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ijq</span> : <span class="id" title="var">i</span> · (<span class="id" title="var">j</span> · <span class="id" title="var">q</span>) = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">po</span> := <span class="id" title="var">EC_PushoutMono</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> (<span class="id" title="var">ExactToAdmMono</span> <span class="id" title="var">jq</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">po</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">po</span>; <span class="id" title="tactic">intros</span> [[[<span class="id" title="var">Q</span> [<span class="id" title="var">s</span> <span class="id" title="var">k</span>]] [<span class="id" title="var">e1</span> <span class="id" title="var">po</span>]] <span class="id" title="var">K</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">isPushout</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">k</span> <span class="id" title="var">e1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">po</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">isAdmissibleMonomorphism</span> <span class="id" title="var">k</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">K</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">j</span> · <span class="id" title="var">s</span> = <span class="id" title="var">p</span> · <span class="id" title="var">k</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span> := <span class="id" title="var">PushoutCokernel</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">co</span> (<span class="id" title="var">_</span>,,<span class="id" title="var">po</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e2</span> : <span class="id" title="var">j</span> · <span class="id" title="var">q</span> = <span class="id" title="var">p</span> · 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">a</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PO</span> := <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">po</span> <span class="id" title="var">R</span> <span class="id" title="var">q</span> 0 <span class="id" title="var">e2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">PO</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">u</span> [<span class="id" title="var">e3</span> <span class="id" title="var">e4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ijs</span> := <span class="id" title="var">ExactSequenceFromMono</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) <span class="id" title="var">s</span> <span class="id" title="var">L</span> <span class="id" title="var">IJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ijs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">use</span> (<span class="id" title="var">ExactSequenceFromMono</span> <span class="id" title="var">k</span> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">e4</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e5</span> : <span class="id" title="var">j</span> · (<span class="id" title="var">s</span> · <span class="id" title="var">h</span>) = 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">W</span> := <span class="id" title="var">co'</span> <span class="id" title="var">T</span> (<span class="id" title="var">s</span>·<span class="id" title="var">h</span>) <span class="id" title="var">e5</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">W</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">iscontrweqf</span> <span class="id" title="var">_</span> <span class="id" title="var">W</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">weqfibtototal</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">weqiff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">CokernelIsEpi</span> (<span class="id" title="var">i</span>·<span class="id" title="var">j</span>) <span class="id" title="var">s</span> (<span class="id" title="var">EC_ExactToCokernel</span> <span class="id" title="var">ijs</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">po</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">e3</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Tmp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">KernelSequence</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">P</span> <span class="id" title="var">R</span>:<span class="id" title="var">M</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">j</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">P</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">R</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">q</span> <span class="id" title="var">j</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">Q</span> (<span class="id" title="var">s</span> : <span class="id" title="var">Q</span> --&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">k</span> : <span class="id" title="var">Q</span> --&gt; <span class="id" title="var">P</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span> --&gt; <span class="id" title="var">Q</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">s</span> (<span class="id" title="var">j</span>·<span class="id" title="var">i</span>) ∧ <span class="id" title="var">isExact2</span> <span class="id" title="var">r</span> <span class="id" title="var">k</span> ∧ <span class="id" title="var">isPullback'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">k</span> ∧ <span class="id" title="var">r</span> · <span class="id" title="var">s</span> = <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">CokernelSequence</span> (<span class="id" title="var">M</span> := <span class="id" title="var">oppositeExactCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactIso3</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> (<span class="id" title="var">p</span>·<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ex</span>. <span class="id" title="var">use</span> (<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">_</span> <span class="id" title="var">ex</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">id_left</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactIso2</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">B'</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">B</span> <span class="id" title="var">B'</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isExact2</span> (<span class="id" title="var">i</span> · <span class="id" title="var">t</span>) (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t</span> · <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ex</span>. <span class="id" title="var">use</span> (<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">_</span> <span class="id" title="var">ex</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity_z_iso</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (! <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, <span class="id" title="var">id_right</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ExactIso1</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">A'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">t</span>:<span class="id" title="var">z_iso</span> <span class="id" title="var">A'</span> <span class="id" title="var">A</span>) (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isExact2</span> (<span class="id" title="var">t</span>·<span class="id" title="var">i</span>) <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactIso3</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositeExactCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">i</span> (<span class="id" title="var">opp_z_iso</span> <span class="id" title="var">t</span>)).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">ExactCategoryFacts</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">EquivalenceOfTwoDefinitions</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <span class="id" title="var">EquivalenceOfTwoDefinitions</span> (<span class="id" title="var">D</span>:<span class="id" title="var">ExactCategoryData</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExactCategoryProperties</span> <span class="id" title="var">D</span> ⇔ <span class="id" title="var">ExactCategoryProperties_Quillen</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M</span> := (<span class="id" title="var">D</span>,,<span class="id" title="var">prop</span>) : <span class="id" title="var">ExactCategory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_IsomorphicToExact</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">DirectSumToExact</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_ComposeMono</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_ComposeEpi</span> <span class="id" title="var">M</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_PullbackEpi</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">EC_PushoutMono</span> <span class="id" title="var">M</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">AdmMonoFromComposite</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">AdmEpiFromComposite</span> <span class="id" title="var">M</span>). } } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> [<span class="id" title="var">P1</span> [<span class="id" title="var">P2</span> [<span class="id" title="var">P3</span> [[<span class="id" title="var">P4</span> <span class="id" title="var">P4'</span>] [[<span class="id" title="var">P5</span> <span class="id" title="var">P5'</span>] [<span class="id" title="var">P6</span> <span class="id" title="var">P7</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">P1</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> (<span class="id" title="var">InverseMorphismPairIsomorphism</span> <span class="id" title="var">i</span>)). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">D</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">TrivialDirectSum</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">P2</span> <span class="id" title="var">A</span> <span class="id" title="var">Z</span> <span class="id" title="var">Q</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">D</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">TrivialDirectSum'</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">P2</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span> <span class="id" title="var">Q</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P3</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P4</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P4'</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P5</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> <span class="id" title="var">P5'</span>. } } }<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">EquivalenceOfTwoDefinitions</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">SplitSequences</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isSplit2</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">q</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ (<span class="id" title="var">p</span>:<span class="id" title="var">A</span>&lt;--<span class="id" title="var">B</span>) (<span class="id" title="var">j</span>:<span class="id" title="var">B</span>&lt;--<span class="id" title="var">C</span>), <span class="id" title="var">isBinDirectSum</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">commax_hom</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) : <span class="id" title="var">f</span>+<span class="id" title="var">g</span> = <span class="id" title="var">g</span>+<span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">commax</span> (<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Foo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> ∏ {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplit2</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">i</span> <span class="id" title="var">p</span> = <span class="id" title="var">isSplit2</span> (<span class="id" title="var">M</span> := <span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">k</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isSplit2</span>, <span class="id" title="var">isBinDirectSum</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rewrite_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Foo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_isSplit2</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplit2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isSplit2</span> (<span class="id" title="var">M</span> := <span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Fail</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">s</span>. &nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">intros</span> [<span class="id" title="var">q</span> [<span class="id" title="var">j</span> <span class="id" title="var">jq</span>]]. <span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">jq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">exists</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">jq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">commax_hom</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">jq</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isSplit</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>) : <span class="id" title="var">hProp</span> := <span class="id" title="var">isSplit2</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_isSplit</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">P</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplit</span> <span class="id" title="var">P</span> -&gt; <span class="id" title="var">isSplit</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) (<span class="id" title="var">MorphismPair_opp</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplit2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isSplitMonomorphism</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">C</span> (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>), <span class="id" title="var">isSplit2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">isSplitEpimorphism</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) : <span class="id" title="var">hProp</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∃ <span class="id" title="var">A</span> (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>), <span class="id" title="var">isSplit2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_isSplitMonomorphism</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitMonomorphism</span> <span class="id" title="var">i</span> -&gt; <span class="id" title="var">isSplitEpimorphism</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>. <span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">p</span> <span class="id" title="var">s</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplit2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opposite_isSplitEpimorphism</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitEpimorphism</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isSplitMonomorphism</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositePreAdditive</span> <span class="id" title="var">M</span>) <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>. <span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">C</span> [<span class="id" title="var">i</span> <span class="id" title="var">s</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplit2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToSplit</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isSplit2</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span> (π<span class="id" title="var">₁</span>,, <span class="id" title="var">ι₂</span>,, <span class="id" title="var">BinDirectSum_isBinDirectSum</span> <span class="id" title="var">M</span> <span class="id" title="var">AB</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToSplit'</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isSplit2</span> (<span class="id" title="var">to_In2</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">to_Pr1</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span>(π<span class="id" title="var">₂</span>,,<span class="id" title="var">ι₁</span>,,<span class="id" title="var">BinDirectSum_isBinDirectSum</span> <span class="id" title="var">M</span> (<span class="id" title="var">reverseBinDirectSum</span> <span class="id" title="var">AB</span>))).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">IsomorphicToSplit</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="var">MorphismPair</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">MorphismPairIsomorphism</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> ⇒ <span class="id" title="var">isSplit</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="var">isSplit</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f'</span> [<span class="id" title="var">f</span> [<span class="id" title="var">f''</span> [[<span class="id" title="var">e</span> <span class="id" title="var">_</span>] [<span class="id" title="var">e'</span> <span class="id" title="var">_</span>]]]]] <span class="id" title="var">ex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">ex</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">ex</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">q</span> [<span class="id" title="var">j</span> <span class="id" title="var">su</span>]]; <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">f</span> · <span class="id" title="var">q</span> · <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">f''</span> · <span class="id" title="var">j</span> · <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">intermediate_path</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">f'</span> · <span class="id" title="var">Mor1</span> <span class="id" title="var">P</span> · <span class="id" title="var">q</span> · <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">k</span>·<span class="id" title="var">f'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">k</span>·<span class="id" title="var">q</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_inv_on_right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_inv_on_left</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">q</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">f'</span> · (<span class="id" title="var">identity</span> <span class="id" title="var">_</span> · <span class="id" title="var">f'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">k</span>·<span class="id" title="var">f'</span>)). <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">su</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">z_iso_after_z_iso_inv</span>. } } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">wrap_inverse</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">su</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> := <span class="id" title="var">to_Unel1</span> <span class="id" title="var">su</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r'</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">t</span>, <span class="id" title="var">t</span> · <span class="id" title="var">f''</span>) <span class="id" title="var">r</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r'</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">r''</span> := <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">t</span>, <span class="id" title="var">z_iso_inv</span> <span class="id" title="var">f'</span> · <span class="id" title="var">t</span>) <span class="id" title="var">r'</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">r'</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_after_z_iso_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>,<span class="id" title="var">zeroRight</span> <span class="id" title="tactic">in</span> <span class="id" title="var">r''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">r''</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">su</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>, <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">cancel_z_iso'</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3 (<span class="id" title="var">assoc</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>, <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">f''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc</span> <span class="id" title="var">f''</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">z_iso_inv_after_z_iso</span>, <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">su</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToKernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isKernel'</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">makeMonicKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">to_In1_isMonic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">h</span> · π<span class="id" title="var">₁</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">eqset</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">id_right</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId</span> <span class="id" title="var">AB</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rewrite_op</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> π<span class="id" title="var">₂</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">runax</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">DirectSumToCokernel</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">AB</span> : <span class="id" title="var">BinDirectSum</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isCokernel'</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">AB</span>) (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">makeEpiCokernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">to_Pr2_isEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">AB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">ι₂</span> · <span class="id" title="var">h</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">eqset</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> @ <span class="id" title="var">id_left</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId</span> <span class="id" title="var">AB</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rewrite_op</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">ι₁</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isSplitToKernelCokernelPair</span> {<span class="id" title="var">M</span>:<span class="id" title="var">PreAdditive</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>:<span class="id" title="var">M</span>} (<span class="id" title="var">i</span>:<span class="id" title="var">A</span>--&gt;<span class="id" title="var">B</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">B</span>--&gt;<span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplit2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> -&gt; <span class="id" title="var">isKernelCokernelPair</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">sp</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">sp</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> [<span class="id" title="var">q</span> <span class="id" title="var">issum</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">S</span> := <span class="id" title="var">mk_BinDirectSum</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">issum</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">DirectSumToKernel</span> <span class="id" title="var">S</span>,,<span class="id" title="var">DirectSumToCokernel</span> <span class="id" title="var">S</span>).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ComposeSplitMono</span> {<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">j</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitMonomorphism</span> <span class="id" title="var">i</span> ⇒ <span class="id" title="var">isSplitMonomorphism</span> <span class="id" title="var">j</span> ⇒ <span class="id" title="var">isSplitMonomorphism</span> (<span class="id" title="var">i</span> · <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">P</span> [<span class="id" title="var">p</span> <span class="id" title="var">ip</span>]];<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">ip</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">ip</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">p'</span> [<span class="id" title="var">i'</span> <span class="id" title="var">ip</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">isBinDirectSum</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">p'</span> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">ip</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Q</span> [<span class="id" title="var">q</span> <span class="id" title="var">jq</span>]];<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">jq</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">jq</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">q'</span> [<span class="id" title="var">j'</span> <span class="id" title="var">jq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">isBinDirectSum</span> <span class="id" title="var">j</span> <span class="id" title="var">j'</span> <span class="id" title="var">q'</span> <span class="id" title="var">q</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">jq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">PQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ExactCategoryDataToAdditiveCategory</span>,<span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">PQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">q'</span> · <span class="id" title="var">p</span> · <span class="id" title="var">ι₁</span> + <span class="id" title="var">q</span> · <span class="id" title="var">ι₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">q'</span> · <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (π<span class="id" title="var">₁</span> · <span class="id" title="var">i'</span> · <span class="id" title="var">j</span> + π<span class="id" title="var">₂</span> · <span class="id" title="var">j'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">eqset</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> ? <span class="id" title="var">rewrite_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">ip</span>). <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>, 2 <span class="id" title="var">leftDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">q'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">i'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">ip</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">q'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">jq</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>, <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">to_BinOpId</span> <span class="id" title="var">PQ</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">q'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">ip</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">jq</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">jq</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">ip</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">j'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">jq</span>);<span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span>, 2 <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">i'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">PQ</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">i'</span> · <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">PQ</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">leftDistribute</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc'</span> <span class="id" title="var">q'</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">rightDistribute</span> <span class="id" title="var">q'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">ip</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">PQ</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">PQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">jq</span>). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ComposeSplitEpi</span> {<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">p</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">q</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitEpimorphism</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="var">isSplitEpimorphism</span> <span class="id" title="var">q</span> ⇒ <span class="id" title="var">isSplitEpimorphism</span> (<span class="id" title="var">p</span> · <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplitMonomorphism</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ComposeSplitMono</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositeAdditiveCategory</span> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">opposite_isSplitEpimorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) (<span class="id" title="var">opposite_isSplitEpimorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>))).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PullbackSplitEpi</span> {<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A''</span> <span class="id" title="var">C</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">q</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">A''</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">A''</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitEpimorphism</span> <span class="id" title="var">q</span> -&gt; ∃ <span class="id" title="var">PB</span> : <span class="id" title="var">Pullback</span> <span class="id" title="var">q</span> <span class="id" title="var">g</span>, <span class="id" title="var">isSplitEpimorphism</span> (<span class="id" title="var">PullbackPr2</span> <span class="id" title="var">PB</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">i</span> <span class="id" title="var">e</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> [<span class="id" title="var">j</span> <span class="id" title="var">e</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasBinDirectSums</span> <span class="id" title="var">A'</span> <span class="id" title="var">C</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">A'C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">A'C</span>. <span class="id" title="tactic">exists</span> (π<span class="id" title="var">₁</span> · <span class="id" title="var">i</span> + π<span class="id" title="var">₂</span> · <span class="id" title="var">g</span> · <span class="id" title="var">j</span>). <span class="id" title="tactic">exact</span> π<span class="id" title="var">₂</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rewrite_op</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span> <span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span> <span class="id" title="var">r</span> <span class="id" title="var">s</span> <span class="id" title="var">eqn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iscontraprop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>;<span class="id" title="tactic">apply</span> <span class="id" title="var">to_has_homsets</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">h</span> [<span class="id" title="var">H</span> <span class="id" title="var">H'</span>]], <span class="id" title="var">k</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> [<span class="id" title="var">K</span> <span class="id" title="var">K'</span>]]. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">id_right</span> <span class="id" title="var">h</span>), &lt;- (<span class="id" title="var">id_right</span> <span class="id" title="var">k</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">A'C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">rightDistribute</span>. <span class="id" title="tactic">rewrite</span> 4 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span>, <span class="id" title="var">K'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">z</span> + <span class="id" title="var">s</span> · <span class="id" title="var">ι₂</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">rightDistribute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3 <span class="id" title="var">assoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">K</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">K'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">z</span> · <span class="id" title="var">ι₁</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">to_In1_isMonic</span> <span class="id" title="var">_</span> (<span class="id" title="var">mk_BinDirectSum</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">h</span> · π<span class="id" title="var">₁</span> · <span class="id" title="var">i</span> = <span class="id" title="var">k</span> · π<span class="id" title="var">₁</span> · <span class="id" title="var">i</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">grrcan</span> (<span class="id" title="var">T</span>--&gt;<span class="id" title="var">A</span>) (<span class="id" title="var">s</span> · <span class="id" title="var">g</span> · <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> @ !<span class="id" title="var">K</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">r</span> · <span class="id" title="var">p</span> · <span class="id" title="var">ι₁</span> + <span class="id" title="var">s</span> · <span class="id" title="var">ι₂</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>, 2 <span class="id" title="var">rightDistribute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn1</span> <span class="id" title="var">A'C</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> (<span class="id" title="var">r</span> · <span class="id" title="var">p</span>)). <span class="id" title="tactic">rewrite</span> 2 (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₁</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">A'C</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">runax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">s</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">ι₂</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel2</span> <span class="id" title="var">A'C</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroLeft</span>, <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">A'C</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>. <span class="id" title="tactic">rewrite</span> (!<span class="id" title="var">eqn</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">rightDistribute</span> <span class="id" title="var">r</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_BinOpId'</span> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">leftDistribute</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc'</span> (<span class="id" title="var">r</span> · <span class="id" title="var">p</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_Unel1</span> <span class="id" title="var">A'C</span>); <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">zeroRight</span>, <span class="id" title="var">lunax</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc'</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">to_IdIn2</span> <span class="id" title="var">A'C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">hinhpr</span>(<span class="id" title="var">A'</span>,,<span class="id" title="var">ι₁</span>,, <span class="id" title="var">hinhpr</span> (π<span class="id" title="var">₁</span>,,<span class="id" title="var">ι₂</span>,,<span class="id" title="var">BinDirectSum_isBinDirectSum</span> <span class="id" title="var">_</span> <span class="id" title="var">A'C</span>))).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">PushoutSplitMono</span> {<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>} {<span class="id" title="var">A</span> <span class="id" title="var">A'</span> <span class="id" title="var">C</span> : <span class="id" title="var">M</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">A'</span> --&gt; <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isSplitMonomorphism</span> <span class="id" title="var">i</span> ⇒ ∃ <span class="id" title="var">PO</span> : <span class="id" title="var">Pushout</span> <span class="id" title="var">i</span> <span class="id" title="var">g</span>, <span class="id" title="var">isSplitMonomorphism</span> (<span class="id" title="var">PushoutIn2</span> <span class="id" title="var">PO</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := @<span class="id" title="var">PullbackSplitEpi</span> (<span class="id" title="var">oppositeAdditiveCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">g</span> (<span class="id" title="var">opposite_isSplitMonomorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhfun</span> <span class="id" title="var">_</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">A''C</span> <span class="id" title="var">epi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">A''C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplitEpimorphism</span> <span class="id" title="var">_</span> <span class="id" title="var">epi</span>).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">SplitSequences</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">AdditiveToExact</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdditiveExactnessProperties</span> (<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>) : <span class="id" title="var">ExactCategoryProperties</span> (<span class="id" title="var">M</span>,,<span class="id" title="var">isSplit</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ExactCategoryDataToAdditiveCategory</span>,<span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IsomorphicToSplit</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">IsomorphicToSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">exact</span> (<span class="id" title="var">InverseMorphismPairIsomorphism</span> <span class="id" title="var">i</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">M</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">TrivialDirectSum</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">to_Pr2</span> <span class="id" title="var">Q</span>,, <span class="id" title="var">DirectSumToSplit</span> <span class="id" title="var">Q</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">to_hasZero</span> <span class="id" title="var">M</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">Z</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">TrivialDirectSum'</span> <span class="id" title="var">Z</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">to_In1</span> <span class="id" title="var">Q</span>,, <span class="id" title="var">DirectSumToSplit</span> <span class="id" title="var">Q</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">isSplitToKernelCokernelPair</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">ComposeSplitMono</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">ComposeSplitEpi</span> <span class="id" title="var">M</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">PullbackSplitEpi</span> <span class="id" title="var">M</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (@<span class="id" title="var">PushoutSplitMono</span> <span class="id" title="var">M</span>). } }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">AdditiveToExact</span> : <span class="id" title="var">AdditiveCategory</span> -&gt; <span class="id" title="var">ExactCategory</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">λ</span> <span class="id" title="var">M</span>, <span class="id" title="var">mk_ExactCategory</span> (<span class="id" title="var">M</span>,,<span class="id" title="var">isSplit</span>) (<span class="id" title="var">AdditiveExactnessProperties</span> <span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">additive_exact_opposite</span> {<span class="id" title="var">M</span>:<span class="id" title="var">AdditiveCategory</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">AdditiveToExact</span> (<span class="id" title="var">oppositeAdditiveCategory</span> <span class="id" title="var">M</span>) = <span class="id" title="var">oppositeExactCategory</span> (<span class="id" title="var">AdditiveToExact</span> <span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality_prop</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pair_path_in2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hPropUnivalence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplit</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">opposite_isSplit</span> (<span class="id" title="var">MorphismPair_opp</span> <span class="id" title="var">P</span>)).<br/>
</div>
<span class="id" title="keyword">End</span> <span class="id" title="var">AdditiveToExact</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">InducedExactCategory</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">exts_lift</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">zero_lifts</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> ∧ ∀ <span class="id" title="var">a</span> <span class="id" title="var">B</span> <span class="id" title="var">c</span> (<span class="id" title="var">i</span> : <span class="id" title="var">j</span> <span class="id" title="var">a</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">j</span> <span class="id" title="var">c</span>), <span class="id" title="var">isExact2</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> ⇒ ∃ <span class="id" title="var">b</span>, <span class="id" title="var">z_iso</span> (<span class="id" title="var">j</span> <span class="id" title="var">b</span>) <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">exts_lift_sums</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> -&gt; <span class="id" title="var">sums_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">el</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">el</span>). <span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> <span class="id" title="var">S</span>, <span class="id" title="var">pr2</span> <span class="id" title="var">el</span> <span class="id" title="var">a</span> <span class="id" title="var">S</span> <span class="id" title="var">c</span> <span class="id" title="var">ι₁</span> π<span class="id" title="var">₂</span> (<span class="id" title="var">DirectSumToExact</span> <span class="id" title="var">S</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">induced_ExactCategoryData</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) : <span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> -&gt; <span class="id" title="var">ExactCategoryData</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">el</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">induced_Additive</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> (<span class="id" title="var">exts_lift_sums</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> <span class="id" title="var">el</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">P</span>, <span class="id" title="var">isExact2</span> (<span class="id" title="var">Mor1</span> <span class="id" title="var">P</span>) (<span class="id" title="var">Mor2</span> <span class="id" title="var">P</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">opp_exts_lift</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> -&gt; <span class="id" title="var">exts_lift</span> (<span class="id" title="var">oppositeExactCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">hz</span> <span class="id" title="var">ce</span>]. <span class="id" title="tactic">exists</span> (<span class="id" title="var">opp_zero_lifts</span> <span class="id" title="var">j</span> <span class="id" title="var">hz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">B</span> <span class="id" title="var">c</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">ex</span>. <span class="id" title="tactic">generalize</span> (<span class="id" title="var">ce</span> <span class="id" title="var">c</span> <span class="id" title="var">B</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">ex</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">b</span> <span class="id" title="var">t</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">z_iso_inv</span> (<span class="id" title="var">opp_z_iso</span> <span class="id" title="var">t</span>)).<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">opp_sums_exts_lift</span> (<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>) {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) (<span class="id" title="var">ce</span> : <span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> ):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">opp_sums_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> (<span class="id" title="var">exts_lift_sums</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exts_lift_sums</span> <span class="id" title="var">M</span>^<span class="id" title="var">op</span> <span class="id" title="var">j</span> (<span class="id" title="var">opp_exts_lift</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pair_path_in2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropishinh</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Goal</span> ∏ {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) (<span class="id" title="var">ce</span> : <span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">oppositeExactCategoryData</span> (<span class="id" title="var">induced_ExactCategoryData</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">induced_ExactCategoryData</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">oppositeExactCategory</span> <span class="id" title="var">M</span>) <span class="id" title="var">j</span> (<span class="id" title="var">opp_exts_lift</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simple</span> <span class="id" title="tactic">refine</span> (<span class="id" title="var">total2_paths2_f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">induced_opposite_Additive</span> <span class="id" title="var">j</span> (<span class="id" title="var">exts_lift_sums</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>) @ <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">opp_sums_exts_lift</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">hPropUnivalence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">ex</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">ex</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Abort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">induced_ExactCategoryProperties</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) (<span class="id" title="var">ce</span> : <span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ExactCategoryProperties</span> (<span class="id" title="var">induced_ExactCategoryData</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">N</span> := <span class="id" title="var">induced_ExactCategoryData</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ce</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">hz</span> <span class="id" title="var">ce</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transparent</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">J</span> : (<span class="id" title="var">PreAdditive_functor</span> <span class="id" title="var">N</span> <span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">induced_PreAdditive_incl</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_IsomorphicToExact</span>  (<span class="id" title="var">applyFunctorToPairIsomorphism</span> <span class="id" title="var">J</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_IsomorphicToExact'</span> (<span class="id" title="var">applyFunctorToPairIsomorphism</span> <span class="id" title="var">J</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">hz</span>). <span class="id" title="tactic">intros</span> [<span class="id" title="var">_Z</span> <span class="id" title="var">iz</span>]. <span class="id" title="tactic">set</span> (<span class="id" title="var">zM</span> := <span class="id" title="var">mk_Zero</span> (<span class="id" title="var">j</span> <span class="id" title="var">_Z</span>) <span class="id" title="var">iz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">izz</span> : @<span class="id" title="var">isZero</span> <span class="id" title="var">N</span> <span class="id" title="var">_Z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">iz</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">zN</span> := @<span class="id" title="var">mk_Zero</span> <span class="id" title="var">N</span> <span class="id" title="var">_Z</span> <span class="id" title="var">izz</span>). &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="var">use</span> <span class="id" title="var">ExactToAdmMono</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 : { <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">TrivialExactSequence</span> (<span class="id" title="var">J</span> <span class="id" title="var">A</span>) <span class="id" title="var">zM</span>)). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span>. <span class="id" title="var">use</span> <span class="id" title="var">ExactToAdmEpi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 : { <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">TrivialExactSequence'</span> <span class="id" title="var">zM</span> (<span class="id" title="var">J</span> <span class="id" title="var">A</span>))). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>;<span class="id" title="tactic">unfold</span> <span class="id" title="var">ExactCategoryDataToAdditiveCategory</span>,<span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">iP</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">inducedMapReflectsKernelCokernelPairs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">EC_ExactToKernelCokernel</span> <span class="id" title="var">iP</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">mf</span> <span class="id" title="var">mg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">mf</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">mf</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">P</span> [<span class="id" title="var">p</span> <span class="id" title="var">fp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">mg</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">mg</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">R</span> [<span class="id" title="var">q</span> <span class="id" title="var">gq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cs</span> := <span class="id" title="var">CokernelSequence</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">fp</span> <span class="id" title="var">gq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">cs</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">T</span> [<span class="id" title="var">s</span> [<span class="id" title="var">k</span> [<span class="id" title="var">r</span> [<span class="id" title="var">fgs</span> [<span class="id" title="var">kr</span> <span class="id" title="var">_</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">ce</span> <span class="id" title="var">P</span> <span class="id" title="var">T</span> <span class="id" title="var">R</span> <span class="id" title="var">k</span> <span class="id" title="var">r</span> <span class="id" title="var">kr</span>)); <span class="id" title="tactic">intros</span> [<span class="id" title="var">U</span> <span class="id" title="var">α</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">s</span> · <span class="id" title="var">z_iso_inv</span> <span class="id" title="var">α</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactIso3</span> (<span class="id" title="var">f</span>·<span class="id" title="var">g</span>) <span class="id" title="var">s</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">α</span>) <span class="id" title="var">fgs</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">mf</span> <span class="id" title="var">mg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">mf</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">mf</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">P</span> [<span class="id" title="var">p</span> <span class="id" title="var">fp</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">mg</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">mg</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">R</span> [<span class="id" title="var">q</span> <span class="id" title="var">gq</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cs</span> := <span class="id" title="var">KernelSequence</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">gq</span> <span class="id" title="var">fp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">cs</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">cs</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">T</span> [<span class="id" title="var">s</span> [<span class="id" title="var">k</span> [<span class="id" title="var">r</span> [<span class="id" title="var">fgs</span> [<span class="id" title="var">kr</span> <span class="id" title="var">_</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> (<span class="id" title="var">ce</span> <span class="id" title="var">P</span> <span class="id" title="var">T</span> <span class="id" title="var">R</span> <span class="id" title="var">r</span> <span class="id" title="var">k</span> <span class="id" title="var">kr</span>)); <span class="id" title="tactic">intros</span> [<span class="id" title="var">U</span> <span class="id" title="var">α</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">U</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">α</span> · <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactIso1</span> <span class="id" title="var">α</span> <span class="id" title="var">s</span> (<span class="id" title="var">f</span>·<span class="id" title="var">g</span>) <span class="id" title="var">fgs</span>). } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">A''</span> <span class="id" title="var">B''</span> <span class="id" title="var">p</span> <span class="id" title="var">f''</span> <span class="id" title="var">ep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">ep</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">ep</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">i</span> <span class="id" title="var">ex</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">ExactPullback'</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">ex</span> <span class="id" title="var">f''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">B</span> [<span class="id" title="var">p'</span> [<span class="id" title="var">f</span> [<span class="id" title="var">i'</span> [<span class="id" title="var">eq</span> [<span class="id" title="var">pb</span> <span class="id" title="var">ex'</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">ce</span> <span class="id" title="var">A'</span> <span class="id" title="var">B</span> <span class="id" title="var">B''</span> <span class="id" title="var">i'</span> <span class="id" title="var">p'</span> <span class="id" title="var">ex'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">_B</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t'</span> := <span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">i''</span> := <span class="id" title="var">i'</span> · <span class="id" title="var">t'</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">p''</span> := <span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t'</span> · <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ex''</span> := <span class="id" title="var">ExactIso2</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t'</span> <span class="id" title="var">ex'</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">i''</span> <span class="id" title="var">p''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pb'</span> : <span class="id" title="var">isPullback'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">f''</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t'</span>·<span class="id" title="var">f</span>) <span class="id" title="var">p''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">isPullback'_up_to_z_iso</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t'</span>) <span class="id" title="var">pb</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pb'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq2</span> <span class="id" title="var">pb'</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">_B</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t'</span>·<span class="id" title="var">f</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">p''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">eq2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">induced_precategory_reflects_pullbacks</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmEpi</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">N</span>) <span class="id" title="var">ex''</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">A''</span> <span class="id" title="var">B''</span> <span class="id" title="var">p</span> <span class="id" title="var">f''</span> <span class="id" title="var">ep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">ep</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">ep</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">A'</span> [<span class="id" title="var">i</span> <span class="id" title="var">ex</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">ExactPushout'</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">ex</span> <span class="id" title="var">f''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">B</span> [<span class="id" title="var">p'</span> [<span class="id" title="var">f</span> [<span class="id" title="var">i'</span> [<span class="id" title="var">eq</span> [<span class="id" title="var">pb</span> <span class="id" title="var">ex'</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span> := <span class="id" title="var">ce</span> <span class="id" title="var">B''</span> <span class="id" title="var">B</span> <span class="id" title="var">A'</span> <span class="id" title="var">p'</span> <span class="id" title="var">i'</span> <span class="id" title="var">ex'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">squash_to_hProp</span> <span class="id" title="var">Q</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">_B</span> <span class="id" title="var">t</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">i''</span> := <span class="id" title="var">i'</span> ∘ <span class="id" title="var">t</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">p''</span> := <span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t</span> ∘ <span class="id" title="var">p'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ex''</span> := <span class="id" title="var">ExactIso2</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ex'</span> : <span class="id" title="var">isExact2</span> <span class="id" title="var">p''</span> <span class="id" title="var">i''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">pb'</span> : <span class="id" title="var">isPushout'</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">p</span> <span class="id" title="var">f''</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t</span>∘<span class="id" title="var">f</span>) <span class="id" title="var">p''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exact</span> (<span class="id" title="var">isPushout'_up_to_z_iso</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">M</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">pb</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">pb'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eq2</span> <span class="id" title="var">pb'</span>]. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">_B</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">z_iso_inv</span> <span class="id" title="var">t</span>∘<span class="id" title="var">f</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">p''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">eq2</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">induced_precategory_reflects_pushouts</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="keyword">beta</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ExactToAdmMono</span> (<span class="id" title="var">M</span>:=<span class="id" title="var">N</span>) <span class="id" title="var">ex''</span>). }<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">induced_ExactCategory</span> {<span class="id" title="var">M</span>:<span class="id" title="var">ExactCategory</span>} {<span class="id" title="var">X</span>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">j</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">ob</span> <span class="id" title="var">M</span>) (<span class="id" title="var">ce</span> : <span class="id" title="var">exts_lift</span> <span class="id" title="var">M</span> <span class="id" title="var">j</span>) : <span class="id" title="var">ExactCategory</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <span class="id" title="var">mk_ExactCategory</span> (<span class="id" title="var">induced_ExactCategoryData</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">induced_ExactCategoryProperties</span> <span class="id" title="var">j</span> <span class="id" title="var">ce</span>).<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">InducedExactCategory</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>