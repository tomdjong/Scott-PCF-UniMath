<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.Monads.Monads</h1>

<div class="code">
</div>

<div class="doc">
**********************************************************

<div class="paragraph"> </div>

Contents:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Definition of monads (<span class="inlinecode"><span class="id" title="var">Monad</span></span>)

</li>
<li> category of monads <span class="inlinecode"><span class="id" title="var">category_Monad</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>

</li>
<li> Forgetful functor <span class="inlinecode"><span class="id" title="var">forgetfunctor_Monad</span></span> from monads
             to endofunctors on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>

</li>
<li> Haskell style bind operation (<span class="inlinecode"><span class="id" title="var">bind</span></span>)

</li>
<li> A substitution operator for monads (<span class="inlinecode"><span class="id" title="var">monadSubst</span></span>)

</li>
<li> A helper lemma for proving equality of Monads (<span class="inlinecode"><span class="id" title="var">Monad_eq_raw_data</span></span>)

</li>
</ul>

<div class="paragraph"> </div>

TODO:
<ul class="doclist">
<li> Proof that <span class="inlinecode"><span class="id" title="var">precategory_Monad</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> is univalent if <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> is
          (should follow easily from same result for relative monads <span class="inlinecode"><span class="id" title="var">RelativeMonads.is_univalent_RelMonad</span></span> and
           isomorphism of categories with Kleisli triples <span class="inlinecode"><span class="id" title="var">KTriplesEquiv.is_catiso</span></span>)

</li>
</ul>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

Written by: Benedikt Ahrens (started March 2015)
Extended by: Anders Mörtberg, 2016
Extended by: Ralph Matthes, 2017 (Section MonadsUsingCoproducts)

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Propositions</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Sets</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.Tactics</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.NaturalTransformations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.FunctorCategory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.whiskering</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Adjunctions.Core</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.terminal</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.bincoproducts</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1079"></a><h1 class="section">Definition of monads</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Monad_def</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_with_μ</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;:= ∑ <span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span>, <span class="id" title="var">F</span> □ <span class="id" title="var">F</span> ⟹ <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">functor_from_functor_with_μ</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">F</span> : <span class="id" title="var">functor_with_μ</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">μ</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">functor_with_μ</span> <span class="id" title="var">C</span>) : <span class="id" title="var">F</span>□<span class="id" title="var">F</span> ⟹ <span class="id" title="var">F</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_data</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">F</span> : <span class="id" title="var">functor_with_μ</span> <span class="id" title="var">C</span>, <span class="id" title="var">functor_identity</span> <span class="id" title="var">C</span> ⟹ <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">functor_with_μ_from_Monad_data</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">F</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor_with_μ</span> <span class="id" title="var">C</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">η</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor_identity</span> <span class="id" title="var">C</span> ⟹ <span class="id" title="var">F</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_laws</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, <span class="id" title="var">η</span> <span class="id" title="var">T</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">identity</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, #<span class="id" title="var">T</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">identity</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, #<span class="id" title="var">T</span> (<span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">μ</span> <span class="id" title="var">T</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_Monad_laws</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>) (<span class="id" title="var">T</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">Monad_laws</span> <span class="id" title="var">T</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) : <span class="id" title="var">UU</span> := ∑ <span class="id" title="var">T</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>, <span class="id" title="var">Monad_laws</span> <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">Monad_data_from_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_law1</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>} : ∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, <span class="id" title="var">η</span> <span class="id" title="var">T</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">identity</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_law2</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>} : ∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, #<span class="id" title="var">T</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">identity</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_law3</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>} : ∏ <span class="id" title="var">c</span> : <span class="id" title="var">C</span>, #<span class="id" title="var">T</span> (<span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span> = <span class="id" title="var">μ</span> <span class="id" title="var">T</span> (<span class="id" title="var">T</span> <span class="id" title="var">c</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">c</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Monad_def</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1080"></a><h1 class="section">Monad precategory</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Monad_precategory</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_Mor_laws</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>} (<span class="id" title="var">α</span> : <span class="id" title="var">T</span> ⟹ <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> : <span class="id" title="var">C</span>, <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span> · <span class="id" title="var">α</span> <span class="id" title="var">a</span> = <span class="id" title="var">α</span> (<span class="id" title="var">T</span> <span class="id" title="var">a</span>) · #<span class="id" title="var">T'</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T'</span> <span class="id" title="var">a</span>) ×<br/>
&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> : <span class="id" title="var">C</span>, <span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span> · <span class="id" title="var">α</span> <span class="id" title="var">a</span> = <span class="id" title="var">η</span> <span class="id" title="var">T'</span> <span class="id" title="var">a</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_Monad_Mor_laws</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>) (<span class="id" title="var">α</span> : <span class="id" title="var">T</span> ⟹ <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaprop</span> (<span class="id" title="var">Monad_Mor_laws</span> <span class="id" title="var">α</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">hs</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_Mor</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;:= ∑ <span class="id" title="var">α</span> : <span class="id" title="var">T</span> ⟹ <span class="id" title="var">T'</span>, <span class="id" title="var">Monad_Mor_laws</span> <span class="id" title="var">α</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">nat_trans_from_monad_mor</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) (<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>) (<span class="id" title="var">s</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">T</span> ⟹ <span class="id" title="var">T'</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_Mor_η</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>} (<span class="id" title="var">α</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: ∏ <span class="id" title="var">a</span> : <span class="id" title="var">C</span>, <span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span> · <span class="id" title="var">α</span> <span class="id" title="var">a</span> = <span class="id" title="var">η</span> <span class="id" title="var">T'</span> <span class="id" title="var">a</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">α</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_Mor_μ</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>} (<span class="id" title="var">α</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: ∏ <span class="id" title="var">a</span> : <span class="id" title="var">C</span>, <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span> · <span class="id" title="var">α</span> <span class="id" title="var">a</span> = <span class="id" title="var">α</span> (<span class="id" title="var">T</span> <span class="id" title="var">a</span>) · #<span class="id" title="var">T'</span> (<span class="id" title="var">α</span> <span class="id" title="var">a</span>) · <span class="id" title="var">μ</span> <span class="id" title="var">T'</span> <span class="id" title="var">a</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">α</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_identity_laws</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Monad_Mor_laws</span> (<span class="id" title="var">nat_trans_id</span> <span class="id" title="var">T</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>, <span class="id" title="var">id_right</span>, <span class="id" title="var">functor_id</span>, <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_identity</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Monad_identity_laws</span> <span class="id" title="var">T</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_composition_laws</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">T</span> <span class="id" title="var">T'</span> <span class="id" title="var">T''</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">α</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>) (<span class="id" title="var">α'</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T'</span> <span class="id" title="var">T''</span>) : <span class="id" title="var">Monad_Mor_laws</span> (<span class="id" title="var">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">α</span> <span class="id" title="var">α'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H</span>:=<span class="id" title="var">Monad_Mor_μ</span> <span class="id" title="var">α</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H</span>:=<span class="id" title="var">Monad_Mor_μ</span> <span class="id" title="var">α'</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="var">assoc</span>, <span class="id" title="var">nat_trans_ax</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>, <span class="id" title="var">Monad_Mor_η</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Monad_Mor_η</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_composition</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">T</span> <span class="id" title="var">T'</span> <span class="id" title="var">T''</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">α</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>) (<span class="id" title="var">α'</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T'</span> <span class="id" title="var">T''</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T''</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">Monad_composition_laws</span> <span class="id" title="var">α</span> <span class="id" title="var">α'</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_Mor_equiv</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>} (<span class="id" title="var">α</span> <span class="id" title="var">β</span> : <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">α</span> = <span class="id" title="var">β</span> ≃ (<span class="id" title="var">pr1</span> <span class="id" title="var">α</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">β</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeInjectivity</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_Monad_Mor_laws</span>, <span class="id" title="var">hs</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">precategory_Monad_ob_mor</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>) : <span class="id" title="var">precategory_ob_mor</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">Monad</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>, <span class="id" title="var">Monad_Mor</span> <span class="id" title="var">T</span> <span class="id" title="var">T'</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">precategory_Monad_data</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) : <span class="id" title="var">precategory_data</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">precategory_Monad_ob_mor</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (@<span class="id" title="var">Monad_identity</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (@<span class="id" title="var">Monad_composition</span> <span class="id" title="var">C</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">precategory_Monad_axioms</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_precategory</span> (<span class="id" title="var">precategory_Monad_data</span> <span class="id" title="var">C</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">Monad_Mor_equiv</span> <span class="id" title="var">hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">id_left</span> (<span class="id" title="var">functor_precategory</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">Monad_Mor_equiv</span> <span class="id" title="var">hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">id_right</span> (<span class="id" title="var">functor_precategory</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">Monad_Mor_equiv</span> <span class="id" title="var">hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">assoc</span> (<span class="id" title="var">functor_precategory</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">Monad_Mor_equiv</span> <span class="id" title="var">hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">assoc'</span> (<span class="id" title="var">functor_precategory</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">precategory_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>) : <span class="id" title="var">precategory</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">precategory_Monad_axioms</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">has_homsets_precategory_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) (<span class="id" title="var">hs</span>: <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>) : <span class="id" title="var">has_homsets</span> (<span class="id" title="var">precategory_Monad</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Monad_Mor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaset_total2</span> .<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isaset_nat_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isasetaprop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_Monad_Mor_laws</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">hs</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Corollary</span> <span class="id" title="var">has_homsets_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) : <span class="id" title="var">has_homsets</span> (<span class="id" title="var">precategory_Monad</span> <span class="id" title="var">C</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">C</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">has_homsets_precategory_Monad</span> <span class="id" title="var">C</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">C</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">category_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) : <span class="id" title="var">category</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">precategory_Monad</span> <span class="id" title="var">C</span> (<span class="id" title="var">homset_property</span> <span class="id" title="var">C</span>) ,, <span class="id" title="var">has_homsets_Monad</span> <span class="id" title="var">C</span> ).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">forgetfunctor_Monad</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">functor</span> (<span class="id" title="var">category_Monad</span> <span class="id" title="var">C</span>) (<span class="id" title="var">functor_category</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_functor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_functor_data</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">M</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">M</span>: <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">λ</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span> <span class="id" title="var">f</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>;  <span class="id" title="tactic">reflexivity</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">forgetMonad_faithful</span> <span class="id" title="var">C</span> : <span class="id" title="var">faithful</span> (<span class="id" title="var">forgetfunctor_Monad</span> <span class="id" title="var">C</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">N</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isinclpr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_Monad_Mor_laws</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Monad_precategory</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1081"></a><h1 class="section">Definition and lemmas for bind</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">bind</span>.<br/>

<br/>
</div>

<div class="doc">
Definition of bind 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">bind</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">T</span> : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>} {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">T</span> <span class="id" title="var">b</span>⟧) : <span class="id" title="var">C</span>⟦<span class="id" title="var">T</span> <span class="id" title="var">a</span>,<span class="id" title="var">T</span> <span class="id" title="var">b</span>⟧ := # <span class="id" title="var">T</span> <span class="id" title="var">f</span> · <span class="id" title="var">μ</span> <span class="id" title="var">T</span> <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">η_bind</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">T</span> <span class="id" title="var">b</span>⟧) : <span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span> · <span class="id" title="var">bind</span> <span class="id" title="var">f</span> = <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">bind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>, (! (<span class="id" title="var">nat_trans_ax</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>))|]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">Monad_law1</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bind_η</span> {<span class="id" title="var">a</span> : <span class="id" title="var">C</span>} : <span class="id" title="var">bind</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span>) = <span class="id" title="var">identity</span> (<span class="id" title="var">T</span> <span class="id" title="var">a</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Monad_law2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">bind_bind</span> {<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>,<span class="id" title="var">T</span> <span class="id" title="var">b</span>⟧) (<span class="id" title="var">g</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">T</span> <span class="id" title="var">c</span>⟧) :<br/>
&nbsp;&nbsp;<span class="id" title="var">bind</span> <span class="id" title="var">f</span> · <span class="id" title="var">bind</span> <span class="id" title="var">g</span> = <span class="id" title="var">bind</span> (<span class="id" title="var">f</span> · <span class="id" title="var">bind</span> <span class="id" title="var">g</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">bind</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_postcomposition</span>, (!<span class="id" title="var">nat_trans_ax</span> (<span class="id" title="var">μ</span> <span class="id" title="var">T</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span>)|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="var">functor_comp</span>, &lt;- !<span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, (!<span class="id" title="var">Monad_law3</span> <span class="id" title="var">c</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">bind</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1082"></a><h1 class="section">Operations for monads based on binary coproducts</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">MonadsUsingCoproducts</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) (<span class="id" title="var">BC</span> : <span class="id" title="var">BinCoproducts</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "a ⊕ b" := (<span class="id" title="var">BinCoproductObject</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)).<br/>

<br/>
</div>

<div class="doc">
operation of weakening in a monad 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mweak</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span>: <span class="id" title="var">C</span>): <span class="id" title="var">C</span>⟦<span class="id" title="var">T</span> <span class="id" title="var">b</span>, <span class="id" title="var">T</span> (<span class="id" title="var">a</span> ⊕ <span class="id" title="var">b</span>)⟧ := <span class="id" title="var">bind</span> (<span class="id" title="var">BinCoproductIn2</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) · (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">_</span>)).<br/>

<br/>
</div>

<div class="doc">
operation of exchange in a monad 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mexch</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>:<span class="id" title="var">C</span>): <span class="id" title="var">C</span>⟦<span class="id" title="var">T</span> (<span class="id" title="var">a</span> ⊕ (<span class="id" title="var">b</span> ⊕ <span class="id" title="var">c</span>)), <span class="id" title="var">T</span> (<span class="id" title="var">b</span> ⊕ (<span class="id" title="var">a</span> ⊕ <span class="id" title="var">c</span>))⟧.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">a1</span> := <span class="id" title="var">BinCoproductIn1</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) · <span class="id" title="var">BinCoproductIn2</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>): <span class="id" title="var">C</span>⟦<span class="id" title="var">a</span>, <span class="id" title="var">b</span> ⊕ (<span class="id" title="var">a</span> ⊕ <span class="id" title="var">c</span>)⟧).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">a21</span> := <span class="id" title="var">BinCoproductIn1</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>): <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>, <span class="id" title="var">b</span> ⊕ (<span class="id" title="var">a</span> ⊕ <span class="id" title="var">c</span>)⟧).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">a22</span> := <span class="id" title="var">BinCoproductIn2</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) · <span class="id" title="var">BinCoproductIn2</span> <span class="id" title="var">_</span> (<span class="id" title="var">BC</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>): <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>, <span class="id" title="var">b</span> ⊕ (<span class="id" title="var">a</span> ⊕ <span class="id" title="var">c</span>)⟧).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">bind</span> ((<span class="id" title="var">BinCoproductArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a1</span> (<span class="id" title="var">BinCoproductArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a21</span> <span class="id" title="var">a22</span>)) · (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">_</span>))).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1083"></a><h1 class="section">Substitution operation for monads</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">MonadSubst</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">monadSubstGen</span> {<span class="id" title="var">b</span>:<span class="id" title="var">C</span>} (<span class="id" title="var">a</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧) : <span class="id" title="var">C</span>⟦<span class="id" title="var">T</span> (<span class="id" title="var">b</span> ⊕ <span class="id" title="var">a</span>), <span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧ :=<br/>
&nbsp;&nbsp;<span class="id" title="var">bind</span> (<span class="id" title="var">BinCoproductArrow</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span> <span class="id" title="var">a</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subst_interchange_law_gen</span> (<span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">c</span>,<span class="id" title="var">T</span> (<span class="id" title="var">b</span> ⊕ <span class="id" title="var">a</span>)⟧) (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦<span class="id" title="var">b</span>,<span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧):<br/>
&nbsp;&nbsp;(<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) · (<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) =<br/>
&nbsp;&nbsp;(<span class="id" title="var">mexch</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>) · (<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> · (<span class="id" title="var">mweak</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;· (<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">_</span> (<span class="id" title="var">e</span> · (<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">monadSubstGen</span>, <span class="id" title="var">mexch</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrowsEq</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=<span class="id" title="keyword">let</span> (<span class="id" title="var">pr1</span>, <span class="id" title="var">_</span>) := <span class="id" title="var">pr1</span> (<span class="id" title="var">BC</span> <span class="id" title="var">b</span> (<span class="id" title="var">c</span> ⊕ <span class="id" title="var">a</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">pr1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=(<span class="id" title="var">c</span> ⊕ <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn1Commutes</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=<span class="id" title="var">b</span> ⊕ <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">BinCoproductArrowsEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=<span class="id" title="keyword">let</span> (<span class="id" title="var">pr1</span>, <span class="id" title="var">_</span>) := <span class="id" title="var">pr1</span> (<span class="id" title="var">BC</span> <span class="id" title="var">b</span> (<span class="id" title="var">c</span> ⊕ <span class="id" title="var">a</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">pr1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn1Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">mweak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">remove_id_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">idtac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">bind_η</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=<span class="id" title="keyword">let</span> (<span class="id" title="var">pr1</span>, <span class="id" title="var">_</span>) := <span class="id" title="var">pr1</span> (<span class="id" title="var">BC</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">pr1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">bind_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=<span class="id" title="keyword">let</span> (<span class="id" title="var">pr1</span>, <span class="id" title="var">_</span>) := <span class="id" title="var">pr1</span> (<span class="id" title="var">BC</span> <span class="id" title="var">b</span> (<span class="id" title="var">c</span> ⊕ <span class="id" title="var">a</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">pr1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">η_bind</span>(<span class="id" title="var">a</span>:=(<span class="id" title="var">c</span> ⊕ <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">BinCoproductIn2Commutes</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Context</span> (<span class="id" title="var">TC</span> : <span class="id" title="var">Terminal</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "1" := <span class="id" title="var">TC</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">monadSubst</span> (<span class="id" title="var">a</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">C</span>⟦1,<span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧) : <span class="id" title="var">C</span>⟦<span class="id" title="var">T</span> (1 ⊕ <span class="id" title="var">a</span>), <span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧ :=<br/>
&nbsp;&nbsp;<span class="id" title="var">monadSubstGen</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">subst_interchange_law</span> (<span class="id" title="var">a</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">C</span>⟦1,<span class="id" title="var">T</span> (1 ⊕ <span class="id" title="var">a</span>)⟧) (<span class="id" title="var">f</span> : <span class="id" title="var">C</span>⟦1,<span class="id" title="var">T</span> <span class="id" title="var">a</span>⟧):<br/>
&nbsp;&nbsp;(<span class="id" title="var">monadSubst</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) · (<span class="id" title="var">monadSubst</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) =<br/>
&nbsp;&nbsp;(<span class="id" title="var">mexch</span> 1 1 <span class="id" title="var">a</span>) · (<span class="id" title="var">monadSubst</span> <span class="id" title="var">_</span> (<span class="id" title="var">f</span> · (<span class="id" title="var">mweak</span> 1 <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;· (<span class="id" title="var">monadSubst</span> <span class="id" title="var">_</span> (<span class="id" title="var">e</span> · (<span class="id" title="var">monadSubst</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subst_interchange_law_gen</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MonadSubst</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">MonadsUsingCoproducts</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1084"></a><h1 class="section">Helper lemma for showing two monads are equal</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Monad_eq_helper</span>.<br/>
</div>

<div class="doc">
<a name="lab1085"></a><h1 class="section">Alternate (equivalent) definition of Monad</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Monad'_def</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">raw_Monad_data</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_ob_mor</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">F</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">C</span>, (((∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">ob</span> <span class="id" title="var">C</span>, <span class="id" title="var">a</span> --&gt; <span class="id" title="var">b</span> -&gt; <span class="id" title="var">F</span> <span class="id" title="var">a</span> --&gt; <span class="id" title="var">F</span> <span class="id" title="var">b</span>) ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> : <span class="id" title="var">ob</span> <span class="id" title="var">C</span>, <span class="id" title="var">F</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) --&gt; <span class="id" title="var">F</span> <span class="id" title="var">a</span>)) ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> : <span class="id" title="var">ob</span> <span class="id" title="var">C</span>, <span class="id" title="var">a</span> --&gt; <span class="id" title="var">F</span> <span class="id" title="var">a</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Coercion</span> <span class="id" title="var">functor_data_from_raw_Monad_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_ob_mor</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">raw_Monad_data</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_data</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> := <span class="id" title="var">mk_functor_data</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'_data_laws</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">raw_Monad_data</span> <span class="id" title="var">C</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">is_functor</span> <span class="id" title="var">T</span>) ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_nat_trans</span> (<span class="id" title="var">functor_composite_data</span> <span class="id" title="var">T</span> <span class="id" title="var">T</span>) <span class="id" title="var">T</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))))) ×<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_nat_trans</span> (<span class="id" title="var">functor_identity</span> <span class="id" title="var">C</span>) <span class="id" title="var">T</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'_data</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) := ∑ (<span class="id" title="var">T</span> : <span class="id" title="var">raw_Monad_data</span> <span class="id" title="var">C</span>), <span class="id" title="var">Monad'_data_laws</span> <span class="id" title="var">T</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'_data_to_Monad_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad'_data</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(((<span class="id" title="var">_</span>,, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))),,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>))),, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>))))),,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>)),, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">T</span>)))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) := ∑ (<span class="id" title="var">T</span> : <span class="id" title="var">Monad'_data</span> <span class="id" title="var">C</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Monad_laws</span> (<span class="id" title="var">Monad'_data_to_Monad_data</span> <span class="id" title="var">T</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Monad'_def</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1086"></a><h1 class="section">Equivalence of Monad and Monad'</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <span class="id" title="var">Monad_Monad'_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'_to_Monad</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad'</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Monad'_data_to_Monad_data</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>),, <span class="id" title="var">pr2</span> <span class="id" title="var">T</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_to_raw_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) : <span class="id" title="var">raw_Monad_data</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">functor_on_objects</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (@<span class="id" title="var">functor_on_morphisms</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exact</span> (<span class="id" title="var">μ</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_to_Monad'_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Monad'_data</span> <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Monad_to_raw_data</span> <span class="id" title="var">T</span>,, ((<span class="id" title="var">pr2</span> (<span class="id" title="var">T</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span>),, (<span class="id" title="var">pr2</span> (<span class="id" title="var">μ</span> <span class="id" title="var">T</span>))),, <span class="id" title="var">pr2</span> (<span class="id" title="var">η</span> <span class="id" title="var">T</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_to_Monad'</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) : <span class="id" title="var">Monad'</span> <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Monad_to_Monad'_data</span> <span class="id" title="var">T</span>,, <span class="id" title="var">pr2</span> <span class="id" title="var">T</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad'_to_Monad_to_Monad'</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad'</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Monad_to_Monad'</span> (<span class="id" title="var">Monad'_to_Monad</span> <span class="id" title="var">T</span>) = <span class="id" title="var">T</span> := (<span class="id" title="var">idpath</span> <span class="id" title="var">T</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_to_Monad'_to_Monad</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">T</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Monad'_to_Monad</span> (<span class="id" title="var">Monad_to_Monad'</span> <span class="id" title="var">T</span>) = <span class="id" title="var">T</span> := (<span class="id" title="var">idpath</span> <span class="id" title="var">T</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <span class="id" title="var">Monad_Monad'_equiv</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad'_eq_raw_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>) (<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad'</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T</span>) = <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">T'</span>) -&gt; <span class="id" title="var">T</span> = <span class="id" title="var">T'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isaprop_is_functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isaprop_is_nat_trans</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">isaprop_is_nat_trans</span> <span class="id" title="var">C</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isaprop_Monad_laws</span> <span class="id" title="var">C</span> <span class="id" title="var">hs</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Monad_eq_raw_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">hs</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">C</span>) (<span class="id" title="var">T</span> <span class="id" title="var">T'</span> : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Monad_to_raw_data</span> <span class="id" title="var">T</span> = <span class="id" title="var">Monad_to_raw_data</span> <span class="id" title="var">T'</span> -&gt; <span class="id" title="var">T</span> = <span class="id" title="var">T'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">_</span>,, (<span class="id" title="var">isweq_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<span class="id" title="var">Monad_to_Monad'_to_Monad</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">Monad'_to_Monad_to_Monad'</span> <span class="id" title="var">C</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Monad'_eq_raw_data</span> <span class="id" title="var">hs</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Monad_eq_helper</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Monads_from_adjunctions</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_with_μ_from_adjunction</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">L</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">are_adjoints</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">functor_with_μ</span> <span class="id" title="var">C</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">L</span>∙<span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">pre_whisker</span> <span class="id" title="var">L</span> (<span class="id" title="var">post_whisker</span> (<span class="id" title="var">adjcounit</span> <span class="id" title="var">H</span>) <span class="id" title="var">R</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_data_from_adjunction</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">L</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">are_adjoints</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Monad_data</span> <span class="id" title="var">C</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">functor_with_μ_from_adjunction</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">adjunit</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Monad_from_adjunction</span> {<span class="id" title="var">C</span> <span class="id" title="var">D</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">L</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">functor</span> <span class="id" title="var">D</span> <span class="id" title="var">C</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">are_adjoints</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) : <span class="id" title="var">Monad</span> <span class="id" title="var">C</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Monad_data_from_adjunction</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">dirprodpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">dirprodpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">triangle_id_right_ad</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">triangle_id_left_ad</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">nat_trans_ax</span> ((<span class="id" title="var">counit_from_are_adjoints</span> <span class="id" title="var">H</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Monads_from_adjunctions</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>