<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="https://code./jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.DisplayedCats.Core</h1>

<div class="code">
</div>

<div class="doc">
A module for “displayed categories”, based over UniMath’s <span class="inlinecode"><span class="id" title="var">CategoryTheory</span></span> library.

<div class="paragraph"> </div>

Roughly, a “displayed category <i>D</i> over a category <i>C</i>” is analogous to “a family of types <i>Y</i> indexed over a type <i>X</i>”.  A displayed category has a “total category” ∑ <i>C</i> _D, with a functor to <i>D</i>; and indeed displayed categories should be equivalent to categories over <i>D</i>, by taking fibers.

<div class="paragraph"> </div>

In a little more detail: if <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> is a displayed category over <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>, then <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> has a type of objects indexed over <span class="inlinecode"><span class="id" title="var">ob</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>, and for each <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a>,</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">--&gt;</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a>,</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#xx"><span class="id" title="variable">xx</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a>,</span> <span class="inlinecode"><span class="id" title="var">yy</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span>, a type of “morphisms over <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> from <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#xx"><span class="id" title="variable">xx</span></a></span> to <span class="inlinecode"><span class="id" title="var">yy</span></span>”.  The identity and composition (and axioms) for <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> all overlie the corresponding structure on <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>.

<div class="paragraph"> </div>

Two major motivations for displayed categories:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Pragmatically, they give a convenient tool for building categories of “structured objects”, and functors into such categories, encapsulating a lot of frequently-used constructions, and allowing for very modular proofs of e.g. saturation of such categories.

</li>
<li> More conceptually, they give a setting for defining Grothendieck fibrations and isofibrations without mentioning equality of objects.

</li>
</ul>

<div class="paragraph"> </div>

Contents:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Displayed categories: <span class="inlinecode"><span class="id" title="var">disp_cat</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>
<ul class="doclist">
<li> various access functions, etc.

</li>
<li> utility lemmas

</li>
<li> isomorphisms

</li>
<li> saturation

</li>
</ul>

</li>
<li> Total categories (and their forgetful functors)
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">total_category</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">pr1_category</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span>

</li>
</ul>

</li>
<li> Functors between displayed categories, over functors between their bases
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">functor_lifting</span></span>, <span class="inlinecode"><span class="id" title="var">lifted_functor</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">disp_functor</span></span>, <span class="inlinecode"><span class="id" title="var">total_functor</span></span>

</li>
<li> properties of functors: <span class="inlinecode"><span class="id" title="var">disp_functor_ff</span></span>, …

</li>
<li> natural transformations: <span class="inlinecode"><span class="id" title="var">disp_nat_trans</span></span>, …

</li>
</ul>

</li>
</ul>

</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.PartA</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.AxiomOfChoice</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Isos</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.NaturalTransformations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Univalence</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat_deprecated</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.DisplayedCats.Auxiliary</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">type_scope</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab1553"></a><h1 class="section">Displayed categories</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="var">Record_Preview</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <span class="id" title="var">disp_cat</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">ob_disp</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">mor_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} : (<span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">ob_disp</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">ob_disp</span> <span class="id" title="var">y</span> -&gt; <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">id_disp</span> {<span class="id" title="var">x</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">ob_disp</span> <span class="id" title="var">x</span>) : <span class="id" title="var">mor_disp</span> (<span class="id" title="var">identity</span> <span class="id" title="var">x</span>) <span class="id" title="var">xx</span> <span class="id" title="var">xx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">comp_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">ob_disp</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">ob_disp</span> <span class="id" title="var">y</span>} {<span class="id" title="var">zz</span> : <span class="id" title="var">ob_disp</span> <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">mor_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> -&gt; <span class="id" title="var">mor_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> -&gt; <span class="id" title="var">mor_disp</span> (<span class="id" title="var">f</span> ;; <span class="id" title="var">g</span>) <span class="id" title="var">xx</span> <span class="id" title="var">zz</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">id_left_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">mor_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">comp_disp</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">xx</span>) <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> (<span class="id" title="var">λ</span> <span class="id" title="var">g</span>, <span class="id" title="var">mor_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">id_right_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">mor_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">comp_disp</span> <span class="id" title="var">ff</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> (<span class="id" title="var">λ</span> <span class="id" title="var">g</span>, <span class="id" title="var">mor_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">assoc_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} {<span class="id" title="var">h</span> : <span class="id" title="var">z</span> --&gt; <span class="id" title="var">w</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} {<span class="id" title="var">ww</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">mor_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">mor_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span>) (<span class="id" title="var">hh</span> : <span class="id" title="var">mor_disp</span> <span class="id" title="var">h</span> <span class="id" title="var">zz</span> <span class="id" title="var">ww</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">comp_disp</span> <span class="id" title="var">ff</span> (<span class="id" title="var">comp_disp</span> <span class="id" title="var">gg</span> <span class="id" title="var">hh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span>, <span class="id" title="var">mor_disp</span> <span class="id" title="var">k</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">comp_disp</span> (<span class="id" title="var">comp_disp</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>) <span class="id" title="var">hh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">homsets_disp</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} : <span class="id" title="var">isaset</span> (<span class="id" title="var">mor_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Record_Preview</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1554"></a><h2 class="section">Definition</h2>

<div class="paragraph"> </div>

 The actual definition is structured analogously to <span class="inlinecode"><span class="id" title="var">category</span></span>, as an iterated ∑-type:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">disp_cat</span></span>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">disp_cat_data</span></span>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">disp_cat_ob_mor</span></span>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">ob_disp</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">mod_disp</span></span>

</li>
</ul>

</li>
<li> <span class="inlinecode"><span class="id" title="var">disp_cat_id_comp</span></span>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">id_disp</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">comp_disp</span></span>

</li>
</ul>

</li>
</ul>

</li>
<li> <span class="inlinecode"><span class="id" title="var">disp_cat_axioms</span></span>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">id_left_disp</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">id_right_disp</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">assoc_disp</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">homsets_disp</span></span>

</li>
</ul>

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Disp_Cat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_ob_mor</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_ob_mor</span>)<br/>
&nbsp;&nbsp;:= ∑ (<span class="id" title="var">obd</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">UU</span>), (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">C</span>, <span class="id" title="var">obd</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">obd</span> <span class="id" title="var">y</span> -&gt; (<span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">UU</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_disp_cat_ob_mor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">C</span> : <span class="id" title="var">precategory_ob_mor</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">obd</span> : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">UU</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mord</span> : ∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">C</span>, <span class="id" title="var">obd</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">obd</span> <span class="id" title="var">y</span> -&gt; (<span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) -&gt; <span class="id" title="var">UU</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">obd</span>,, <span class="id" title="var">mord</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ob_disp</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C</span>) : <span class="id" title="var">C</span> -&gt; <span class="id" title="var">UU</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">ob_disp</span> : <span class="id" title="var">disp_cat_ob_mor</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mor_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>)<br/>
:= <span class="id" title="var">pr2</span> <span class="id" title="var">D</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span> : <span class="id" title="var">UU</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "xx --&gt;[ f ] yy" := (<span class="id" title="var">mor_disp</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">yy</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_id_comp</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span><br/>
:= (<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span>:<span class="id" title="var">C</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>), <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">identity</span> <span class="id" title="var">x</span>] <span class="id" title="var">xx</span>)<br/>
&nbsp;&nbsp;× (<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>) (<span class="id" title="var">xx</span>:<span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span>:<span class="id" title="var">D</span> <span class="id" title="var">y</span>) (<span class="id" title="var">zz</span>:<span class="id" title="var">D</span> <span class="id" title="var">z</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) -&gt; (<span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>) -&gt; (<span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span> ;; <span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">disp_cat_id_comp</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_ob_mor_from_disp_cat_data</span> {<span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C</span><br/>
:= <span class="id" title="var">pr1</span> <span class="id" title="var">D</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_cat_ob_mor_from_disp_cat_data</span> :<br/>
&nbsp;<span class="id" title="var">disp_cat_data</span> &gt;-&gt; <span class="id" title="var">disp_cat_ob_mor</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>} {<span class="id" title="var">x</span>:<span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">identity</span> <span class="id" title="var">x</span>] <span class="id" title="var">xx</span><br/>
:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>) <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">comp_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>;;<span class="id" title="var">g</span>] <span class="id" title="var">zz</span><br/>
:= <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "ff ;; gg" := (<span class="id" title="var">comp_disp</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "ff  ;;  gg")<br/>
&nbsp;&nbsp;: <span class="id" title="var">mor_disp_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mor_disp</span>.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mor_disp</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_axioms</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span><br/>
:= (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) <span class="id" title="var">yy</span> (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span> ;; <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;× (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) <span class="id" title="var">yy</span> (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ff</span> ;; <span class="id" title="var">id_disp</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;× (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>) (<span class="id" title="var">zz</span> : <span class="id" title="var">D</span> <span class="id" title="var">z</span>) (<span class="id" title="var">ww</span> : <span class="id" title="var">D</span> <span class="id" title="var">w</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>) (<span class="id" title="var">hh</span> : <span class="id" title="var">zz</span> --&gt;[<span class="id" title="var">h</span>] <span class="id" title="var">ww</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ff</span> ;; (<span class="id" title="var">gg</span> ;; <span class="id" title="var">hh</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>) ;; <span class="id" title="var">hh</span>))<br/>
&nbsp;&nbsp;&nbsp;× (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>), <span class="id" title="var">isaset</span> (<span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)).<br/>

<br/>
</div>

<div class="doc">
Displayed category of a <span class="inlinecode"><span class="id" title="var">precategory</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_precat</span> (<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>) := <span class="id" title="var">total2</span> (<span class="id" title="var">disp_cat_axioms</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_data_from_disp_precat</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;:= <span class="id" title="var">pr1</span> <span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_cat_data_from_disp_precat</span> : <span class="id" title="var">disp_precat</span> &gt;-&gt; <span class="id" title="var">disp_cat_data</span>.<br/>

<br/>
</div>

<div class="doc">
Displayed category of a <span class="inlinecode"><span class="id" title="var">category</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) := <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Identity</span> <span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_cat_data_from_disp_cat</span> : <span class="id" title="var">disp_cat</span> &gt;-&gt; <span class="id" title="var">disp_precat</span>.<br/>

<br/>
</div>

<div class="doc">
All the axioms are given in two versions, <span class="inlinecode"><span class="id" title="var">foo</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#T1"><span class="id" title="variable">T1</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#transportb"><span class="id" title="definition">transportb</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#T2"><span class="id" title="variable">T2</span></a></span> and <span class="inlinecode"><span class="id" title="var">foo_var</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#T2"><span class="id" title="variable">T2</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#transportf"><span class="id" title="definition">transportf</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#e"><span class="id" title="variable">e</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#T1"><span class="id" title="variable">T1</span></a></span>, so that either direction can be invoked easily in “compute left-to-right” style. 
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_left_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>}<br/>
: <span class="id" title="var">id_disp</span> <span class="id" title="var">_</span> ;; <span class="id" title="var">ff</span> = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span><br/>
:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">id_left_disp_var</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>}<br/>
: <span class="id" title="var">ff</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span> ;; <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_transpose</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">id_left_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_right_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ff</span> ;; <span class="id" title="var">id_disp</span> <span class="id" title="var">_</span> = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span>) <span class="id" title="var">ff</span><br/>
:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_right_disp_var</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">ff</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span>) (<span class="id" title="var">ff</span> ;; <span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_transpose</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">id_right_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">assoc_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span>} {<span class="id" title="var">f</span>} {<span class="id" title="var">g</span>} {<span class="id" title="var">h</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>} {<span class="id" title="var">zz</span> : <span class="id" title="var">D</span> <span class="id" title="var">z</span>} {<span class="id" title="var">ww</span> : <span class="id" title="var">D</span> <span class="id" title="var">w</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} {<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>} {<span class="id" title="var">hh</span> : <span class="id" title="var">zz</span> --&gt;[<span class="id" title="var">h</span>] <span class="id" title="var">ww</span>}<br/>
: <span class="id" title="var">ff</span> ;; (<span class="id" title="var">gg</span> ;; <span class="id" title="var">hh</span>) = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>) ;; <span class="id" title="var">hh</span>)<br/>
:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>))) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">assoc_disp_var</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span>} {<span class="id" title="var">f</span>} {<span class="id" title="var">g</span>} {<span class="id" title="var">h</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>} {<span class="id" title="var">zz</span> : <span class="id" title="var">D</span> <span class="id" title="var">z</span>} {<span class="id" title="var">ww</span> : <span class="id" title="var">D</span> <span class="id" title="var">w</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>) (<span class="id" title="var">hh</span> : <span class="id" title="var">zz</span> --&gt;[<span class="id" title="var">h</span>] <span class="id" title="var">ww</span>)<br/>
: (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>) ;; <span class="id" title="var">hh</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">ff</span> ;; (<span class="id" title="var">gg</span> ;; <span class="id" title="var">hh</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">transportf_pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">assoc_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">homsets_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaset</span> (<span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">D</span>))) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1555"></a><h2 class="section">Utility lemmas</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Lemmas</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">etrans_disp</span></span>: a version of <span class="inlinecode"><span class="id" title="var">etrans_dep</span></span> for use when the equality transport in the RHS of the goal is already present, and not of the form produced by <span class="inlinecode"><span class="id" title="var">etrans_dep</span></span>, so <span class="inlinecode"><span class="id" title="var">etrans_dep</span></span> doesn’t apply.  Where possible, <span class="inlinecode"><span class="id" title="var">etrans_dep</span></span> should still be used, since it *produces* a RHS, whereas this does not (and so leads to lots of unsolved existentials if used where not needed).

<div class="paragraph"> </div>

NOTE: as with <span class="inlinecode"><span class="id" title="var">etrans_dep</span></span>, proofs using <span class="inlinecode"><span class="id" title="var">etrans_disp</span></span> seem to typecheck more slowly than proofs using <span class="inlinecode"><span class="id" title="var">etrans</span></span> plus other lemmas directly. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pathscomp0_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> <span class="id" title="var">f''</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">f'</span> = <span class="id" title="var">f</span>} {<span class="id" title="var">e'</span> : <span class="id" title="var">f''</span> = <span class="id" title="var">f'</span>} {<span class="id" title="var">e''</span> : <span class="id" title="var">f''</span> = <span class="id" title="var">f</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} {<span class="id" title="var">ff'</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f'</span>] <span class="id" title="var">yy</span>} {<span class="id" title="var">ff''</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f''</span>] <span class="id" title="var">yy</span>}<br/>
: (<span class="id" title="var">ff</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">ff'</span>) -&gt; (<span class="id" title="var">ff'</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e'</span> <span class="id" title="var">ff''</span>)<br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">ff</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e''</span> <span class="id" title="var">ff''</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ee</span> <span class="id" title="var">ee'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0_dep</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ee</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">ee'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "etrans_disp" := <span class="id" title="tactic">eapply</span> @<span class="id" title="var">pathscomp0_disp</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_disp_cat_axioms</span> (<span class="id" title="var">C</span> : <span class="id" title="var">category</span>) (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaprop</span> (<span class="id" title="var">disp_cat_axioms</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isofhlevelsn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := ( <span class="id" title="var">_</span> ,, <span class="id" title="var">X</span>) : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveltotal2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">homsets_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveldirprod</span>); <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (@<span class="id" title="var">homsets_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (@<span class="id" title="var">homsets_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscontr</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} (<span class="id" title="var">ef</span> : <span class="id" title="var">f</span> = <span class="id" title="var">f'</span>) {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">ef</span> <span class="id" title="var">ff</span>) ;; <span class="id" title="var">gg</span><br/>
&nbsp;&nbsp;= <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">cancel_postcomposition</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">ef</span>) (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ef</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> <span class="id" title="var">g'</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} (<span class="id" title="var">eg</span> : <span class="id" title="var">g</span> = <span class="id" title="var">g'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ff</span> ;; (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">eg</span> <span class="id" title="var">gg</span>)<br/>
&nbsp;&nbsp;= <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">compose</span> <span class="id" title="var">f</span>) <span class="id" title="var">eg</span>) (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">eg</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cancel_postcomposition_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">f'</span> = <span class="id" title="var">f</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} {<span class="id" title="var">ff'</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f'</span>] <span class="id" title="var">yy</span>} (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">ee</span> : <span class="id" title="var">ff</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">ff'</span>)<br/>
: <span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">cancel_postcomposition</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">e</span>) (<span class="id" title="var">ff'</span> ;; <span class="id" title="var">gg</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cancel_precomposition_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> <span class="id" title="var">g'</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>} {<span class="id" title="var">e</span> : <span class="id" title="var">g'</span> = <span class="id" title="var">g</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) {<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>} {<span class="id" title="var">gg'</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g'</span>] <span class="id" title="var">zz</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ee</span> : <span class="id" title="var">gg</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">gg'</span>)<br/>
: <span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span> = <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">cancel_precomposition</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">e</span>) (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">ee</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Lemmas</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Disp_Cat</span>.<br/>

<br/>
</div>

<div class="doc">
Redeclare sectional notations globally. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> &quot;xx --&gt;[ f ] yy" := (<span class="id" title="var">mor_disp</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">yy</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;ff ;; gg" := (<span class="id" title="var">comp_disp</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>, <span class="id" title="var">format</span> "ff  ;;  gg")<br/>
&nbsp;&nbsp;: <span class="id" title="var">mor_disp_scope</span>.<br/>
<span class="id" title="keyword">Delimit</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mor_disp</span>.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mor_disp</span>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A useful notation for hiding the huge irrelevant equalities that occur in algebra of displayed categories.  For individual proofs, use <span class="inlinecode"><span class="id" title="keyword">Open</span></span> <span class="inlinecode"><span class="id" title="keyword">Scope</span></span> <span class="inlinecode"><span class="id" title="var">hide_transport_scope</span>.</span> at the start, and then <span class="inlinecode"><span class="id" title="var">Close</span></span> <span class="inlinecode"><span class="id" title="keyword">Scope</span></span> <span class="inlinecode"><span class="id" title="var">hide_transport_scope</span>.</span> afterwards.  For whole files/sections, use <span class="inlinecode"><span class="id" title="keyword">Local</span></span> <span class="inlinecode"><span class="id" title="keyword">Open</span></span> <span class="inlinecode"><span class="id" title="keyword">Scope</span></span> <span class="inlinecode"><span class="id" title="var">hide_transport_scope</span>.</span>

<div class="paragraph"> </div>

Level is chosen to bind *tighter* than categorical composition, for readability. 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> &quot;#? x" := (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 45) : <span class="id" title="var">hide_transport_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;#?' x" := (<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 45) : <span class="id" title="var">hide_transport_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1556"></a><h2 class="section">Isomorphisms (and lemmas)</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Isos</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span><br/>
:= ∑ (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">f</span>] <span class="id" title="var">xx</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gg</span> ;; <span class="id" title="var">ff</span> = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span> = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;:= ∑ <span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>, <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_disp_pair</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">iso_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">ff</span>,, <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mor_disp_from_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) : <span class="id" title="var">_</span> --&gt;[ <span class="id" title="var">_</span> ] <span class="id" title="var">_</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">mor_disp_from_iso</span> : <span class="id" title="var">iso_disp</span> &gt;-&gt; <span class="id" title="var">mor_disp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_disp_from_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">i</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">i</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">is_iso_disp_from_iso</span> : <span class="id" title="var">iso_disp</span> &gt;-&gt; <span class="id" title="var">is_iso_disp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inv_mor_disp_from_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">_</span> --&gt;[ <span class="id" title="var">_</span> ] <span class="id" title="var">_</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">i</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_disp_after_inv_mor</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">i</span> ;; <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inv_mor_after_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">ff</span> ;; <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">i</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_is_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaprop</span> (<span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invproofirrelevance</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">gg</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">gg</span> [<span class="id" title="var">gf</span> <span class="id" title="var">fg</span>]], <span class="id" title="var">i'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">gg'</span> [<span class="id" title="var">gf'</span> <span class="id" title="var">fg'</span>]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">id_right_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">fg'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">gf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">maponpaths_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaset_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaset</span> (<span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaset_total2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isasetaprop</span>, <span class="id" title="var">isaprop_is_iso_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">eq_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> <span class="id" title="var">ff'</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">pr1</span> <span class="id" title="var">ff</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">ff'</span> -&gt; <span class="id" title="var">ff</span> = <span class="id" title="var">ff'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_is_iso_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_iso_disp_transportf</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">f</span> = <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f'</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">transportf_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">f</span> = <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">pr1</span> (<span class="id" title="var">transportf</span> (<span class="id" title="var">λ</span> <span class="id" title="var">g</span>, <span class="id" title="var">iso_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">e</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;= <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> <span class="id" title="var">e</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_inv_from_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">i</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> ( <span class="id" title="var">xx</span> --&gt;[ <span class="id" title="var">iso_inv_from_iso</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">f</span>)] <span class="id" title="var">yy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">transportb</span> (<span class="id" title="var">mor_disp</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">iso_inv_iso_inv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">inv_mor_after_iso_disp</span> <span class="id" title="var">i</span>)  | ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">iso_disp_after_inv_mor</span> <span class="id" title="var">i</span>) |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span> ;[ <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> ).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_inv_from_is_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">i</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is_iso_inv_from_iso_disp</span> (<span class="id" title="var">ff</span> ,, <span class="id" title="var">i</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_inv_from_iso_disp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso_disp</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">f</span>) <span class="id" title="var">yy</span> <span class="id" title="var">xx</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_iso_inv_from_iso_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_disp_comp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">iso</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>} {<span class="id" title="var">zz</span> : <span class="id" title="var">D</span> <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">g</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso_disp</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) <span class="id" title="var">xx</span> <span class="id" title="var">zz</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">transportb</span> (<span class="id" title="var">mor_disp</span> <span class="id" title="var">zz</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">iso_inv_of_iso_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">gg</span> ;; <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">ff</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ;; <span class="id" title="var">gg</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_disp_after_inv_mor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_disp_after_inv_mor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">x</span> ;; <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">ff</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">inv_mor_after_iso_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">inv_mor_after_iso_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">id_is_iso_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">identity_iso</span> <span class="id" title="var">x</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">xx</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">identity_iso_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">iso_disp</span> (<span class="id" title="var">identity_iso</span> <span class="id" title="var">x</span>) <span class="id" title="var">xx</span> <span class="id" title="var">xx</span><br/>
:= (<span class="id" title="var">_</span> ,, <span class="id" title="var">id_is_iso_disp</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">idtoiso_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">xx'</span> : <span class="id" title="var">D</span> <span class="id" title="var">x'</span>} (<span class="id" title="var">ee</span> : <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">xx</span> = <span class="id" title="var">xx'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">iso_disp</span> (<span class="id" title="var">idtoiso</span> <span class="id" title="var">e</span>) <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>, <span class="id" title="var">ee</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">identity_iso_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">idtoiso_fiber_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">x</span> : <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">xx'</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} (<span class="id" title="var">ee</span> : <span class="id" title="var">xx</span> = <span class="id" title="var">xx'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">iso_disp</span> (<span class="id" title="var">identity_iso</span> <span class="id" title="var">x</span>) <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">idtoiso_disp</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>) <span class="id" title="var">ee</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iso_disp_precomp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">y'</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">y'</span>) (<span class="id" title="var">yy'</span> : <span class="id" title="var">D</span> <span class="id" title="var">y'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">ff'</span> : <span class="id" title="var">yy</span> --&gt;[ <span class="id" title="var">f'</span> ] <span class="id" title="var">yy'</span> =&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">ff</span> ;; <span class="id" title="var">ff'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y'</span> <span class="id" title="var">f'</span> <span class="id" title="var">yy'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>)) ;; <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR'</span> := <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>   ) <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XRRT</span> := <span class="id" title="var">transportf</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">xyz</span>, <span class="id" title="var">xyz</span> · <span class="id" title="var">f'</span>) (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">XR'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XRRT'</span> := <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">XRRT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XRRT'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iso_disp_postcomp</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ii</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">i</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">forall</span> (<span class="id" title="var">x'</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f'</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>) (<span class="id" title="var">xx'</span> : <span class="id" title="var">D</span> <span class="id" title="var">x'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">ff</span> : <span class="id" title="var">xx'</span> --&gt;[ <span class="id" title="var">f'</span> ] <span class="id" title="var">xx</span> =&gt; <span class="id" title="var">ff</span> ;; <span class="id" title="var">ii</span>)%<span class="id" title="var">mor_disp</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y'</span> <span class="id" title="var">f'</span> <span class="id" title="var">yy'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">X</span> ;; (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ii</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR'</span> := <span class="id" title="var">transportf</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">_</span> --&gt;[ <span class="id" title="var">x</span> ] <span class="id" title="var">_</span>) (!<span class="id" title="var">assoc</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>   ) <span class="id" title="var">XR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XRRT</span> := <span class="id" title="var">transportf</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">_</span> --&gt;[ <span class="id" title="var">x</span> ] <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">xyz</span>, <span class="id" title="var">_</span> · <span class="id" title="var">xyz</span>) (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">_</span> ))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">XR'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XRRT'</span> := <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_right</span> <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">XRRT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">XRRT'</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ii</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_right_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ii</span>))). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">XR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">XR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_right_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma_hset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">C</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_iso_disp_independent_of_is_iso</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">H'f</span> : <span class="id" title="var">is_iso</span> <span class="id" title="var">f</span>} (<span class="id" title="var">Hff</span> : <span class="id" title="var">is_iso_disp</span> ((<span class="id" title="var">f</span> : <span class="id" title="var">_</span> --&gt; <span class="id" title="var">_</span>),,<span class="id" title="var">H'f</span>) <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">F</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> : <span class="id" title="var">Hf</span> = <span class="id" title="var">H'f</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_is_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hff</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Isos</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1557"></a><h2 class="section">More utility lemmas</h2>

<div class="paragraph"> </div>

 A few more general lemmas for displayed-cat algebra, that require isomorphisms to state. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Utilities</span>.<br/>

<br/>
</div>

<div class="doc">
Note: closely analogous to <span class="inlinecode"><span class="id" title="var">idtoiso_precompose</span></span>.  We name it differently to fit the convention of naming equalities according to their LHS, for reference during calculation. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">transportf_precompose_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">c</span> --&gt; <span class="id" title="var">d</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">cc</span> <span class="id" title="var">cc'</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">cc</span> = <span class="id" title="var">cc'</span>) {<span class="id" title="var">dd</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">cc</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">dd</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transportf</span> (<span class="id" title="var">λ</span> <span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>, <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">dd</span>) <span class="id" title="var">e</span> <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;= <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_left</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iso_inv_from_iso_disp</span> (<span class="id" title="var">idtoiso_disp</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>) (<span class="id" title="var">e</span>)) ;; <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">idfun</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="var">id_left_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">precomp_with_iso_disp_is_inj</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">i</span> : <span class="id" title="var">iso</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">c</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">aa</span> : <span class="id" title="var">D</span> <span class="id" title="var">a</span>} {<span class="id" title="var">bb</span>} {<span class="id" title="var">cc</span>} (<span class="id" title="var">ii</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">i</span> <span class="id" title="var">aa</span> <span class="id" title="var">bb</span>) {<span class="id" title="var">ff</span> <span class="id" title="var">ff'</span> : <span class="id" title="var">bb</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">cc</span>}<br/>
&nbsp;&nbsp;: (<span class="id" title="var">ii</span> ;; <span class="id" title="var">ff</span> = <span class="id" title="var">ii</span> ;; <span class="id" title="var">ff'</span>) -&gt; <span class="id" title="var">ff</span> = <span class="id" title="var">ff'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ((<span class="id" title="var">iso_inv_from_iso_disp</span> <span class="id" title="var">ii</span> ;; <span class="id" title="var">ii</span>) ;; <span class="id" title="var">ff</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">iso_after_iso_inv</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">transportf_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">cancel_postcomposition_disp</span>, (<span class="id" title="var">iso_disp_after_inv_mor</span> <span class="id" title="var">ii</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (@<span class="id" title="var">id_left_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">bb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">maponpaths_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">transportf_bind</span>, <span class="id" title="var">assoc_disp_var</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">transportf_bind</span>, <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">transportf_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">cancel_postcomposition_disp</span>, (<span class="id" title="var">iso_disp_after_inv_mor</span> <span class="id" title="var">ii</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">maponpaths_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Utilities</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1558"></a><h2 class="section">Saturation: displayed univalent categories</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Univalent_Categories</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_univalent_disp</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> (<span class="id" title="var">e</span> : <span class="id" title="var">x</span> = <span class="id" title="var">x'</span>) {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">xx'</span> : <span class="id" title="var">D</span> <span class="id" title="var">x'</span>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">ee</span>, @<span class="id" title="var">idtoiso_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span> <span class="id" title="var">ee</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_univalent_in_fibers</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;:= ∏ <span class="id" title="var">x</span> (<span class="id" title="var">xx</span> <span class="id" title="var">xx'</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>), <span class="id" title="var">isweq</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> : <span class="id" title="var">xx</span> = <span class="id" title="var">xx'</span> =&gt; <span class="id" title="var">idtoiso_fiber_disp</span> <span class="id" title="var">e</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_univalent_disp_from_fibers</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_univalent_in_fibers</span> <span class="id" title="var">D</span><br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_univalent_in_fibers_from_univalent_disp</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span> -&gt; <span class="id" title="var">is_univalent_in_fibers</span> <span class="id" title="var">D</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">is_univalent_disp</span> , <span class="id" title="var">is_univalent_in_fibers</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span> ) <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">univalent_disp_cat_has_groupoid_obs</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_u</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>) : ∏ <span class="id" title="var">c</span>, <span class="id" title="var">isofhlevel</span> 3 (<span class="id" title="var">D</span> <span class="id" title="var">c</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">isofhlevel</span> 3 (<span class="id" title="var">D</span> <span class="id" title="var">c</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>, <span class="id" title="var">isofhlevel</span> 2 (<span class="id" title="var">a</span> = <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">XR</span> := <span class="id" title="var">is_univalent_in_fibers_from_univalent_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">is_u</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhlevelweqb</span> <span class="id" title="var">_</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">XR</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> <span class="id" title="var">xx'</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isaset_iso_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_univalent_category</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;:= ∑ <span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>, <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_univalent_category_pair</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_univalent_category</span> <span class="id" title="var">C</span><br/>
:= (<span class="id" title="var">D</span>,,<span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_cat_of_disp_univalent_cat</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_univalent_category</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span><br/>
:= <span class="id" title="var">pr1</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_cat_of_disp_univalent_cat</span> : <span class="id" title="var">disp_univalent_category</span> &gt;-&gt; <span class="id" title="var">disp_cat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_univalent_category_is_univalent_disp</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_univalent_category</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span><br/>
:= <span class="id" title="var">pr2</span> <span class="id" title="var">D</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_univalent_category_is_univalent_disp</span> : <span class="id" title="var">disp_univalent_category</span> &gt;-&gt; <span class="id" title="var">is_univalent_disp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isotoid_disp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">D_cat</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">c</span> <span class="id" title="var">c'</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">c</span> = <span class="id" title="var">c'</span>) {<span class="id" title="var">d</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>} {<span class="id" title="var">d'</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> (<span class="id" title="var">idtoiso</span> <span class="id" title="var">e</span>) <span class="id" title="var">d</span> <span class="id" title="var">d'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> = <span class="id" title="var">d'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> (<span class="id" title="var">idtoiso_disp</span> <span class="id" title="var">e</span>) (<span class="id" title="var">D_cat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="var">i</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">idtoiso_isotoid_disp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">D_cat</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">c</span> <span class="id" title="var">c'</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">c</span> = <span class="id" title="var">c'</span>) {<span class="id" title="var">d</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>} {<span class="id" title="var">d'</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">iso_disp</span> (<span class="id" title="var">idtoiso</span> <span class="id" title="var">e</span>) <span class="id" title="var">d</span> <span class="id" title="var">d'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">idtoiso_disp</span> <span class="id" title="var">e</span> (<span class="id" title="var">isotoid_disp</span> <span class="id" title="var">D_cat</span> <span class="id" title="var">e</span> <span class="id" title="var">i</span>) = <span class="id" title="var">i</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isotoid_idtoiso_disp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">D_cat</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">c</span> <span class="id" title="var">c'</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">c</span> = <span class="id" title="var">c'</span>) {<span class="id" title="var">d</span> : <span class="id" title="var">D</span> <span class="id" title="var">c</span>} {<span class="id" title="var">d'</span>} (<span class="id" title="var">ee</span> : <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> = <span class="id" title="var">d'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isotoid_disp</span> <span class="id" title="var">D_cat</span> <span class="id" title="var">e</span> (<span class="id" title="var">idtoiso_disp</span> <span class="id" title="var">e</span> <span class="id" title="var">ee</span>) = <span class="id" title="var">ee</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Univalent_Categories</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1559"></a><h1 class="section">Total categories</h1>

<div class="paragraph"> </div>

<a name="lab1560"></a><h2 class="section">Definition and forgetful functor</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Total_Category</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Total_Category_data</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_category_ob_mor</span> : <span class="id" title="var">precategory_ob_mor</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (∑ <span class="id" title="var">x</span>:<span class="id" title="var">C</span>, <span class="id" title="var">D</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (∑ (<span class="id" title="var">f</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">xx</span> --&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>), <span class="id" title="var">pr2</span> <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_category_id_comp</span> : <span class="id" title="var">precategory_id_comp</span> (<span class="id" title="var">total_category_ob_mor</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tpair</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">identity</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">id_disp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span> · <span class="id" title="var">pr1</span> <span class="id" title="var">gg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span> ;; <span class="id" title="var">pr2</span> <span class="id" title="var">gg</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_category_data</span> : <span class="id" title="var">precategory_data</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">total_category_ob_mor</span> ,, <span class="id" title="var">total_category_id_comp</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Total_Category_data</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">total_category_is_precat</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">is_precategory</span> (<span class="id" title="var">total_category_data</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_precategory_one_assoc_to_two</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tpair</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">ff</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">ff</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">id_right_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> <span class="id" title="var">ww</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_precategory</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>) : <span class="id" title="var">precategory</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">total_category_data</span> <span class="id" title="var">D</span> ,, <span class="id" title="var">total_category_is_precat</span> <span class="id" title="var">D</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">total_category_has_homsets</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">has_homsets</span> (<span class="id" title="var">total_category_data</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isaset_total2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) : <span class="id" title="var">category</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>,, <span class="id" title="var">total_category_has_homsets</span> <span class="id" title="var">D</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1_category_data</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">functor_data</span> (<span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>) <span class="id" title="var">C</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pr1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">pr1</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pr1_category_is_functor</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">is_functor</span> (<span class="id" title="var">pr1_category_data</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">functor</span> (<span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>) <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">mk_functor</span> (<span class="id" title="var">pr1_category_data</span> <span class="id" title="var">D</span>) (<span class="id" title="var">pr1_category_is_functor</span> <span class="id" title="var">D</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">full_pr1_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">pr1</span> <span class="id" title="var">a</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">b</span> ⟧), (∥ <span class="id" title="var">pr2</span> <span class="id" title="var">a</span> --&gt;[ <span class="id" title="var">x</span>] <span class="id" title="var">pr2</span> <span class="id" title="var">b</span> ∥))<br/>
&nbsp;&nbsp;: <span class="id" title="var">full</span> (<span class="id" title="var">pr1_category</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pr1_issurjective</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">faithful_pr1_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">pr1</span> <span class="id" title="var">a</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">b</span> ⟧), <span class="id" title="var">isaprop</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">a</span> --&gt;[ <span class="id" title="var">x</span>] <span class="id" title="var">pr2</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">faithful</span> (<span class="id" title="var">pr1_category</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isinclpr1</span>, <span class="id" title="var">H</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">fully_faithful_pr1_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">C</span> ⟦ <span class="id" title="var">pr1</span> <span class="id" title="var">a</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">b</span> ⟧), <span class="id" title="var">iscontr</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">a</span> --&gt;[ <span class="id" title="var">x</span>] <span class="id" title="var">pr2</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">fully_faithful</span> (<span class="id" title="var">pr1_category</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isweqpr1</span>, <span class="id" title="var">H</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1561"></a><h2 class="section">Isomorphisms and saturation</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt; <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">is_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>))<br/>
&nbsp;&nbsp;(<span class="id" title="var">fi</span> := <span class="id" title="var">isopair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>) <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">ii</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">fi</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso</span> <span class="id" title="var">ff</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_iso_from_is_z_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">fi</span>,, <span class="id" title="var">pr1</span> <span class="id" title="var">ii</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">fi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">inv_mor_after_iso_disp</span> <span class="id" title="var">ii</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">fi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">iso_disp_after_inv_mor</span> <span class="id" title="var">ii</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_base_from_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt; <span class="id" title="var">yy</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">is_iso</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ffi</span> := <span class="id" title="var">isopair</span> <span class="id" title="var">ff</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is_iso_qinv</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">ffi</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">ffi</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">ffi</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_base_from_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} (<span class="id" title="var">ffi</span> : <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) : <span class="id" title="var">iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isopair</span> <span class="id" title="var">_</span> (<span class="id" title="var">is_iso_base_from_total</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ffi</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">inv_iso_base_from_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} (<span class="id" title="var">ffi</span> : <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">iso_base_from_total</span> <span class="id" title="var">ffi</span>) = <span class="id" title="var">pr1</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">ffi</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">inv_iso_unique'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">precomp_with</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">pr1</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">ffi</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is_iso_disp_from_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} {<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt; <span class="id" title="var">yy</span>} (<span class="id" title="var">i</span> : <span class="id" title="var">is_iso</span> <span class="id" title="var">ff</span>) (<span class="id" title="var">ffi</span> := <span class="id" title="var">isopair</span> <span class="id" title="var">ff</span> <span class="id" title="var">i</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">iso_base_from_total</span> (<span class="id" title="var">ff</span>,,<span class="id" title="var">i</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>; [ | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">transportb</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">inv_iso_base_from_total</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">ffi</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">fiber_paths</span> (!<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">ffi</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">fiber_paths</span> (!<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">ffi</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iso_disp_from_total</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iso_disp</span> (<span class="id" title="var">iso_base_from_total</span> <span class="id" title="var">ff</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">_</span>,, <span class="id" title="var">is_iso_disp_from_total</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>)) (<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>,, <span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">is_iso_total</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>,, <span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cancel_precomposition_iso</span> {<span class="id" title="var">C'</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="var">g1</span> <span class="id" title="var">g2</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">f</span> ;; <span class="id" title="var">g1</span> = <span class="id" title="var">f</span> ;; <span class="id" title="var">g2</span> -&gt; <span class="id" title="var">g1</span> = <span class="id" title="var">g2</span>)%<span class="id" title="var">cat_deprecated</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<span class="id" title="var">pathscomp0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">f</span> · (<span class="id" title="var">f</span> · <span class="id" title="var">g1</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> @<span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">inv_mor_total_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>)) (<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">total_iso</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;= (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">f</span>,, <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cancel_precomposition_iso</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">total_iso</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_after_iso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_after_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">inv_mor_after_iso_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_iso_equiv_map</span> {<span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_precat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_precategory</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;: (∑ <span class="id" title="var">f</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>), <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>))<br/>
&nbsp;&nbsp;-&gt; <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span><br/>
:= <span class="id" title="var">λ</span> <span class="id" title="var">ff</span>, <span class="id" title="var">total_iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_isweq_iso</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_category</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isweq</span> (@<span class="id" title="var">total_iso_equiv_map</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">ff</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">iso_base_from_total</span> <span class="id" title="var">ff</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">iso_disp_from_total</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">f</span> <span class="id" title="var">ff</span>]. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>, <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_iso_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="var">pr2</span>. <span class="id" title="tactic">simpl</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iso_disp_from_total</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">maponpaths_2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">f</span> <span class="id" title="var">ff</span>] <span class="id" title="var">w</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_iso_equiv</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> <span class="id" title="var">yy</span> : <span class="id" title="var">total_category</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: (∑ <span class="id" title="var">f</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">yy</span>), <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">yy</span>))<br/>
&nbsp;&nbsp;≃ <span class="id" title="var">iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span><br/>
:= <span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">total_isweq_iso</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_univalent_total_category</span> {<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">CC</span> : <span class="id" title="var">is_univalent</span> <span class="id" title="var">C</span>) (<span class="id" title="var">DD</span> : <span class="id" title="var">is_univalent_disp</span> <span class="id" title="var">D</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">is_univalent</span> (<span class="id" title="var">total_category</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">xs</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">xx</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">xs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">y</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">ys</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">yy</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">ys</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqhomot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">weqcomp</span> <span class="id" title="var">_</span> (∑ <span class="id" title="var">e</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>, <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <span class="id" title="var">xx</span> = <span class="id" title="var">yy</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">total2_paths_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">weqcomp</span> <span class="id" title="var">_</span> (∑ <span class="id" title="var">e</span> : <span class="id" title="var">x</span> = <span class="id" title="var">y</span>, <span class="id" title="var">iso_disp</span> (<span class="id" title="var">idtoiso</span> <span class="id" title="var">e</span>) <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">weqfibtototal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">ee</span>, <span class="id" title="var">idtoiso_disp</span> <span class="id" title="var">e</span> <span class="id" title="var">ee</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">DD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">weqcomp</span> <span class="id" title="var">_</span> (∑ <span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">weqfp</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">apply</span> <span class="id" title="var">CC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">total_iso_equiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Total_Category</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <span class="id" title="var">pr1_category</span> [<span class="id" title="var">C</span>] <span class="id" title="var">D</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1562"></a><h1 class="section">Functors</h1>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Reindexing of displayed cats along functors: <span class="inlinecode"><span class="id" title="var">reindex_disp_cat</span></span>

</li>
<li> Functors into displayed cats, lifting functors into the base: <span class="inlinecode"><span class="id" title="var">functor_lifting</span></span>

</li>
<li> Functors between displayed cats, over functors between the bases: <span class="inlinecode"><span class="id" title="var">disp_functor</span></span>

</li>
<li> Natural transformations between these: <span class="inlinecode"><span class="id" title="var">disp_nat_trans</span></span> 
</li>
</ul>

<div class="paragraph"> </div>

<a name="lab1563"></a><h2 class="section">Reindexing</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Reindexing</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>) (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_cat_ob_mor</span> : <span class="id" title="var">disp_cat_ob_mor</span> <span class="id" title="var">C'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span>, <span class="id" title="var">D</span> (<span class="id" title="var">F</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">xx</span> --&gt;[# <span class="id" title="var">F</span> <span class="id" title="var">f</span>] <span class="id" title="var">yy</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_cat_id_comp</span> : <span class="id" title="var">disp_cat_id_comp</span> <span class="id" title="var">C'</span> <span class="id" title="var">reindex_disp_cat_ob_mor</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">id_disp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_cat_data</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">_</span> ,, <span class="id" title="var">reindex_disp_cat_id_comp</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_cat_axioms</span> : <span class="id" title="var">disp_cat_axioms</span> <span class="id" title="var">C'</span> <span class="id" title="var">reindex_disp_cat_data</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">tpair</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">ff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_b_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">id_left_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. 2: <span class="id" title="tactic">apply</span> @<span class="id" title="var">pathsinv0</span>, (<span class="id" title="var">functtransportb</span> (# <span class="id" title="var">F</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">ff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_b_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">id_right_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. 2: <span class="id" title="tactic">apply</span> @<span class="id" title="var">pathsinv0</span>, (<span class="id" title="var">functtransportb</span> (# <span class="id" title="var">F</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">w</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> <span class="id" title="var">ww</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span> <span class="id" title="var">hh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_b_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">assoc_disp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">functtransportb</span> (# <span class="id" title="var">F</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_b_b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_b_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_cat</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span><br/>
&nbsp;&nbsp;:= (<span class="id" title="var">_</span> ,, <span class="id" title="var">reindex_disp_cat_axioms</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Reindexing</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1564"></a><h2 class="section">Functors into displayed categories</h2>

<div class="paragraph"> </div>

 Just like how context morphisms in a CwA can be built up out of terms, similarly, the basic building-block for functors into (total cats of) displayed categories will be analogous to a term.

<div class="paragraph"> </div>

We call it a <i>section</i> (though we define it intrinsically, not as a section in a (bi)category), since it corresponds to a section of the forgetful functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Sections</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_data</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;:= ∑ (<span class="id" title="var">Fob</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">C</span>, <span class="id" title="var">D</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">C</span>) (<span class="id" title="var">f</span>:<span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>), <span class="id" title="var">Fob</span> <span class="id" title="var">x</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">Fob</span> <span class="id" title="var">y</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_on_objects</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">section_disp_data</span> <span class="id" title="var">D</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">C</span>)<br/>
:= <span class="id" title="var">pr1</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">section_disp_on_objects</span> : <span class="id" title="var">section_disp_data</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_on_morphisms</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">section_disp_data</span> <span class="id" title="var">D</span>) {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>)<br/>
:= <span class="id" title="var">pr2</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> : <span class="id" title="var">F</span> <span class="id" title="var">x</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">F</span> <span class="id" title="var">y</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;# F" := (<span class="id" title="var">section_disp_on_morphisms</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3) : <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_axioms</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">section_disp_data</span> <span class="id" title="var">D</span>) : <span class="id" title="var">UU</span><br/>
:= ((<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>:<span class="id" title="var">C</span>, # <span class="id" title="var">F</span> (<span class="id" title="var">identity</span> <span class="id" title="var">x</span>) = <span class="id" title="var">id_disp</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;× (<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">F</span> (<span class="id" title="var">f</span> · <span class="id" title="var">g</span>) = (# <span class="id" title="var">F</span> <span class="id" title="var">f</span>) ;; (# <span class="id" title="var">F</span> <span class="id" title="var">g</span>))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp</span> {<span class="id" title="var">C</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">total2</span> (@<span class="id" title="var">section_disp_axioms</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_data_from_section_disp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">section_disp</span> <span class="id" title="var">D</span>) := <span class="id" title="var">pr1</span> <span class="id" title="var">F</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">section_disp_data_from_section_disp</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">section_disp</span> &gt;-&gt; <span class="id" title="var">section_disp_data</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_id</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">section_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">section_disp_comp</span> {<span class="id" title="var">C</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">section_disp</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">F</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Sections</span>.<br/>

<br/>
</div>

<div class="doc">
With sections defined, we can now define <i>lifts</i> to a displayed category of a functor into the base. 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Functor_Lifting</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;# F" := (<span class="id" title="var">section_disp_on_morphisms</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3) : <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">functor_lifting</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>) (<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">section_disp</span> (<span class="id" title="var">reindex_disp_cat</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span>).<br/>

<br/>
<span class="id" title="keyword">Identity</span> <span class="id" title="keyword">Coercion</span> <span class="id" title="var">section_from_functor_lifting</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">functor_lifting</span> &gt;-&gt; <span class="id" title="var">section_disp</span>.<br/>

<br/>
</div>

<div class="doc">
Note: perhaps it would be better to define <span class="inlinecode"><span class="id" title="var">functor_lifting</span></span> directly?
  Reindexed displayed-cats are a bit confusing to work in, since a term like <span class="inlinecode"><span class="id" title="var">id_disp</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#xx"><span class="id" title="variable">xx</span></a></span> is ambiguous: it can mean both the identity in the original displayed category, or the identity in the reindexing, which is nearly but not quite the same.  This shows up already in the proofs of <span class="inlinecode"><span class="id" title="var">lifted_functor_axioms</span></span> below. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lifted_functor_data</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">functor_lifting</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> (<span class="id" title="var">total_category</span> <span class="id" title="var">D</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, (<span class="id" title="var">F</span> <span class="id" title="var">x</span> ,, <span class="id" title="var">FF</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exists</span> (# <span class="id" title="var">F</span> <span class="id" title="var">f</span>)%<span class="id" title="var">cat</span>. <span class="id" title="tactic">exact</span> (# <span class="id" title="var">FF</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lifted_functor_axioms</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">functor_lifting</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_functor</span> (<span class="id" title="var">lifted_functor_data</span> <span class="id" title="var">FF</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, (<span class="id" title="var">section_disp_id</span> <span class="id" title="var">FF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">pathscomp0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, (<span class="id" title="var">section_disp_comp</span> <span class="id" title="var">FF</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lifted_functor</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">functor_lifting</span> <span class="id" title="var">D</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> (<span class="id" title="var">total_category</span> <span class="id" title="var">D</span>)<br/>
:= (<span class="id" title="var">_</span> ,, <span class="id" title="var">lifted_functor_axioms</span> <span class="id" title="var">FF</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Functor_Lifting</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1565"></a><h2 class="section">Functors over functors between bases</h2>

<div class="paragraph"> </div>

 One could define these in terms of functor-liftings, as:

<div class="paragraph"> </div>

<br/>
<span class="inlinecode"><span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor</span> {<a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} (<a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a> : <span class="id" title="var">functor</span> <a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="var">C'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a> : <span class="id" title="var">disp_cat</span> <a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a>) (<a class="idref" href="UniMath.Algebra.DCPO.html#D'"><span class="id" title="variable">D'</span></a> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>)<br/>
&nbsp;&nbsp;:= <span class="id" title="var">functor_lifting</span> <a class="idref" href="UniMath.Algebra.DCPO.html#D'"><span class="id" title="variable">D'</span></a> (<span class="id" title="var">functor_composite</span> (<span class="id" title="var">pr1_category</span> <a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a>).
<div class="paragraph"> </div>

</span>
<div class="paragraph"> </div>

However, it seems like it may probably be cleaner to define these independently.

<div class="paragraph"> </div>

TODO: reassess this design decision after some experience using it! 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Disp_Functor</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_data</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>) (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>)<br/>
:= ∑ (<span class="id" title="var">Fob</span> : ∏ <span class="id" title="var">x</span>, <span class="id" title="var">D'</span> <span class="id" title="var">x</span> -&gt; <span class="id" title="var">D</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D'</span> <span class="id" title="var">y</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) -&gt; (<span class="id" title="var">Fob</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> --&gt;[ # <span class="id" title="var">F</span> <span class="id" title="var">f</span> ] <span class="id" title="var">Fob</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_on_objects</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>) {<span class="id" title="var">x</span> : <span class="id" title="var">C'</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">D</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)<br/>
:= <span class="id" title="var">pr1</span> <span class="id" title="var">FF</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_functor_on_objects</span> : <span class="id" title="var">disp_functor_data</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
</div>

<div class="doc">
Unfortunately, the coercion loses implicitness of the {x:C'} argument:
  we have to write <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">FF</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#xx"><span class="id" title="variable">xx</span></a></span> <span class="inlinecode"></span> instead of just <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">FF</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#xx"><span class="id" title="variable">xx</span></a></span> <span class="inlinecode"></span>.

<div class="paragraph"> </div>

  If anyone knows a way to avoid this, we would be happy to hear it! 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_on_morphisms</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>} {<span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C'</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>) --&gt;[ # <span class="id" title="var">F</span> <span class="id" title="var">f</span> ] (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>)<br/>
:= <span class="id" title="var">pr2</span> <span class="id" title="var">FF</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;# F" := (<span class="id" title="var">disp_functor_on_morphisms</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3) : <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_axioms</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
:=  (∏ <span class="id" title="var">x</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">FF</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">xx</span>) = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_id</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">id_disp</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>)))<br/>
&nbsp;&nbsp;× (∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>) <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">FF</span> (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (# <span class="id" title="var">FF</span> <span class="id" title="var">ff</span> ;; # <span class="id" title="var">FF</span> <span class="id" title="var">gg</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_disp_functor_axioms</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">isaprop</span> (<span class="id" title="var">disp_functor_axioms</span> <span class="id" title="var">FF</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intros</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>) (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>)<br/>
:= ∑ <span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>, <span class="id" title="var">disp_functor_axioms</span> <span class="id" title="var">FF</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_data_from_disp_functor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span><br/>
:= <span class="id" title="var">pr1</span> <span class="id" title="var">FF</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_functor_data_from_disp_functor</span><br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor</span> &gt;-&gt; <span class="id" title="var">disp_functor_data</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_id</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: # <span class="id" title="var">FF</span> (<span class="id" title="var">id_disp</span> <span class="id" title="var">xx</span>) = <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_id</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span>) (<span class="id" title="var">id_disp</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>))<br/>
:= <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">FF</span>) <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_comp</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: # <span class="id" title="var">FF</span> (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (# <span class="id" title="var">FF</span> <span class="id" title="var">ff</span> ;; # <span class="id" title="var">FF</span> <span class="id" title="var">gg</span>)<br/>
:= <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">FF</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>.<br/>

<br/>
</div>

<div class="doc">
variant access function 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_comp_var</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">yy</span> --&gt;[<span class="id" title="var">g</span>] <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>) (# <span class="id" title="var">FF</span> (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= # <span class="id" title="var">FF</span> <span class="id" title="var">ff</span> ;; # <span class="id" title="var">FF</span> <span class="id" title="var">gg</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">disp_functor_comp</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Useful transport lemma for <span class="inlinecode"><span class="id" title="var">disp_functor</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_transportf</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>) (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">x'</span> <span class="id" title="var">x</span> : <span class="id" title="var">C'</span>) (<span class="id" title="var">f'</span> <span class="id" title="var">f</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">f'</span> = <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">xx'</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx'</span> --&gt;[ <span class="id" title="var">f'</span> ] <span class="id" title="var">xx</span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;# <span class="id" title="var">FF</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> (#<span class="id" title="var">F</span>)%<span class="id" title="var">cat</span> <span class="id" title="var">p</span>) (#<span class="id" title="var">FF</span> <span class="id" title="var">ff</span>) .<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1566"></a><h2 class="section">Composite and identity functors.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_composite_data</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span>} {<span class="id" title="var">D'</span>} {<span class="id" title="var">D''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F'</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF'</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D''</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor_data</span> (<span class="id" title="var">functor_composite</span> <span class="id" title="var">F</span> <span class="id" title="var">F'</span>) <span class="id" title="var">D</span> <span class="id" title="var">D''</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">FF'</span> <span class="id" title="var">_</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>. <span class="id" title="tactic">exact</span> (# <span class="id" title="var">FF'</span> (# <span class="id" title="var">FF</span> <span class="id" title="var">ff</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_composite_axioms</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span>} {<span class="id" title="var">D'</span>} {<span class="id" title="var">D''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F'</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF'</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D''</span>)<br/>
: <span class="id" title="var">disp_functor_axioms</span> (<span class="id" title="var">disp_functor_composite_data</span> <span class="id" title="var">FF</span> <span class="id" title="var">FF'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_transportf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_transportf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_composite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span> : <span class="id" title="var">category</span>} {<span class="id" title="var">D</span>} {<span class="id" title="var">D'</span>} {<span class="id" title="var">D''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F'</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C'</span> <span class="id" title="var">C''</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF'</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D''</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor</span> (<span class="id" title="var">functor_composite</span> <span class="id" title="var">F</span> <span class="id" title="var">F'</span>) <span class="id" title="var">D</span> <span class="id" title="var">D''</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">disp_functor_composite_data</span> <span class="id" title="var">FF</span> <span class="id" title="var">FF'</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_composite_axioms</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_identity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">C</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor</span> (<span class="id" title="var">functor_identity</span> <span class="id" title="var">_</span> ) <span class="id" title="var">D</span> <span class="id" title="var">D</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1567"></a><h2 class="section">Action of functors on isos.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Functors_on_isos</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_on_iso_disp_aux1</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hff</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_inv_from_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# <span class="id" title="var">FF</span> (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">Hff</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; # <span class="id" title="var">FF</span> <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;= <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">_</span>) (<span class="id" title="var">id_disp</span> <span class="id" title="var">_</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">disp_functor_comp_var</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">iso_disp_after_inv_mor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_transportf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_on_iso_disp_aux2</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hff</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;: # <span class="id" title="var">FF</span> <span class="id" title="var">ff</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;;; <span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_inv_from_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# <span class="id" title="var">FF</span> (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">Hff</span>))<br/>
&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_inv_after_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) (<span class="id" title="var">id_disp</span> (<span class="id" title="var">FF</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, @<span class="id" title="var">pathsinv0</span>, <span class="id" title="var">disp_functor_comp_var</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">maponpaths</span>, <span class="id" title="var">inv_mor_after_iso_disp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_transportf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">transport_f_f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Let's see how <span class="inlinecode"><span class="id" title="var">disp_functor</span></span>s behave on <span class="inlinecode"><span class="id" title="var">iso_disp</span></span>s  TODO: consider naming 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_on_is_iso_disp</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>} (<span class="id" title="var">Hff</span> : <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>) (# <span class="id" title="var">FF</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_inv_from_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(# <span class="id" title="var">FF</span> (<span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">Hff</span>))); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_on_iso_disp_aux1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_functor_on_iso_disp_aux2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_on_iso_disp</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">iso_disp</span> <span class="id" title="var">f</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">iso_disp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>) (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>)<br/>
:= (<span class="id" title="var">_</span> ,, <span class="id" title="var">disp_functor_on_is_iso_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Functors_on_isos</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1568"></a><h2 class="section">Properties of functors</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">Functor_Properties</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_ff</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} {<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
:=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>) (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span> =&gt; # <span class="id" title="var">FF</span> <span class="id" title="var">ff</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">ff_reflects_isos</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">FF_ff</span> : <span class="id" title="var">disp_functor_ff</span> <span class="id" title="var">FF</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_ff_weq</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">FF_ff</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_ff_inv</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;:= <span class="id" title="var">invmap</span> (<span class="id" title="var">disp_functor_ff_weq</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_ff_inv_transportf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> <span class="id" title="var">f'</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} (<span class="id" title="var">e</span> : <span class="id" title="var">f</span> = <span class="id" title="var">f'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>} (<span class="id" title="var">ff</span> : <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> --&gt;[(#<span class="id" title="var">F</span>)%<span class="id" title="var">cat</span> <span class="id" title="var">f</span>] <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor_ff_inv</span> (<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">maponpaths</span> (# <span class="id" title="var">F</span> )%<span class="id" title="var">cat</span> <span class="id" title="var">e</span>) <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span> (<span class="id" title="var">disp_functor_ff_inv</span> <span class="id" title="var">ff</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_ff_inv_identity</span> {<span class="id" title="var">x</span> : <span class="id" title="var">C</span>} (<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor_ff_inv</span> (<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_id</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">id_disp</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>)))<br/>
&nbsp;&nbsp;= <span class="id" title="var">id_disp</span> <span class="id" title="var">xx</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invmap_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">disp_functor_id</span> <span class="id" title="var">FF</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_functor_ff_inv_compose</span> {<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="var">C</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>} {<span class="id" title="var">g</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">xx</span>} {<span class="id" title="var">yy</span>} {<span class="id" title="var">zz</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> --&gt;[(#<span class="id" title="var">F</span>)%<span class="id" title="var">cat</span> <span class="id" title="var">f</span>] <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>) (<span class="id" title="var">gg</span> : <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span> --&gt;[(#<span class="id" title="var">F</span>)%<span class="id" title="var">cat</span> <span class="id" title="var">g</span>] <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">zz</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_functor_ff_inv</span> (<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_comp</span> <span class="id" title="var">F</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) (<span class="id" title="var">ff</span> ;; <span class="id" title="var">gg</span>))<br/>
&nbsp;&nbsp;= <span class="id" title="var">disp_functor_ff_inv</span> <span class="id" title="var">ff</span> ;; <span class="id" title="var">disp_functor_ff_inv</span> <span class="id" title="var">gg</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invmap_eq</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">disp_functor_comp</span> <span class="id" title="var">FF</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_ff_reflects_isos</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> <span class="id" title="var">y</span>} {<span class="id" title="var">xx</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>} {<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx</span> --&gt;[<span class="id" title="var">f</span>] <span class="id" title="var">yy</span>) (<span class="id" title="var">isiso</span>: <span class="id" title="var">is_iso_disp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>) (# <span class="id" title="var">FF</span> <span class="id" title="var">ff</span>))<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_iso_disp</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">FFffinv</span> := <span class="id" title="var">inv_mor_disp_from_iso</span> <span class="id" title="var">isiso</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">FFffinv'</span> := <span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">functor_on_inv_from_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) <span class="id" title="var">FFffinv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ffinv</span> := <span class="id" title="var">disp_functor_ff_inv</span> <span class="id" title="var">FFffinv'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ffinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">ffinv</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">FFffinv'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
<span class="id" title="keyword">Abort</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">ff_reflects_isos</span>.<br/>

<br/>
</div>

<div class="doc">
Given a base functor <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> <span class="inlinecode">—&gt;</span> <span class="inlinecode"><span class="id" title="var">C'</span></span> and a displayed functor <span class="inlinecode"><span class="id" title="var">FF</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D'"><span class="id" title="variable">D'</span></a></span> <span class="inlinecode">-&gt;</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> over it, there are two different “essential surjectivity” conditions one can put on <span class="inlinecode"><span class="id" title="var">FF</span></span>.

<div class="paragraph"> </div>

Given <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#c"><span class="id" title="variable">c</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span> and <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#d"><span class="id" title="variable">d</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D'"><span class="id" title="variable">D'</span></a></span> <span class="inlinecode">(<a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#c"><span class="id" title="variable">c</span></a>)</span>, one can ask for a lift of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#d"><span class="id" title="variable">d</span></a></span> either in <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#c"><span class="id" title="variable">c</span></a></span> itself, or more generally in some fiber <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Sets.html#c'"><span class="id" title="variable">c'</span></a></span> with <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Sets.html#c'"><span class="id" title="variable">c'</span></a></span> isomorphic to <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#c"><span class="id" title="variable">c</span></a></span>.

<div class="paragraph"> </div>

The second version is better-behaved in general; but the stricter first version is equivalent when <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#D"><span class="id" title="variable">D</span></a></span> is an isofibration, and is simpler to work with.  So we call the second version “essentially split surjective”, <span class="inlinecode"><span class="id" title="var">disp_functor_ess_split_surj</span></span>, and the first “displayed ess. split surj.”, <span class="inlinecode"><span class="id" title="var">disp_functor_disp_ess_split_surj</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_ess_split_surj</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span><br/>
:=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">y</span> : <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">i</span> : <span class="id" title="var">iso</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso_disp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">i</span>) (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>) <span class="id" title="var">xx</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_functor_disp_ess_split_surj</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D</span> <span class="id" title="var">D'</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">UU</span><br/>
:=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> (<span class="id" title="var">F</span> <span class="id" title="var">x</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ (<span class="id" title="var">yy</span> : <span class="id" title="var">D</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso_disp</span> (<span class="id" title="var">identity_iso</span> <span class="id" title="var">_</span>) (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">yy</span>) <span class="id" title="var">xx</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Functor_Properties</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1569"></a><h2 class="section">Total functors of displayed functors</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Total_Functors</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_functor_data</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor_data</span> (<span class="id" title="var">total_category</span> <span class="id" title="var">D'</span>) (<span class="id" title="var">total_category</span> <span class="id" title="var">D</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">F</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xx</span>)). <span class="id" title="tactic">exact</span> (<span class="id" title="var">FF</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xx</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">ff</span>. <span class="id" title="tactic">exists</span> (# <span class="id" title="var">F</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ff</span>))%<span class="id" title="var">cat</span>. <span class="id" title="tactic">exact</span> (# <span class="id" title="var">FF</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ff</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_functor_axioms</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">is_functor</span> (<span class="id" title="var">total_functor_data</span> <span class="id" title="var">FF</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span>; <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">xx</span> <span class="id" title="var">yy</span> <span class="id" title="var">zz</span> <span class="id" title="var">ff</span> <span class="id" title="var">gg</span>; <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etrans</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">disp_functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportfbinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">total_functor</span> {<span class="id" title="var">C'</span> <span class="id" title="var">C</span>} {<span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>} {<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>} (<span class="id" title="var">FF</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">functor</span> (<span class="id" title="var">total_category</span> <span class="id" title="var">D'</span>) (<span class="id" title="var">total_category</span> <span class="id" title="var">D</span>)<br/>
:= (<span class="id" title="var">total_functor_data</span> <span class="id" title="var">FF</span>,, <span class="id" title="var">total_functor_axioms</span> <span class="id" title="var">FF</span>).<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Total_Functors</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Disp_Functor</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;# F" := (<span class="id" title="var">disp_functor_on_morphisms</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3) : <span class="id" title="var">mor_disp_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1570"></a><h2 class="section">A functor of displayed categories from reindexing</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">reindexing_disp_functor</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">C</span> <span class="id" title="var">C'</span> : <span class="id" title="var">category</span>} (<span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">C</span> <span class="id" title="var">C'</span>) (<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C'</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">reindex_disp_functor</span> : <span class="id" title="var">disp_functor</span> <span class="id" title="var">F</span> (<span class="id" title="var">reindex_disp_cat</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span>) <span class="id" title="var">D'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idfun</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idfun</span> <span class="id" title="var">_</span> ).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">abstract</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">reindexing_disp_functor</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1571"></a><h2 class="section">Natural Transformations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">Disp_Nat_Trans</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_data</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <span class="id" title="var">F'</span> <span class="id" title="var">x</span> --&gt; <span class="id" title="var">F</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>) :=<br/>
<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C'</span>)  (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R'</span> <span class="id" title="var">x</span>  <span class="id" title="var">xx</span> --&gt;[ <span class="id" title="var">a</span> <span class="id" title="var">x</span> ] <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span> .<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_axioms</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans_data</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>) : <span class="id" title="var">UU</span><br/>
&nbsp;:=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x'</span> <span class="id" title="var">x</span> : <span class="id" title="var">C'</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">xx'</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx'</span> --&gt;[ <span class="id" title="var">f</span> ] <span class="id" title="var">xx</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id" title="var">R'</span>  <span class="id" title="var">ff</span> ;; <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> ) (<span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx'</span> ;; # <span class="id" title="var">R</span> <span class="id" title="var">ff</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isaprop_disp_nat_trans_axioms</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans_data</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">disp_nat_trans_axioms</span> <span class="id" title="var">b</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homsets_disp</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∑ <span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans_data</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">disp_nat_trans_axioms</span> <span class="id" title="var">b</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_pr1</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x</span> : <span class="id" title="var">C'</span>}  (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R'</span> <span class="id" title="var">x</span>  <span class="id" title="var">xx</span> --&gt;[ <span class="id" title="var">a</span> <span class="id" title="var">x</span> ] <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span><br/>
&nbsp;&nbsp;:= <span class="id" title="var">pr1</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">disp_nat_trans_pr1</span> : <span class="id" title="var">disp_nat_trans</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_ax</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x'</span> <span class="id" title="var">x</span> : <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx'</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx'</span> --&gt;[ <span class="id" title="var">f</span> ] <span class="id" title="var">xx</span>):<br/>
&nbsp;&nbsp;# <span class="id" title="var">R'</span>  <span class="id" title="var">ff</span> ;; <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span> =<br/>
&nbsp;&nbsp;<span class="id" title="var">transportb</span> <span class="id" title="var">_</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> ) (<span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx'</span> ;; # <span class="id" title="var">R</span> <span class="id" title="var">ff</span>)<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr2</span> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ff</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">disp_nat_trans_ax_var</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory_data</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">x'</span> <span class="id" title="var">x</span> : <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">x'</span> --&gt; <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx'</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">ff</span> : <span class="id" title="var">xx'</span> --&gt;[ <span class="id" title="var">f</span> ] <span class="id" title="var">xx</span>):<br/>
&nbsp;&nbsp;<span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx'</span> ;; # <span class="id" title="var">R</span> <span class="id" title="var">ff</span> =<br/>
&nbsp;&nbsp;<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">nat_trans_ax</span> <span class="id" title="var">a</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (# <span class="id" title="var">R'</span>  <span class="id" title="var">ff</span> ;; <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">xx</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">transportf_pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">disp_nat_trans_ax</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
identity disp_nat_trans 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_id_ax</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span>: <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: @<span class="id" title="var">disp_nat_trans_axioms</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nat_trans_id</span> <span class="id" title="var">_</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R'</span> <span class="id" title="var">R'</span> (<span class="id" title="var">λ</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C'</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>), <span class="id" title="var">id_disp</span> (<span class="id" title="var">R'</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">xx'</span> <span class="id" title="var">xx</span> <span class="id" title="var">ff</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">id_right_disp</span> |];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">id_left_disp</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">transportb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_id</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span>: <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_nat_trans</span> (<span class="id" title="var">nat_trans_id</span> <span class="id" title="var">F'</span>) <span class="id" title="var">R'</span> <span class="id" title="var">R'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_disp</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_nat_trans_id_ax</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
composition of disp_nat_trans 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_comp_ax</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F''</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a'</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F''</span> <span class="id" title="var">F'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R''</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F''</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b'</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a'</span> <span class="id" title="var">R''</span> <span class="id" title="var">R'</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: @<span class="id" title="var">disp_nat_trans_axioms</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R''</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> (<span class="id" title="var">x</span> : <span class="id" title="var">C'</span>) (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>), <span class="id" title="var">b'</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span> ;; <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span> <span class="id" title="var">xx'</span> <span class="id" title="var">xx</span> <span class="id" title="var">ff</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp</span> |];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_pathsinv0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">disp_nat_trans_ax</span> <span class="id" title="var">b'</span>);<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">mor_disp_transportf_postwhisker</span> |];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span> |];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">disp_nat_trans_ax_var</span> <span class="id" title="var">b</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">mor_disp_transportf_prewhisker</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">transportf_comp_lemma</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">etrans</span>; [ <span class="id" title="tactic">apply</span> <span class="id" title="var">assoc_disp_var</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths_2</span>, <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_comp</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F''</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a'</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F''</span> <span class="id" title="var">F'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R''</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F''</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b'</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a'</span> <span class="id" title="var">R''</span> <span class="id" title="var">R'</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="var">disp_nat_trans</span> (<span class="id" title="var">nat_trans_comp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">a</span>) <span class="id" title="var">R''</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">comp_disp</span> (<span class="id" title="var">b'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )  (<span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> )).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">disp_nat_trans_comp_ax</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">disp_nat_trans_eq</span><br/>
&nbsp;&nbsp;{<span class="id" title="var">C'</span> <span class="id" title="var">C</span> : <span class="id" title="var">category</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">F'</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">C'</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">a</span> : <span class="id" title="var">nat_trans</span> <span class="id" title="var">F'</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;{<span class="id" title="var">D'</span> : <span class="id" title="var">disp_cat_data</span> <span class="id" title="var">C'</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">D</span> : <span class="id" title="var">disp_cat</span> <span class="id" title="var">C</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R'</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F'</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;{<span class="id" title="var">R</span> : <span class="id" title="var">disp_functor_data</span> <span class="id" title="var">F</span> <span class="id" title="var">D'</span> <span class="id" title="var">D</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">disp_nat_trans</span> <span class="id" title="var">a</span> <span class="id" title="var">R'</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;: (∏ <span class="id" title="var">x</span> (<span class="id" title="var">xx</span> : <span class="id" title="var">D'</span> <span class="id" title="var">x</span>), <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span> = <span class="id" title="var">b'</span> <span class="id" title="var">x</span> <span class="id" title="var">xx</span>) → <span class="id" title="var">b</span> = <span class="id" title="var">b'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isaprop_disp_nat_trans_axioms</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">xx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">Disp_Nat_Trans</span>.<br/>

<br/>
</div>

<div class="doc">
some TODOs for the displayed-cats library:

<div class="paragraph"> </div>

<ul class="doclist">
<li> add lemmas connecting with products of cats (as required for displayed bicats)

</li>
<li> add more applications of the displayed arrow category: slices; equalisers, inserters; hence groups etc.

</li>
</ul>

<div class="paragraph"> </div>


</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="https://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>