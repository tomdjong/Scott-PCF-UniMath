<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.precomp_ess_surj</h1>

<div class="code">

<br/>
</div>

<div class="doc">
**********************************************************

<div class="paragraph"> </div>

Benedikt Ahrens, Chris Kapulkin, Mike Shulman

<div class="paragraph"> </div>

january 2013

<div class="paragraph"> </div>


<div class="paragraph"> </div>

 **********************************************************

<div class="paragraph"> </div>

Contents : Precomposition with a fully faithful and
           essentially surjective functor yields
           an essentially surjective functor

<div class="paragraph"> </div>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Propositions</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Sets</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.Tactics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.Univalence</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Isos</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Univalence</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.FunctorCategory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.whiskering</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "FF ^-1" := (<span class="id" title="var">fully_faithful_inv_hom</span> <span class="id" title="var">FF</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "F '^-i'" := (<span class="id" title="var">iso_from_fully_faithful_reflection</span> <span class="id" title="var">F</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "G 'O' F" := (<span class="id" title="var">functor_compose</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span> <span class="id" title="var">G</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 25).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_functor</span> <span class="id" title="var">HF</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span>:=<span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H</span>:= <span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">HF</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">fully_faithful_inv_hom</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1096"></a><h1 class="section">Lengthy preparation for the main result of this file</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">precomp_w_ess_surj_ff_is_ess_surj</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1097"></a><h2 class="section">Section variables</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variables</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">precategory</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">Ccat</span> : <span class="id" title="var">is_univalent</span> <span class="id" title="var">C</span>.<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">H</span> : <span class="id" title="var">functor</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">p</span> : <span class="id" title="var">essentially_surjective</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Hypothesis</span> <span class="id" title="var">fH</span> : <span class="id" title="var">fully_faithful</span> <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
 We prove that precomposition with a <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> yields an essentially surjective functor 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">essentially_surjective</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1098"></a><h2 class="section">Specification of preimage <span class="inlinecode"><span class="id" title="var">G</span></span> of a functor <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span></h2>

<div class="paragraph"> </div>

 Given a functor <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> from <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#A"><span class="id" title="variable">A</span></a></span> to <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#C"><span class="id" title="variable">C</span></a></span>, we construct <span class="inlinecode"><span class="id" title="var">G</span></span> such that
       <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#O"><span class="id" title="constructor">O</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">F</span> : <span class="id" title="var">functor</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">preimage</span>.<br/>

<br/>
</div>

<div class="doc">
The type <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> will be contractible, and <span class="inlinecode"><span class="id" title="var">G</span></span> is defined as
     the first component of its center. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">X</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) := <span class="id" title="var">total2</span> (<br/>
&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ck</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">c</span> : <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span> -&gt; <span class="id" title="var">iso</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) <span class="id" title="var">c</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">f</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">t</span> --&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">t'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(#<span class="id" title="var">H</span> <span class="id" title="var">f</span> · <span class="id" title="var">pr2</span> <span class="id" title="var">t'</span> = <span class="id" title="var">pr2</span> <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">f</span> · <span class="id" title="var">pr2</span> <span class="id" title="var">ck</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t'</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">t'</span>) = <span class="id" title="var">pr2</span> <span class="id" title="var">ck</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>))).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">kX</span> {<span class="id" title="var">b</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">t</span> : <span class="id" title="var">X</span> <span class="id" title="var">b</span>) := (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>)).<br/>

<br/>
</div>

<div class="doc">
The following is the third component of the center of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">X_aux_type_center_of_contr_proof</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">anot</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">hnot</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">anot</span>) <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> :  <span class="id" title="var">A</span>, <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">t</span> --&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">t'</span>),<br/>
&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">f</span>· <span class="id" title="var">pr2</span> <span class="id" title="var">t'</span> = <span class="id" title="var">pr2</span> <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">f</span>·<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1 (<span class="id" title="var">pr2</span> <span class="id" title="var">t'</span>· <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">hnot</span>)) =<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1 (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>· <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">hnot</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> <span class="id" title="var">h</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> <span class="id" title="var">h'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">star</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">anot</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a'</span> <span class="id" title="var">anot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">anot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">star</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
The center of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">X_aux_type_center_of_contr</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">anot</span> : <span class="id" title="var">A</span>)(<span class="id" title="var">hnot</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">anot</span>) <span class="id" title="var">b</span>) : <span class="id" title="var">X</span> <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">cnot</span> := <span class="id" title="var">F</span> <span class="id" title="var">anot</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)(<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">hnot</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">knot</span> := <span class="id" title="keyword">fun</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)(<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> (<span class="id" title="var">g</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span> <span class="id" title="var">anot</span>) <span class="id" title="var">knot</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">X_aux_type_center_of_contr_proof</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Any inhabitant of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> is equal to the center of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">X_aux_type_contr_eq</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">anot</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">hnot</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">anot</span>) <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">t</span> : <span class="id" title="var">X</span> <span class="id" title="var">b</span>, <span class="id" title="var">t</span> = <span class="id" title="var">X_aux_type_center_of_contr</span> <span class="id" title="var">b</span> <span class="id" title="var">anot</span> <span class="id" title="var">hnot</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr1</span> : <span class="id" title="var">pr1</span> (<span class="id" title="var">X_aux_type_center_of_contr</span> <span class="id" title="var">b</span> <span class="id" title="var">anot</span> <span class="id" title="var">hnot</span>) = <span class="id" title="var">pr1</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">w</span> := <span class="id" title="var">isotoid</span> <span class="id" title="var">_</span> <span class="id" title="var">Ccat</span> ((<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>)) <span class="id" title="var">anot</span> <span class="id" title="var">hnot</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">X_aux_type_center_of_contr</span> <span class="id" title="var">b</span> <span class="id" title="var">anot</span> <span class="id" title="var">hnot</span>)) = <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">total2_paths_f</span> <span class="id" title="var">w</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">c1</span> <span class="id" title="var">k1</span>] <span class="id" title="var">q1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">gah</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">hnot</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qhelp</span> := <span class="id" title="var">q1</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>)(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">anot</span> <span class="id" title="var">hnot</span>) <span class="id" title="var">gah</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">feedtoqhelp</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> (<span class="id" title="var">fH</span>^-1 (<span class="id" title="var">h</span>· <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">hnot</span>))· <span class="id" title="var">hnot</span> = <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">anot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">quack</span> := <span class="id" title="var">qhelp</span> <span class="id" title="var">feedtoqhelp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">iso_comp</span>  (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">hnot</span>)))) (<span class="id" title="var">idtoiso</span> <span class="id" title="var">w</span>) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">w</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">w0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">w0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">idtoiso_isotoid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">quack</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">total2_paths_f</span> <span class="id" title="var">Hpr1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proofirrelevance</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
Putting everything together: <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> is contractible. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscontr_X</span> : ∏ <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="var">iscontr</span> (<span class="id" title="var">X</span> <span class="id" title="var">b</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">iscontr</span> (<span class="id" title="var">X</span> <span class="id" title="var">b</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscontr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">iscontr</span> (<span class="id" title="var">X</span> <span class="id" title="var">b</span>)) <span class="id" title="var">HH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">X_aux_type_center_of_contr</span> <span class="id" title="var">b</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">X_aux_type_contr_eq</span> <span class="id" title="var">b</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">
The object part of <span class="inlinecode"><span class="id" title="var">G</span></span>, <span class="inlinecode"><span class="id" title="var">Go</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>, is defined as the first component of
    the center of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>. 
<div class="paragraph"> </div>

<a name="lab1099"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">G</span></span> on objects</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Go</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscontr_X</span> <span class="id" title="var">b</span>))).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">k</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span> -&gt; <span class="id" title="var">iso</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) (<span class="id" title="var">Go</span> <span class="id" title="var">b</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscontr_X</span> <span class="id" title="var">b</span>))).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">q</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscontr_X</span> <span class="id" title="var">b</span>)).<br/>

<br/>
</div>

<div class="doc">
Given any inhabitant of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>, its first component is equal to <span class="inlinecode"><span class="id" title="var">Go</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Xphi</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">X</span> <span class="id" title="var">b</span>) : <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>) = <span class="id" title="var">Go</span> <span class="id" title="var">b</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">p1</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">iscontr_X</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p1</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">
Given any inhabitant <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>, its second component is equal to <span class="inlinecode"><a class="idref" href="UniMath.Foundations.NaturalNumbers.html#k"><span class="id" title="variable">k</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>,
       modulo transport along <span class="inlinecode"><span class="id" title="var">Xphi</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Xkphi_transp</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">X</span> <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, ∏ <span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">transportf</span> <span class="id" title="var">_</span> (<span class="id" title="var">Xphi</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>) (<span class="id" title="var">kX</span> <span class="id" title="var">t</span>) <span class="id" title="var">a</span> <span class="id" title="var">h</span> =  <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">fiber_paths</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontr_X</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Similarly to the lemma before, the second component of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span> is the same
    as <span class="inlinecode"><a class="idref" href="UniMath.Foundations.NaturalNumbers.html#k"><span class="id" title="variable">k</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span>, modulo postcomposition with an isomorphism. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Xkphi_idtoiso</span> (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">X</span> <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, ∏ <span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> · <span class="id" title="var">idtoiso</span> (!<span class="id" title="var">Xphi</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>) = <span class="id" title="var">kX</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">Xkphi_transp</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">Xphi</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
</div>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab1100"></a><h3 class="section">Preparation for <span class="inlinecode"><span class="id" title="var">G</span></span> on morphisms</h3>

<div class="paragraph"> </div>

 <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> will be defined as the first component of the center of
     contraction of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <span class="id" title="var">Y</span> {<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">b'</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">g</span> : <span class="id" title="var">Go</span> <span class="id" title="var">b</span> --&gt; <span class="id" title="var">Go</span> <span class="id" title="var">b'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span> · <span class="id" title="var">h'</span> = <span class="id" title="var">h</span> · <span class="id" title="var">f</span> -&gt; #<span class="id" title="var">F</span> <span class="id" title="var">l</span> · <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> · <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Y_inhab_proof</span> (<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">b'</span>) (<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a0'</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>) <span class="id" title="var">b'</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) (<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>· ((<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>)·<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1 ((<span class="id" title="var">h0</span>· <span class="id" title="var">f</span>)· <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span>)))· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> <span class="id" title="var">l</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0'</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h'</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ssss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b'</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">hfh</span> := <span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0</span> := <span class="id" title="var">fH</span>^-1 <span class="id" title="var">hfh</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g0</span> := <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0</span>  · <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sssss</span> : #<span class="id" title="var">H</span> (<span class="id" title="var">l0</span> · <span class="id" title="var">m'</span>) = #<span class="id" title="var">H</span> (<span class="id" title="var">m</span> · <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">hfh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span> · <span class="id" title="var">h0'</span>) · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>, <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">alpha</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star5</span> : <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m</span> · <span class="id" title="var">l0</span> = <span class="id" title="var">l</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a'</span> )),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathsinv0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">g0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss''</span> : <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sss</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">sss''</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">sss''</span> <span class="id" title="var">sss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star5</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">star5</span> .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>, <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star4</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ssss</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
The center of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.MoreFoundations.PartA.html#b'"><span class="id" title="variable">b'</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Y_inhab</span> (<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) <span class="id" title="var">b</span>) (<span class="id" title="var">a0'</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>) <span class="id" title="var">b'</span>) : <span class="id" title="var">Y</span> <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">hfh</span> := <span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0</span> := <span class="id" title="var">fH</span>^-1 <span class="id" title="var">hfh</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g0</span> := <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0</span>  · <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">g0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Y_inhab_proof</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Any inhabitant of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.MoreFoundations.PartA.html#b'"><span class="id" title="variable">b'</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> is equal to the center. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">Y_contr_eq</span> (<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">b'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a0'</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h0'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>) <span class="id" title="var">b'</span>) :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">t</span> : <span class="id" title="var">Y</span> <span class="id" title="var">f</span>, <span class="id" title="var">t</span> = <span class="id" title="var">Y_inhab</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr</span> : <span class="id" title="var">pr1</span> (<span class="id" title="var">Y_inhab</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) = <span class="id" title="var">pr1</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">g1</span> <span class="id" title="var">r1</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">hfh</span> := <span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0</span> := <span class="id" title="var">fH</span>^-1 <span class="id" title="var">hfh</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">r1</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span> <span class="id" title="var">l0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0'</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">hfh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">total2_paths_f</span> <span class="id" title="var">Hpr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">proofirrelevance</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>; <span class="id" title="tactic">intro</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
The type <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#Y"><span class="id" title="variable">Y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#b"><span class="id" title="variable">b</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.MoreFoundations.PartA.html#b'"><span class="id" title="variable">b'</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> is contractible. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Y_iscontr</span>  (<span class="id" title="var">b</span> <span class="id" title="var">b'</span> : <span class="id" title="var">B</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">b</span> --&gt; <span class="id" title="var">b'</span>) :<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">iscontr</span> (<span class="id" title="var">Y</span> <span class="id" title="var">f</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">iscontr</span> (<span class="id" title="var">Y</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscontr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">iscontr</span> (<span class="id" title="var">Y</span> <span class="id" title="var">f</span>)) <span class="id" title="var">HH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">h0</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b'</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">iscontr</span> (<span class="id" title="var">Y</span> <span class="id" title="var">f</span>)) <span class="id" title="var">HH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">Y_inhab</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Y_contr_eq</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1101"></a><h3 class="section"><span class="inlinecode"><span class="id" title="var">G</span></span> on morphisms</h3>

<div class="paragraph"> </div>

 We now have the data necessary to define the functor <span class="inlinecode"><span class="id" title="var">G</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">preimage_functor_data</span> : <span class="id" title="var">functor_data</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Go</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "'G' f" := (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>))) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 3).<br/>

<br/>
</div>

<div class="doc">
The above data is indeed functorial. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_functor_preimage_functor_data</span> : <span class="id" title="var">is_functor</span> <span class="id" title="var">preimage_functor_data</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">functor_idax</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR2</span> : ∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) (<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· <span class="id" title="var">identity</span> <span class="id" title="var">b</span> -&gt;<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> = <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>· <span class="id" title="var">identity</span> (<span class="id" title="var">Go</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> <span class="id" title="var">l</span> <span class="id" title="var">LL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_right</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">LL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Gbrtilde</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">identity</span> (<span class="id" title="var">Go</span> <span class="id" title="var">b</span>)) <span class="id" title="var">PR2</span> : <span class="id" title="var">Y</span> (<span class="id" title="var">identity</span> <span class="id" title="var">b</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b</span> (<span class="id" title="var">identity</span> <span class="id" title="var">b</span>)) <span class="id" title="var">Gbrtilde</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H''</span> := <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
</div>

<div class="doc">
composition 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HHHH</span> : <span class="id" title="var">isaprop</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b''</span> (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>))) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>))· <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f'</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b''</span> (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>))) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>))· <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f'</span>))) <span class="id" title="var">HHHH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0</span> <span class="id" title="var">h0</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b'</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b''</span> (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>))) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>))· <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f'</span>))) <span class="id" title="var">HHHH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">p</span> <span class="id" title="var">b''</span> (<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">isaprop</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b''</span> (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>))) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>))· <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f'</span>))) <span class="id" title="var">HHHH</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">HHHH</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0</span> := <span class="id" title="var">fH</span>^-1 (<span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0'</span> := <span class="id" title="var">fH</span>^-1 (<span class="id" title="var">h0'</span> · <span class="id" title="var">f'</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0''</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l0''</span> := <span class="id" title="var">fH</span>^-1 (<span class="id" title="var">h0</span> · (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>) · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0''</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span> : <span class="id" title="var">l0</span> · <span class="id" title="var">l0'</span> = <span class="id" title="var">l0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span> · <span class="id" title="var">h0'</span>) · <span class="id" title="var">f'</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR2</span> : ∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>)(<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b'</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>· ((<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>)· #<span class="id" title="var">F</span> <span class="id" title="var">l0</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0'</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ssss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b'</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) <span class="id" title="var">m'</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sssss</span> : #<span class="id" title="var">H</span> (<span class="id" title="var">l0</span> · <span class="id" title="var">m'</span>) = #<span class="id" title="var">H</span> (<span class="id" title="var">m</span> · <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m'</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">h0</span> · <span class="id" title="var">f</span> · (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0'</span> · <span class="id" title="var">h0'</span>) · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>, <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star5</span> : <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m</span> · <span class="id" title="var">l0</span> = <span class="id" title="var">l</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a'</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">sss'</span>:= <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sss</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss''</span> : <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">sss''</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">sss''</span> <span class="id" title="var">sss'</span> <span class="id" title="var">sss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star5</span>, <span class="id" title="var">functor_comp</span>, <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">star5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star4</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ssss'</span> := <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ssss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ssss'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ssss'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">ssss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HGf</span> : <span class="id" title="var">G</span> <span class="id" title="var">f</span> = <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0</span> · <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Gbrtilde</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0</span> · <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) <span class="id" title="var">PR2</span> : <span class="id" title="var">Y</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> <span class="id" title="var">f</span>) <span class="id" title="var">Gbrtilde</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H''</span> := <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PR2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR2</span> : ∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b'</span>) (<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b''</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· <span class="id" title="var">f'</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>· ((<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>)· #<span class="id" title="var">F</span> <span class="id" title="var">l0'</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span> <span class="id" title="var">l'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0'</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0''</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h''</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b'</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span>) <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ssss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b''</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span>) <span class="id" title="var">m'</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0''</span> <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sssss</span> : #<span class="id" title="var">H</span> (<span class="id" title="var">l0'</span> · <span class="id" title="var">m'</span>) = #<span class="id" title="var">H</span> (<span class="id" title="var">m</span> · <span class="id" title="var">l'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0''</span> <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">h0'</span> · <span class="id" title="var">f'</span> · (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0''</span> · <span class="id" title="var">h0''</span>) · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>, <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star5</span> : <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m</span> · <span class="id" title="var">l0'</span> = <span class="id" title="var">l'</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0'</span> <span class="id" title="var">a''</span> )),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathsinv0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">sss'</span>:= <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sss</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss''</span> : <span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">sss''</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">sss''</span> <span class="id" title="var">sss'</span> <span class="id" title="var">sss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star5</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">star5</span> <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>, <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star4</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ssss'</span> := <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ssss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">apply</span> <span class="id" title="var">ssss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HGf'</span> : <span class="id" title="var">G</span> <span class="id" title="var">f'</span> = <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0'</span> · <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Gbrtilde</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0'</span> · <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>) <span class="id" title="var">PR2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Y</span> <span class="id" title="var">f'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H'</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b'</span> <span class="id" title="var">b''</span> <span class="id" title="var">f'</span>) <span class="id" title="var">Gbrtilde</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PR2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PR2</span> : ∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) (<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) <span class="id" title="var">b''</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· (<span class="id" title="var">f</span>· <span class="id" title="var">f'</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>· ((<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>)· #<span class="id" title="var">F</span> <span class="id" title="var">l0''</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">m'</span> := <span class="id" title="var">fH</span>^-<span class="id" title="var">i</span> (<span class="id" title="var">iso_comp</span> <span class="id" title="var">h0''</span> (<span class="id" title="var">iso_inv_from_iso</span> <span class="id" title="var">h''</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) = <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span>) <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ssss</span> : <span class="id" title="var">iso_comp</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>) (<span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">eq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">q</span> <span class="id" title="var">b''</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>) (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span>) <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0''</span> <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sssss</span> : #<span class="id" title="var">H</span> (<span class="id" title="var">l0''</span> · <span class="id" title="var">m'</span>) = #<span class="id" title="var">H</span> (<span class="id" title="var">m</span> · <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0''</span> <span class="id" title="var">a''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">l0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a0''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">h0</span> · (<span class="id" title="var">f</span> · <span class="id" title="var">f'</span>) · (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h0''</span> · <span class="id" title="var">h0''</span>) · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">h''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>, <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star5</span> : <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m</span> · <span class="id" title="var">l0''</span> = <span class="id" title="var">l</span> · <span class="id" title="var">inv_from_iso</span> <span class="id" title="var">m'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a0</span> <span class="id" title="var">a''</span> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">sss'</span>:= <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">sss</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">sss''</span> : <span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_left</span>, <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">iso_inv_on_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">sss'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">sss''</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">sss''</span> <span class="id" title="var">sss'</span> <span class="id" title="var">sss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star5</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">star5</span> <span class="id" title="var">sssss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>, <span class="id" title="var">functor_on_inv_from_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">star4</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span> <span class="id" title="var">m'</span>)· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a''</span> <span class="id" title="var">h''</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_right</span>, <span class="id" title="var">pathsinv0</span>, (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">ssss</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">star4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HGff'</span> : <span class="id" title="var">G</span> (<span class="id" title="var">f</span> · <span class="id" title="var">f'</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0''</span> · <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Gbrtilde</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">l0''</span> · <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>) <span class="id" title="var">PR2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Y</span> (<span class="id" title="var">f</span> · <span class="id" title="var">f'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">pr2</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">b</span> <span class="id" title="var">b''</span> (<span class="id" title="var">f</span> · <span class="id" title="var">f'</span>)) <span class="id" title="var">Gbrtilde</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PR2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HGf</span>, <span class="id" title="var">HGf'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b</span> <span class="id" title="var">a0</span> <span class="id" title="var">h0</span>)· #<span class="id" title="var">F</span> <span class="id" title="var">l0</span>· (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">k</span> <span class="id" title="var">b'</span> <span class="id" title="var">a0'</span> <span class="id" title="var">h0'</span>))· #<span class="id" title="var">F</span> <span class="id" title="var">l0'</span>· <span class="id" title="var">k</span> <span class="id" title="var">b''</span> <span class="id" title="var">a0''</span> <span class="id" title="var">h0''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_inv_after_iso</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HGff'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
We call the functor <span class="inlinecode"><span class="id" title="var">GG</span></span> ... 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">GG</span> : [<span class="id" title="var">B</span>, <span class="id" title="var">C</span>, <span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>] := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">preimage_functor_data</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_functor_preimage_functor_data</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1102"></a><h2 class="section"><span class="inlinecode"><span class="id" title="var">G</span></span> is the preimage of <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> under <span class="inlinecode"></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#O"><span class="id" title="constructor">O</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span></h2>

<div class="paragraph"> </div>

 Given any <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#A"><span class="id" title="variable">A</span></a></span>, we produce an element in <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#X"><span class="id" title="variable">X</span></a></span> <span class="inlinecode">(<a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#a"><span class="id" title="variable">a</span></a>)</span>, whose
     first component is <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#a"><span class="id" title="variable">a</span></a></span>.
   This allows to prove <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">(<a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#a"><span class="id" title="variable">a</span></a>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#a"><span class="id" title="variable">a</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">qF</span> (<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> :  <span class="id" title="var">A</span>, <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">t</span> --&gt; <span class="id" title="var">pr1</span> <span class="id" title="var">t'</span>),<br/>
&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">f</span>· <span class="id" title="var">pr2</span> <span class="id" title="var">t'</span> = <span class="id" title="var">pr2</span> <span class="id" title="var">t</span> -&gt;<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">f</span>· #<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1 (<span class="id" title="var">pr2</span> <span class="id" title="var">t'</span>)) =<br/>
&nbsp;&nbsp;#<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1  (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">a</span> <span class="id" title="var">h</span>] [<span class="id" title="var">a'</span> <span class="id" title="var">h'</span>] <span class="id" title="var">f</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">L</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span>· <span class="id" title="var">fH</span>^-1 <span class="id" title="var">h'</span>) (<span class="id" title="var">fH</span>^-1 <span class="id" title="var">h</span>)  ).<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a'</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">kFa</span> (<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) : ∏ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;<span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) -&gt; <span class="id" title="var">iso</span> (<span class="id" title="var">F</span> <span class="id" title="var">a</span>) (<span class="id" title="var">F</span> <span class="id" title="var">a0</span>) :=<br/>
&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">functor_on_iso</span> <span class="id" title="var">F</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iso_from_fully_faithful_reflection</span> <span class="id" title="var">fH</span> <span class="id" title="var">h</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">XtripleF</span> (<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) : <span class="id" title="var">X</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">F</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">kFa</span> <span class="id" title="var">a0</span>)) (<span class="id" title="var">qF</span> <span class="id" title="var">a0</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">phi</span> (<span class="id" title="var">a0</span> : <span class="id" title="var">A</span>) : <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">functor_composite</span> <span class="id" title="var">H</span> <span class="id" title="var">GG</span>)) <span class="id" title="var">a0</span> = <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">F</span>) <span class="id" title="var">a0</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (!<span class="id" title="var">Xphi</span> <span class="id" title="var">_</span> (<span class="id" title="var">XtripleF</span> <span class="id" title="var">a0</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">extphi</span> : <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">functor_composite</span> <span class="id" title="var">H</span> <span class="id" title="var">GG</span>)) = <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">F</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">homot</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">phi</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
Now for the functor as a whole. It remains to prove
    equality on morphisms, modulo transport. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_preimage_for_pre_composition</span> : <span class="id" title="var">functor_composite</span> <span class="id" title="var">H</span> <span class="id" title="var">GG</span> = <span class="id" title="var">F</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">functor_eq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>) (<span class="id" title="var">functor_composite</span> <span class="id" title="var">H</span> <span class="id" title="var">GG</span>) <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">total2_paths_f</span> <span class="id" title="var">extphi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">a0'</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextsec</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">transport_of_functor_map_is_pointwise</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">extphi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">double_transport</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">toforallpaths_funextsec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">idtoiso_postcompose</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">idtoiso_precompose</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">idtoiso_inv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PSIf</span> : ∏ (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>)) (<span class="id" title="var">a'</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">h'</span> : <span class="id" title="var">iso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a'</span>) (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>)) (<span class="id" title="var">l</span> : <span class="id" title="var">a</span> --&gt; <span class="id" title="var">a'</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">H</span> <span class="id" title="var">l</span>· <span class="id" title="var">h'</span> = <span class="id" title="var">h</span>· #<span class="id" title="var">H</span> <span class="id" title="var">f</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id" title="var">F</span> <span class="id" title="var">l</span>· <span class="id" title="var">k</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>) <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">k</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) <span class="id" title="var">a</span> <span class="id" title="var">h</span>·<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">idtoiso</span> (<span class="id" title="var">phi</span> <span class="id" title="var">a0</span>)· #<span class="id" title="var">F</span> <span class="id" title="var">f</span>)· <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">idtoiso</span> (<span class="id" title="var">phi</span> <span class="id" title="var">a0'</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">h</span> <span class="id" title="var">a'</span> <span class="id" title="var">h'</span> <span class="id" title="var">l</span> <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iso_inv_on_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">phi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Xkphi_idtoiso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">XtripleF</span> <span class="id" title="var">a0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Xkphi_idtoiso</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0'</span>) (<span class="id" title="var">XtripleF</span> <span class="id" title="var">a0'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH4</span> : <span class="id" title="var">fH</span>^-1 <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">l</span> · <span class="id" title="var">fH</span>^-1 <span class="id" title="var">h'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weq_from_fully_faithful</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">a0'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_functor</span> <span class="id" title="var">fH</span> <span class="id" title="var">a'</span> <span class="id" title="var">a0'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">alpha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intermediate_path</span> (#<span class="id" title="var">F</span> (<span class="id" title="var">fH</span>^-1 <span class="id" title="var">h</span>· <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">functor_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Ybla</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">idtoiso</span> (<span class="id" title="var">phi</span> <span class="id" title="var">a0</span>) · #<span class="id" title="var">F</span> <span class="id" title="var">f</span> · <span class="id" title="var">inv_from_iso</span> (<span class="id" title="var">idtoiso</span> (<span class="id" title="var">phi</span> <span class="id" title="var">a0'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PSIf</span> : <span class="id" title="var">Y</span> (#<span class="id" title="var">H</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Ycontr</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">Y_iscontr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (#(<span class="id" title="var">pr1</span> <span class="id" title="var">H</span>) <span class="id" title="var">f</span>)) <span class="id" title="var">Ybla</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Ycontr2</span> := <span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ycontr</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">G</span> (#<span class="id" title="var">H</span> <span class="id" title="var">f</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">G</span> (#(<span class="id" title="var">pr1</span> <span class="id" title="var">H</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ycontr2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">iso_after_iso_inv</span>, <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">preimage</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">essentially_surjective</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1103"></a><h1 class="section">Precomposition with an ess. surj. and f. f. functor is ess. surj.</h1>
 Abstracting from <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#F"><span class="id" title="variable">F</span></a></span> by closing the previous section,
    we can prove essential surjectivity of <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#O"><span class="id" title="constructor">O</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.UnivalenceAxiom.html#H"><span class="id" title="variable">H</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">pre_composition_essentially_surjective</span> (<span class="id" title="var">hsB</span>: <span class="id" title="var">has_homsets</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">essentially_surjective</span> (<span class="id" title="var">pre_composition_functor</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">hsB</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">Ccat</span>) <span class="id" title="var">H</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">p'</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">GG</span> <span class="id" title="var">F</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idtoiso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_preimage_for_pre_composition</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">precomp_w_ess_surj_ff_is_ess_surj</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>