<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="https://code./jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.Tactics.Nat_Tactics</h1>

<div class="code">
</div>

<div class="doc">
Author: Michael A. Warren (maw@mawarren.net) in consultation with Vladimir Voevodsky. Date: Spring - Summer 2015. Description: Some tactics for natural numbers. 
<div class="paragraph"> </div>

 Tactics for natural numbers. by Michael A. Warren, April - June 2015.
<div class="paragraph"> </div>

 ADD: Disclaimer regarding connection with other tactics files.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UniMath.Foundations.NaturalNumbers</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UniMath.Tactics.Utilities</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">UniMath.Tactics.Abmonoids_Tactics</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1960"></a><h1 class="section">Basic definitions and hints.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">natneqtwist</span> <span class="id" title="var">n</span> (<span class="id" title="var">p</span> : ¬ (0 = <span class="id" title="var">n</span>)) : ¬ (<span class="id" title="var">n</span> = 0) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">p</span> (<span class="id" title="var">pathsinv0</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_plus_perm021</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> = <span class="id" title="var">n0</span> + <span class="id" title="var">n2</span> + <span class="id" title="var">n1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natplusassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">n0</span> + <span class="id" title="var">z</span>) (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n2</span> <span class="id" title="var">n1</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_plus_perm102</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> = <span class="id" title="var">n1</span> + <span class="id" title="var">n0</span> + <span class="id" title="var">n2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>, <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">z</span> + <span class="id" title="var">n2</span>) (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_plus_perm120</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> = <span class="id" title="var">n2</span> + <span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">natpluscomm</span> (<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span>) <span class="id" title="var">n2</span>) (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">n2</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_plus_perm201</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> = <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> + <span class="id" title="var">n0</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">n0</span> (<span class="id" title="var">n1</span> + <span class="id" title="var">n2</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_plus_perm210</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n2</span> = <span class="id" title="var">n2</span> + <span class="id" title="var">n1</span> + <span class="id" title="var">n0</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">nat_plus_perm102</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) (<span class="id" title="var">nat_plus_perm120</span> <span class="id" title="var">n1</span> <span class="id" title="var">n0</span> <span class="id" title="var">n2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_mult_perm021</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> = <span class="id" title="var">n0</span> * <span class="id" title="var">n2</span> * <span class="id" title="var">n1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">natmultassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">n0</span> * <span class="id" title="var">z</span>) (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n2</span> <span class="id" title="var">n1</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_mult_perm102</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> = <span class="id" title="var">n1</span> * <span class="id" title="var">n0</span> * <span class="id" title="var">n2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>, <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">z</span>, <span class="id" title="var">z</span> * <span class="id" title="var">n2</span>) (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_mult_perm120</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> = <span class="id" title="var">n2</span> * <span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">natmultcomm</span> (<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span>) <span class="id" title="var">n2</span>) (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">n2</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_mult_perm201</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> = <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> * <span class="id" title="var">n0</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">n0</span> (<span class="id" title="var">n1</span> * <span class="id" title="var">n2</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">nat_mult_perm210</span> :<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n0</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n2</span> = <span class="id" title="var">n2</span> * <span class="id" title="var">n1</span> * <span class="id" title="var">n0</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">nat_mult_perm102</span> <span class="id" title="var">n0</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span>) (<span class="id" title="var">nat_mult_perm120</span> <span class="id" title="var">n1</span> <span class="id" title="var">n0</span> <span class="id" title="var">n2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">minus0r</span> : ∏ <span class="id" title="var">n</span>, <span class="id" title="var">n</span> - 0 = <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">n</span>, <span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">_</span> =&gt; (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">minusnn0</span> <span class="id" title="var">n</span> : <span class="id" title="var">n</span> - <span class="id" title="var">n</span> = 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; [<span class="id" title="tactic">exact</span> (<span class="id" title="var">idpath</span> 0) | <span class="id" title="tactic">exact</span> <span class="id" title="var">IHn</span>].<br/>
</div>

<br/>
</div>

<div class="doc">
minus0l and Lemma minussn1 n : (S n) - 1 change to n - 0 should be changed in tactics.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">minusgeh</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> : <span class="id" title="var">n</span> &gt;= (<span class="id" title="var">n</span> - <span class="id" title="var">m</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>]; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isreflnatgeh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">minus0r</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isreflnatgeh</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">istransnatgeh</span> <span class="id" title="var">_</span> <span class="id" title="var">n</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">natgthtogeh</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">natgthsnn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1961"></a><h1 class="section">Tactics for rearranging subterms of goals and hypotheses.</h1>

<div class="paragraph"> </div>

<a name="lab1962"></a><h2 class="section">Tactics for performing ternary permutations of words written in <span class="inlinecode">+</span> and <span class="inlinecode">*</span>.</h2>

<div class="paragraph"> </div>

 TACTIC: <span class="inlinecode"><span class="id" title="var">nat_plus_ternary_perm</span></span>

<div class="paragraph"> </div>

    SUMMARY: <span class="inlinecode"><span class="id" title="var">nat_plus_ternary_perm</span></span> permutes words of length 3 in <span class="inlinecode">+</span>.

<div class="paragraph"> </div>

    USAGE: Provided that the current <span class="inlinecode"><span class="id" title="keyword">goal</span></span> is of the form <span class="inlinecode"><span class="id" title="var">lhs</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">rhs</span></span>, <span class="inlinecode"><span class="id" title="var">nat_plus_ternary_perm</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> will permute a subterm of <span class="inlinecode"><span class="id" title="var">lhs</span></span> so that it now appears in the form <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span>.

<div class="paragraph"> </div>

    EXAMPLE: If the current goal is <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span>, then <span class="inlinecode"><span class="id" title="var">nat_plus_ternary_perm</span></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> will change the goal to <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#z"><span class="id" title="variable">z</span></a></span> <span class="inlinecode">+</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_ternary_perm</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">t</span> + <span class="id" title="var">s</span> + <span class="id" title="var">u</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm102</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">t</span> + <span class="id" title="var">u</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm120</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">u</span> + <span class="id" title="var">s</span> + <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">u</span> + <span class="id" title="var">t</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm210</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + <span class="id" title="var">u</span> + <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">t</span> + <span class="id" title="var">s</span> + <span class="id" title="var">u</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">t</span> + <span class="id" title="var">s</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm102</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">t</span> + <span class="id" title="var">u</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">t</span> + <span class="id" title="var">u</span>) <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm120</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">u</span> + <span class="id" title="var">s</span> + <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">u</span> + <span class="id" title="var">s</span>) <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">u</span> + <span class="id" title="var">t</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">u</span> + <span class="id" title="var">t</span>) <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm210</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> + <span class="id" title="var">u</span> + <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">u</span>) <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> + <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natplusassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
TACTIC: <span class="inlinecode"><span class="id" title="var">nat_mult_ternary_perm</span></span>

<div class="paragraph"> </div>

    SUMMARY: <span class="inlinecode"><span class="id" title="var">nat_mult_ternary_perm</span></span> permutes words of length 3 in <span class="inlinecode">*</span>.

<div class="paragraph"> </div>

    USAGE: See <span class="inlinecode"><span class="id" title="var">nat_plus_ternary_perm</span></span> above.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_ternary_perm</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">t</span> * <span class="id" title="var">s</span> * <span class="id" title="var">u</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm102</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">t</span> * <span class="id" title="var">u</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm120</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">u</span> * <span class="id" title="var">s</span> * <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">u</span> * <span class="id" title="var">t</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm210</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * <span class="id" title="var">u</span> * <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">t</span> * <span class="id" title="var">s</span> * <span class="id" title="var">u</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">t</span> * <span class="id" title="var">s</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm102</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">t</span> * <span class="id" title="var">u</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">t</span> * <span class="id" title="var">u</span>) <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm120</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">u</span> * <span class="id" title="var">s</span> * <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">u</span> * <span class="id" title="var">s</span>) <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">u</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">u</span> * <span class="id" title="var">t</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">u</span> * <span class="id" title="var">t</span>) <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm210</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> * <span class="id" title="var">u</span> * <span class="id" title="var">t</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">u</span>) <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">s</span> <span class="id" title="var">u</span> <span class="id" title="var">t</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">s</span> * <span class="id" title="var">t</span>) <span class="id" title="var">u</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">natmultassoc</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1963"></a><h2 class="section">Tactics for grouping pairs of terms appearing in words written in <span class="inlinecode">+</span> and <span class="inlinecode">*</span>.</h2>

<div class="paragraph"> </div>

<a name="lab1964"></a><h3 class="section">Helper tactics (which should not be considered as part of the public interface for these tactics).</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_not_at_front</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_not_at_back</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1 "A"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1 "B"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_back</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_back</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_back_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_back</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_front</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> + <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_front</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> + <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_front_goal</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_front</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> + <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_front</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> + <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_back_goal</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_back</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> + ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_move_to_back_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_at_back</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> + <span class="id" title="var">s</span> + ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> + ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_plus_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_not_at_front</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_not_at_back</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1 "A"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> =&gt; <span class="id" title="tactic">fail</span> 1 "B"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_back</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_back</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_back_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_back</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_front</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_front</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> * <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">lhs</span> := <span class="id" title="var">get_current_lhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_front</span> <span class="id" title="var">lhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> * <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_front_goal</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_front</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> * <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_front</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> * <span class="id" title="var">s</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_back_goal</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_back</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> * ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_move_to_back_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rhs</span> := <span class="id" title="var">get_current_rhs_in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_at_back</span> <span class="id" title="var">rhs</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[?<span class="id" title="var">x</span> * <span class="id" title="var">s</span> * ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm021</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">s</span> * ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">nat_mult_perm201</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1965"></a><h3 class="section">The tactics.</h3>

<div class="paragraph"> </div>

 We employ the following naming conventions.  By default a tactics given pertain only to equations and operate by default on the left-hand side of equations.  Those that operate on both left- and right-hand sides of the goal are suffixed with <span class="inlinecode"><span class="id" title="var">_goal</span></span>.  Tactics that operate on the left-hand side of equations occurring as hypotheses are suffixed with <span class="inlinecode"><span class="id" title="var">_in</span></span>.  Those that operate on both left- and right-hand sides of equations occurring as hypotheses are suffixed with <span class="inlinecode"><span class="id" title="var">_both_in</span></span>.  Those that opexrate on all sides of goals and hypotheses are suffixeD with <span class="inlinecode"><span class="id" title="var">_all</span></span>.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_goal</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_plus_move_to_front_goal</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_plus_move_to_front_goal</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_plus_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_plus_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_plus_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_plus_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_all</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_plus_group_goal</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">nat_plus_group_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span> is a term of type <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#nat"><span class="id" title="inductive">nat</span></a></span> and <span class="inlinecode"><span class="id" title="var">nat_plus_group_as</span></span> attempts to reorganize the <span class="inlinecode"><span class="id" title="var">lhs</span></span> of the <span class="inlinecode"><span class="id" title="keyword">goal</span></span> to include as a subterm <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_as</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>; <span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_group_as</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
t is a term of type x = y for x, y : nat and nat_plus_group_from attempts to reogranize the lhs of the goal to include as a subterm x.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_group_from</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt; <span class="id" title="var">nat_plus_group_as</span> <span class="id" title="var">lhs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_mult_move_to_front</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_mult_move_to_front</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_goal</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_mult_move_to_front_goal</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_mult_move_to_front_goal</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_mult_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_mult_move_to_front_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_mult_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="var">nat_mult_move_to_front_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_all</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_mult_group_goal</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">nat_mult_group_both_in</span> <span class="id" title="var">H</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span> is a term of type <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#nat"><span class="id" title="inductive">nat</span></a></span> and <span class="inlinecode"><span class="id" title="var">nat_mult_group_as</span></span> attempts to reorganize the <span class="inlinecode"><span class="id" title="var">lhs</span></span> of the <span class="inlinecode"><span class="id" title="keyword">goal</span></span> to include as a subterm <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_as</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">y</span>; <span class="id" title="var">nat_mult_move_to_front</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_group_as</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt; <span class="id" title="var">nat_mult_not_word</span> <span class="id" title="var">x</span>; <span class="id" title="var">nat_mult_move_to_front</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#t"><span class="id" title="variable">t</span></a></span> is a term of type <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> for <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#y"><span class="id" title="variable">y</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#nat"><span class="id" title="inductive">nat</span></a></span> and <span class="inlinecode"><span class="id" title="var">nat_mult_group_from</span></span> attempts to reogranize the <span class="inlinecode"><span class="id" title="var">lhs</span></span> of the <span class="inlinecode"><span class="id" title="keyword">goal</span></span> to include as a subterm <span class="inlinecode"><a class="idref" href="UniMath.Foundations.PartA.html#x"><span class="id" title="variable">x</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_group_from</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt; <span class="id" title="var">nat_mult_group_as</span> <span class="id" title="var">lhs</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1966"></a><h1 class="section">Tactics pertaining to inequalities.</h1>

<div class="paragraph"> </div>

<a name="lab1967"></a><h2 class="section">Preprocessing of the ambient goal and hypotheses.</h2>

<div class="paragraph"> </div>

<a name="lab1968"></a><h3 class="section">Helper tactics (which should not be considered as part of the public interface for these tactics).</h3>

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">does_not_have_gth</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt; <span class="id" title="var">y</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">does_not_have_geh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt;= <span class="id" title="var">y</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
It is convenient to have to only work with either <span class="inlinecode"><span class="id" title="var">hzgth</span></span>/<span class="inlinecode"><span class="id" title="var">hzgeh</span></span> or <span class="inlinecode"><span class="id" title="var">hzlth</span></span>/<span class="inlinecode"><span class="id" title="var">hzleh</span></span>.  We choose the former and the following tactics replace instances of <span class="inlinecode"><span class="id" title="var">hzlth</span></span>/<span class="inlinecode"><span class="id" title="var">hzleh</span></span> with the corresponding inequalities involving <span class="inlinecode"><span class="id" title="var">hzgth</span></span>/<span class="inlinecode"><span class="id" title="var">hzgeh</span></span>.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reverse_lth</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &lt; ?<span class="id" title="var">u</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">does_not_have_gth</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">assert</span> (<span class="id" title="var">natgth</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> | ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">reverse_leh</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &lt;= ?<span class="id" title="var">u</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">does_not_have_geh</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">assert</span> (<span class="id" title="var">natgeh</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> | ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gth_to_geh</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">does_not_have_geh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">assert</span> (<span class="id" title="var">natgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">natgthtogeh</span>; <span class="id" title="tactic">assumption</span> |]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Clean the hypotheses in preparation for searching.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_dfs_clean</span> := <span class="id" title="var">reverse_lth</span>; <span class="id" title="var">reverse_leh</span>; <span class="id" title="var">gth_to_geh</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1969"></a><h2 class="section">Tactics for solving inequalities involving natural numbers.</h2>

<div class="paragraph"> </div>

<a name="lab1970"></a><h3 class="section">Tactics for solving very simple inequalities using known lemmas.</h3>

<div class="paragraph"> </div>

 The following tactic allows immediate solution of common goals involving <span class="inlinecode"><a class="idref" href="UniMath.Foundations.NaturalNumbers.html#natgth"><span class="id" title="definition">natgth</span></a></span> provided that the appropriate hypotheses are available.  We probably want to eventually add additional "hints" here.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">natgth_simple</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; (<span class="id" title="var">S</span> ?<span class="id" title="var">y</span>)) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthsnn</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; 0) =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthsn0</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; (<span class="id" title="var">S</span> ?<span class="id" title="var">y</span>)) =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> ≠ 0)%<span class="id" title="var">nat</span> |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; 0) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natneq0togth0</span> <span class="id" title="var">x</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (0 ≠ ?<span class="id" title="var">x</span>)%<span class="id" title="var">nat</span> |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; 0) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natneq0togth0</span> <span class="id" title="var">x</span> (<span class="id" title="var">natneqtwist</span> <span class="id" title="var">x</span> <span class="id" title="var">P</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : (?<span class="id" title="var">x</span> = 0) -&gt; <span class="id" title="var">empty</span> |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; 0) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natneq0togth0</span> <span class="id" title="var">x</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : (0 = ?<span class="id" title="var">x</span>) -&gt; <span class="id" title="var">empty</span> |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; 0) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natneq0togth0</span> <span class="id" title="var">x</span> (<span class="id" title="var">natneqtwist</span> <span class="id" title="var">x</span> <span class="id" title="var">P</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthsnn</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthtogths</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgehtogthsn</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Q</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &gt; ?<span class="id" title="var">z</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">z</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">istransnatgth</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Q</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &gt;= ?<span class="id" title="var">z</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">z</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthgehtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Q</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &gt; ?<span class="id" title="var">z</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">z</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgehgthtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">natgeh_simple</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt;= (<span class="id" title="var">S</span> ?<span class="id" title="var">y</span>)) =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt;= (<span class="id" title="var">S</span> ?<span class="id" title="var">y</span>)) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">P</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">isreflnatgeh</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= 0) =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">natgehn0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt;= ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natgehsnn</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">x</span> - ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">minusgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthtogeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Q</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">y</span> &gt;= ?<span class="id" title="var">z</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">z</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">istransnatgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">P</span> : <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthsntogeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">P</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1971"></a><h3 class="section">General tactics for solving inequalities by depth-first search.</h3>

<div class="paragraph"> </div>

 The approach taken here for solving inequalities is to construct from the given collection of hypotheses HH a corresponding directed graph and then to perform a depth-first search of the graph.
<div class="paragraph"> </div>

 Although we will often employ our search method in order to traverse an acyclic graph, when we are proving that the hypotheses imply <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Preamble.html#empty"><span class="id" title="inductive">empty</span></a></span> we are forced to consider the cyclic case.  In these cases it may be possible to become trapped in a cycle.  To prevent this from happening we must build helper functions that will allow us to check that the next goal we move to is not one we have previously considered.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_gth_check</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt; <span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_geh_check</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt;= <span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>

<br/>
</div>

<div class="doc">
Perform depth first search of the graph corresponding to the hypotheses.  In standard continuation passing style we allow a helper ltac function <span class="inlinecode"><a class="idref" href="UniMath.Algebra.DCPO.html#leastupperbound.f"><span class="id" title="variable">f</span></a></span> which is admitted to perform certain checks (or which can be ignored as in nat_dfs below).
<div class="paragraph"> </div>

 TODO: Try instead change.  Think about strengthening clauses.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">natgth_simple</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="var">natgeh_simple</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &lt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">natgth</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>; [<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">f</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &lt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">natgeh</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">X</span>; [<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">f</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">u</span> &gt; ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt;= <span class="id" title="var">u</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_geh_check</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgehgthtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="var">f</span> (<span class="id" title="var">hProptoType</span>(<span class="id" title="var">x</span> &gt;= <span class="id" title="var">y</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_geh_check</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthtogeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">u</span> &gt;= ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt;= <span class="id" title="var">u</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_geh_check</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">istransnatgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">u</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">u</span> &gt; <span class="id" title="var">y</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_gth_check</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgehgthtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">assumption</span> | <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">u</span> &gt;= ?<span class="id" title="var">y</span>) |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="var">hProptoType</span> (<span class="id" title="var">x</span> &gt; <span class="id" title="var">u</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_gth_check</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthgehtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">u</span> <span class="id" title="var">y</span>); [<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= <span class="id" title="var">S</span> ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">natgthtogehsn</span>; <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_geh_check</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthgehtrans</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">apply</span> <span class="id" title="var">natlthnsn</span> | <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span>])<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span> - ?<span class="id" title="var">z</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_gth_check</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> - <span class="id" title="var">z</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">natgthgehtrans</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">y</span> - <span class="id" title="var">z</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">h</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">minusgeh</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_dfs</span> := <span class="id" title="var">nat_dfs_clean</span>; <span class="id" title="var">nat_dfs_body</span> <span class="id" title="var">id_check</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1972"></a><h1 class="section">Tactics for deriving contradictions.</h1>

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_eq_contr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">assert</span> <span class="id" title="var">empty</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">assumption</span> | <span class="id" title="var">contradiction</span>] <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">assert</span> <span class="id" title="var">empty</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span> | <span class="id" title="var">contradiction</span>] <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span> -&gt; <span class="id" title="var">empty</span>, <span class="id" title="var">_</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">neg</span> (?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span>), <span class="id" title="var">_</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">x</span> -&gt; <span class="id" title="var">empty</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">neg</span> (?<span class="id" title="var">x</span> = ?<span class="id" title="var">x</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> ≠ ?<span class="id" title="var">y</span>)%<span class="id" title="var">nat</span>, <span class="id" title="var">_</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> ≠ ?<span class="id" title="var">x</span>)%<span class="id" title="var">nat</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> ≠ ?<span class="id" title="var">y</span>)%<span class="id" title="var">nat</span>, <span class="id" title="var">_</span> : ?<span class="id" title="var">x</span> = ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> ≠ ?<span class="id" title="var">x</span>)%<span class="id" title="var">nat</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">i</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_simple_contr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> <span class="id" title="var">empty</span>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &lt; 0) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">exact</span> (<span class="id" title="var">negnatlthn0</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (0 &gt; ?<span class="id" title="var">x</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">exact</span> (<span class="id" title="var">negnatgth0n</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> ((<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>) &lt;= 0) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">exact</span> (<span class="id" title="var">negnatlehsn0</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (0 &gt;= (<span class="id" title="var">S</span> ?<span class="id" title="var">x</span>)) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">exact</span> (<span class="id" title="var">negnatgeh0sn</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">S</span> ?<span class="id" title="var">x</span> = 0 |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">exact</span> (<span class="id" title="var">negpathssx0</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> | <span class="id" title="var">contradiction</span>].<br/>

<br/>
</div>

<div class="doc">
Note that the following tactic may not halt. SHOULD halt now.
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_ineq_contr_isirrefl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_dfs_clean</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> <span class="id" title="var">empty</span>; [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">x</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">isirreflnatgth</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">assumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">N</span> : <span class="id" title="var">nat</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="var">make_gth_check</span> <span class="id" title="var">N</span> <span class="id" title="var">N</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isirreflnatgth</span> <span class="id" title="var">N</span>); <span class="id" title="var">nat_dfs_body</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">contradiction</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_absurd</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">nat_simple_contr</span> || <span class="id" title="var">nat_eq_contr</span> || <span class="id" title="var">nat_ineq_contr_isirrefl</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_preclean_1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [0 - ?<span class="id" title="var">n</span>] =&gt; <span class="id" title="tactic">change</span> (0 - <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [(<span class="id" title="var">S</span> ?<span class="id" title="var">n</span>) - 1] =&gt; <span class="id" title="tactic">change</span> ((<span class="id" title="var">S</span> <span class="id" title="var">n</span>) - 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> - 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="var">S</span> ?<span class="id" title="var">x</span> - <span class="id" title="var">S</span> ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="tactic">change</span> (<span class="id" title="var">S</span> <span class="id" title="var">x</span> - <span class="id" title="var">S</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_preclean_2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">multsnm</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">multnsm</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natldistr</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natrdistr</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultn0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmult0n</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natplusl0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natplusr0</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natminuseqn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultl1</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultr1</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">natplusassoc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">natmultassoc</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">minus0r</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">minusnn0</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_clean</span> := <span class="id" title="var">nat_preclean_1</span>; <span class="id" title="var">nat_preclean_2</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_preclean_1_in</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [0 - ?<span class="id" title="var">n</span>] =&gt; <span class="id" title="tactic">change</span> (0 - <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [(<span class="id" title="var">S</span> ?<span class="id" title="var">n</span>) - 1] =&gt; <span class="id" title="tactic">change</span> ((<span class="id" title="var">S</span> <span class="id" title="var">n</span>) - 1) <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> - 0) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">S</span> ?<span class="id" title="var">x</span> - <span class="id" title="var">S</span> ?<span class="id" title="var">y</span>] =&gt; <span class="id" title="tactic">change</span> (<span class="id" title="var">S</span> <span class="id" title="var">x</span> - <span class="id" title="var">S</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> - <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_preclean_2_in</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">multsnm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">multnsm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natldistr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natrdistr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultn0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmult0n</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natplusl0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natplusr0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natminuseqn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultl1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">natmultr1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">natplusassoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">natmultassoc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">minus0r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">minusnn0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_clean_in</span> <span class="id" title="var">H</span> := <span class="id" title="var">nat_preclean_1_in</span> <span class="id" title="var">H</span>; <span class="id" title="var">nat_preclean_2_in</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_clean_all</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_clean</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">nat_clean_in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1973"></a><h1 class="section">Several somewhat devious experimental tactics.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_devious_ineq</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">natgthorleh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">assumption</span> | <span class="id" title="var">nat_absurd</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &gt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">natlthorgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="var">nat_absurd</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &lt; ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">natlthorgeh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="tactic">assumption</span> | <span class="id" title="var">nat_absurd</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">x</span> &lt;= ?<span class="id" title="var">y</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">natgthorleh</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); [<span class="id" title="var">nat_absurd</span> | <span class="id" title="tactic">assumption</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1974"></a><h1 class="section">Tactics for solving equations.</h1>

<div class="paragraph"> </div>

<a name="lab1975"></a><h2 class="section">Helper tactics.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_check</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">S</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">T</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_strip</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">x</span>] =&gt; <span class="id" title="var">nat_plus_move_to_back_goal</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">λ</span> <span class="id" title="var">v</span>, <span class="id" title="var">v</span> + <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_strip</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [<span class="id" title="var">x</span>] =&gt; <span class="id" title="var">nat_mult_move_to_back_goal</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">λ</span> <span class="id" title="var">v</span>, <span class="id" title="var">v</span> * <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1976"></a><h2 class="section">Some simple solver tactics which are concerned exclusively with equations involving <i>only</i> <span class="inlinecode">+</span> or <i>only</i> <span class="inlinecode">*</span>.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_prezap_body</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rhs</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>; <span class="id" title="var">nat_plus_prezap_body</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">y</span> + <span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natpluscomm</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; (<span class="id" title="var">nat_plus_strip</span>; <span class="id" title="var">nat_plus_prezap_body</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">E</span> : ?<span class="id" title="var">l</span> = ?<span class="id" title="var">r</span> |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">E</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_hyp_check</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_group_from</span> <span class="id" title="var">E</span>; <span class="id" title="var">matched_rewrite</span> <span class="id" title="var">E</span>; <span class="id" title="var">nat_plus_prezap_body</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_prezap</span> := <span class="id" title="var">nat_clean_all</span>; <span class="id" title="var">nat_plus_prezap_body</span> <span class="id" title="var">id_check</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_prezap_body</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">rhs</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>; <span class="id" title="var">nat_mult_prezap_body</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> * ?<span class="id" title="var">y</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">y</span> * <span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natmultcomm</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; (<span class="id" title="var">nat_mult_strip</span>; <span class="id" title="var">nat_mult_prezap_body</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">E</span> : ?<span class="id" title="var">l</span> = ?<span class="id" title="var">r</span> |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt; <span class="id" title="var">f</span> <span class="id" title="var">E</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_hyp_check</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_mult_group_from</span> <span class="id" title="var">E</span>; <span class="id" title="var">matched_rewrite</span> <span class="id" title="var">E</span>; <span class="id" title="var">nat_mult_prezap_body</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_mult_prezap</span> := <span class="id" title="var">nat_clean_all</span>; <span class="id" title="var">nat_mult_prezap_body</span> <span class="id" title="var">id_check</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1977"></a><h2 class="section">A simple solver tactic for mixed <span class="inlinecode">+</span> <span class="inlinecode">*</span> equations.</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_zap_body</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">lhs</span> = ?<span class="id" title="var">rhs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">rhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">u</span> + ?<span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">v</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">F</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">v</span> = <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">F</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">nat_mult_prezap</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">rewrite</span> <span class="id" title="var">F</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">ap</span> (<span class="id" title="var">λ</span> <span class="id" title="var">v</span>, <span class="id" title="var">v</span> + <span class="id" title="var">y</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_zap_body</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;])<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| (<span class="id" title="keyword">let</span> <span class="id" title="var">l</span> := <span class="id" title="var">get_current_lhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">g</span> := <span class="id" title="var">make_check</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="var">check_cons</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_plus_move_to_front</span> <span class="id" title="var">v</span>; <span class="id" title="var">nat_plus_zap_body</span> <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">x</span> =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">v</span> =&gt; <span class="id" title="var">nat_plus_not_word</span> <span class="id" title="var">v</span>; <span class="id" title="var">nat_mult_prezap</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_plus_zap</span> := <span class="id" title="var">nat_plus_zap_body</span> <span class="id" title="var">id_check</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1978"></a><h1 class="section">Combined tactics for solving equations and inequalities of natural numbers.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_simple</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">n</span> &lt;= 0) |- ?<span class="id" title="var">n</span> = 0 =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natleh0tois0</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (0 &gt;= ?<span class="id" title="var">n</span>) |- ?<span class="id" title="var">n</span> = 0 =&gt; <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat0gehtois0</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (?<span class="id" title="var">n</span> &lt;= 0) |- 0 = ?<span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">natleh0tois0</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">hProptoType</span> (0 &gt;= ?<span class="id" title="var">n</span>) |- 0 = ?<span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">nat0gehtois0</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">x</span> + ?<span class="id" title="var">y</span> = ?<span class="id" title="var">y</span> + ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">natpluscomm</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_intros</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">x</span> -&gt; ?<span class="id" title="var">y</span> =&gt; <span class="id" title="tactic">intro</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- ∏ <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intro</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_try</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">nat</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span> "About to try " <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_basic_destruct</span> <span class="id" title="var">N</span> := <span class="id" title="tactic">destruct</span> <span class="id" title="var">N</span>; <span class="id" title="var">nat_intros</span>; <span class="id" title="var">nat_clean</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">auto</span> || <span class="id" title="tactic">assumption</span> || <span class="id" title="var">nat_simple</span> || <span class="id" title="var">nat_absurd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="var">nat_dfs</span> ).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_basic_induction</span> <span class="id" title="var">N</span> := <span class="id" title="tactic">induction</span> <span class="id" title="var">N</span>; <span class="id" title="var">nat_intros</span>; <span class="id" title="var">nat_clean</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">auto</span> || <span class="id" title="tactic">assumption</span> || <span class="id" title="var">nat_simple</span> || <span class="id" title="var">nat_absurd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="var">nat_dfs</span> || <span class="id" title="var">nat_try</span> ).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nat_zap</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">nat_clean_all</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">auto</span> || <span class="id" title="tactic">assumption</span> || <span class="id" title="var">nat_simple</span> || <span class="id" title="var">nat_absurd</span> || <span class="id" title="var">nat_dfs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id" title="var">nat_plus_zap</span> || <span class="id" title="var">nat_try</span>);<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">N</span> : <span class="id" title="var">nat</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nat_basic_destruct</span> <span class="id" title="var">N</span> || <span class="id" title="var">nat_basic_induction</span> <span class="id" title="var">N</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>.<br/>
</div>

<div class="doc">
<a name="lab1979"></a><h1 class="section">TESTS</h1>

</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="https://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>