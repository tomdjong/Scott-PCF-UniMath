<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="https://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.Algebra.BinaryOperations</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab388"></a><h1 class="section">Algebra 1. Part A. Generalities. Vladimir Voevodsky. Aug. 2011 -.</h1>
<a name="lab389"></a><h2 class="section">Contents</h2>

<ul class="doclist">
<li> Sets with one and two binary operations
<ul class="doclist">
<li> Unary operations

</li>
<li> Binary operations
<ul class="doclist">
<li> General definitions

</li>
<li> Standard conditions on one binary operation on a set

</li>
<li> Standard conditions on a pair of binary operations on a set

</li>
</ul>

</li>
<li> Sets with one binary operation
<ul class="doclist">
<li> General definitions

</li>
<li> Functions compatible with a binary operation (homomorphism)
    and their properties

</li>
<li> Transport of properties of a binary operation

</li>
<li> Subobject

</li>
<li> Relations compatible with a binary operation and quotient objects

</li>
<li> Relations inversely compatible with a binary operation

</li>
<li> Homomorphisms and relations

</li>
<li> Quotient relations

</li>
<li> Direct products

</li>
</ul>

</li>
<li> Sets with two binary operations
<ul class="doclist">
<li> General definitions

</li>
<li> Functions compatible with a pair of binary operation (homomorphisms)
    and their properties

</li>
<li> Transport of properties of a pair of binary operations

</li>
<li> Subobjects

</li>
<li> Quotient objects

</li>
<li> Direct products

</li>
</ul>

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

<a name="lab390"></a><h2 class="section">Preamble</h2>

<div class="paragraph"> </div>

 Imports 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="var">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.MoreFoundations.All</span>.<br/>

<br/>
</div>

<div class="doc">
To upstream files 
<div class="paragraph"> </div>

<a name="lab391"></a><h2 class="section">Sets with one and two binary operations</h2>

<div class="paragraph"> </div>

<a name="lab392"></a><h3 class="section">Unary operations</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">unop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab393"></a><h3 class="section">Binary operations</h3>

<div class="paragraph"> </div>

<a name="lab394"></a><h4 class="section">General definitions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">islcancelable</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">isincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrcancelable</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">isincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscancelable</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">islcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) × (<span class="id" title="var">isrcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">islinvertible</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">isweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrinvertible</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">isweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvertible</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">islinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) × (<span class="id" title="var">isrinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab395"></a><h4 class="section">Transfer of binary operations relative to weak equivalences</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binop</span> <span class="id" title="var">X</span> → <span class="id" title="var">binop</span> <span class="id" title="var">Y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">Y</span>), <span class="id" title="var">H</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binop</span> <span class="id" title="var">Y</span> → <span class="id" title="var">binop</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>), <span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">H</span> <span class="id" title="var">y</span>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab396"></a><h4 class="section">Standard conditions on one binary operation on a set</h4>

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isassoc</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) <span class="id" title="var">x''</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisassoc</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">islunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">x</span>) = <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropislunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">un0</span>) = <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisrunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) × (<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunitpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} {<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) : <span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunital</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">un0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunitalpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunital</span> <span class="id" title="var">opp</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">un0</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisunital</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isunital</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">isapropsubtype</span> <span class="id" title="var">X</span> (<span class="id" title="var">λ</span> <span class="id" title="var">un0</span> : <span class="id" title="var">_</span>, <span class="id" title="var">hconj</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropislunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropisrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">u1</span> <span class="id" title="var">u2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ua1</span> <span class="id" title="var">ua2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">ua2</span> <span class="id" title="var">u1</span>)) (<span class="id" title="var">pr1</span> <span class="id" title="var">ua1</span> <span class="id" title="var">u2</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ismonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := (<span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span>) × (<span class="id" title="var">isunital</span> <span class="id" title="var">opp</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_ismonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">isunital</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">assocax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> -&gt; <span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">unel_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) : <span class="id" title="var">X</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lunax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)) := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">runax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">unax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)) := <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">lunax_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">runax_is</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropismonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisassoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisunital</span>.<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">islinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span>) <span class="id" title="var">un0</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropislinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span>) <span class="id" title="var">un0</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>)) <span class="id" title="var">un0</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisrinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) × (<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} {<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>} {<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) : <span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropislinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisrinv</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invstruct</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span> =&gt; <span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> (<span class="id" title="var">unel_is</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">inv0</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_invstruct</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} {<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>} (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> (<span class="id" title="var">unel_is</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">inv0</span>) : <span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">inv0</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>, <span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="var">H1</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isgroppair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="var">is1</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> := <span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>, <span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1isgrop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> -&gt; <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1isgrop</span> : <span class="id" title="var">isgrop</span> &gt;-&gt; <span class="id" title="var">ismonoidop</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grinv_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grlinvax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)) := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">grrinvax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isweqrmultingr_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="keyword">is</span> <span class="id" title="var">istr</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">istr</span>) <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc</span> <span class="id" title="var">isun0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">istr</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">inv0</span> <span class="id" title="var">axs</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isun0</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">un0</span> <span class="id" title="var">unaxs</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">egf</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x0</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">axs</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">efg</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">g</span> <span class="id" title="var">x</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x0</span>) <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">axs</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweq_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">egf</span> <span class="id" title="var">efg</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isweqlmultingr_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="keyword">is</span> <span class="id" title="var">istr</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">f</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">istr</span>) <span class="id" title="var">x0</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc</span> <span class="id" title="var">isun0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">istr</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">inv0</span> <span class="id" title="var">axs</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isun0</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">un0</span> <span class="id" title="var">unaxs</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> * |-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">egf</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">g</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x0</span>) <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">axs</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">efg</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">g</span> <span class="id" title="var">x</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">x0</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x0</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">axs</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweq_iso</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">egf</span> <span class="id" title="var">efg</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropinvstruct</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isofhlevelsn</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">is0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">un0</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : ∏ (<span class="id" title="var">i</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">i</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span>) <span class="id" title="var">un0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> (<span class="id" title="var">i</span> <span class="id" title="var">x</span>)) <span class="id" title="var">un0</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isapropsubtype</span> (<span class="id" title="var">λ</span> <span class="id" title="var">i</span> : <span class="id" title="var">_</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">int</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">inv1</span> <span class="id" title="var">inv2</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">ax1</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">ax2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isweqrmultingr_is</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span> <span class="id" title="var">is0</span>) <span class="id" title="var">x0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ax1</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">ax2</span> <span class="id" title="var">x0</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveltotal2</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropismonoidop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropinvstruct</span>.<br/>
</div>

<br/>

<br/>
</div>

<div class="doc">
The following lemma is an analog of <span class="inlinecode"><span class="id" title="var">Bourbaki</span>,</span> <span class="inlinecode"><span class="id" title="var">Alg</span>.</span> <span class="inlinecode">1,</span> <span class="inlinecode"><span class="id" title="var">ex</span>.</span> <span class="inlinecode">2,</span> <span class="inlinecode"><a class="idref" href="UniMath.Foundations.Sets.html#LiftSurjection.p"><span class="id" title="variable">p</span></a>.</span> <span class="inlinecode">132</span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isgropif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is0</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">hexists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) = (<span class="id" title="var">unel_is</span> <span class="id" title="var">is0</span>))) : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">is0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is0</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc</span> <span class="id" title="var">isun0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">isun0</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">un0</span> <span class="id" title="var">unaxs0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unaxs0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">un0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">assoc</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">unaxs0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l1</span> : ∏ <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">isincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> (<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp</span> <span class="id" title="var">x'</span> <span class="id" title="var">x0</span>) = <span class="id" title="var">un0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropisincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x'</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">int1</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isinclbetweensets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">a</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">int1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">invx'</span> <span class="id" title="var">eq</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">a</span> <span class="id" title="var">x'</span> <span class="id" title="var">invx'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">b</span> <span class="id" title="var">x'</span> <span class="id" title="var">invx'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-  <span class="id" title="tactic">apply</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">is'</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">hexists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">eqset</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">un0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span> : <span class="id" title="var">_</span> , <span class="id" title="var">hinhuniv</span> <span class="id" title="var">f</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">intro</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">x'</span> <span class="id" title="var">eq</span> ]. <span class="id" title="tactic">apply</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">l1</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">unel_is</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">x'</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">l1'</span> : ∏ <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">isincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x'</span> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<span class="id" title="var">hinhuniv</span> (<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x'</span>) = <span class="id" title="var">un0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropisincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x'</span> <span class="id" title="var">x0</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">int1</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isinclbetweensets</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">a</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">int1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">invx'</span> <span class="id" title="var">eq</span> ]. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> <span class="id" title="var">eq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">invx'</span> <span class="id" title="var">x'</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">invx'</span> <span class="id" title="var">x'</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">is'</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">isaprop</span> (<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">eqset</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">un0</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropsubtype</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">eq1</span> <span class="id" title="var">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">l1</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">linv0</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">hinhunivcor1</span> (<span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">int</span> <span class="id" title="var">x</span>)) (<span class="id" title="var">is'</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">linv0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">inv0</span> := <span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">linv0</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">inv0</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">linv0</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">l1</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">x</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">change</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">linv0</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">linv0</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">unfold</span> <span class="id" title="var">unel_is</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">unaxs0</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscomm</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := ∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropiscomm</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabmonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := (<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) × (<span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isabmonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1isabmonoidop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span> -&gt; <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1isabmonoidop</span> : <span class="id" title="var">isabmonoidop</span> &gt;-&gt; <span class="id" title="var">ismonoidop</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">commax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span>) : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span> := <span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisabmonoidop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropismonoidop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscomm</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abmonoidoprer</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>)) (<span class="id" title="var">opp</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">opp</span> <span class="id" title="var">b</span> <span class="id" title="var">d</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="keyword">is</span> <span class="id" title="var">comm</span> ]. <span class="id" title="tactic">destruct</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc</span> <span class="id" title="var">unital0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span> <span class="id" title="var">d</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc</span> (<span class="id" title="var">opp</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) <span class="id" title="var">b</span> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">assoc</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">comm</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqlcancelablercancelable</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">islcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) ≃ (<span class="id" title="var">isrcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : (<span class="id" title="var">islcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">isrcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islcancelable</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrcancelable</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">λ</span> <span class="id" title="var">h</span> : <span class="id" title="var">_</span>, <span class="id" title="var">isinclhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">isl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="var">isrcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">islcancelable</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islcancelable</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrcancelable</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">λ</span> <span class="id" title="var">h</span> : <span class="id" title="var">_</span>, <span class="id" title="var">isinclhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">isr</span>). <span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqimplimpl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">isapropisincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isapropisincl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqlinvertiblerinvertible</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">islinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) ≃ (<span class="id" title="var">isrinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : (<span class="id" title="var">islinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">isrinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinvertible</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrinvertible</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqhomot</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">z</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isl</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="var">isrinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">islinvertible</span> <span class="id" title="var">opp</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinvertible</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrinvertible</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">λ</span> <span class="id" title="var">h</span> : <span class="id" title="var">_</span>, <span class="id" title="var">isweqhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">isr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqimplimpl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">isapropisweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isapropisweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>))).<br/>
</div>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqlunitrunit</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) ≃ (<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : (<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) -&gt; (<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islunit</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrunit</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">un0</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) -&gt; (<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islunit</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrunit</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isr</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">un0</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isr</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqimplimpl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">isapropislunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>) (<span class="id" title="var">isapropisrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span>)).<br/>
</div>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqlinvrinv</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">un0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv0</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) ≃ (<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : (<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) -&gt; (<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinv</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrinv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) -&gt; (<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinv</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrinv</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isr</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x</span> (<span class="id" title="var">inv0</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isr</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqimplimpl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">isapropislinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>) (<span class="id" title="var">isapropisrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">un0</span> <span class="id" title="var">inv0</span>)).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">abmonoidoprer</span>.<br/>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> := (<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) × (<span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isabgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1isabgrop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span> -&gt; <span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1isabgrop</span> : <span class="id" title="var">isabgrop</span> &gt;-&gt; <span class="id" title="var">isgrop</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabgroptoisabmonoidop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span> -&gt; <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">isabgroptoisabmonoidop</span> : <span class="id" title="var">isabgrop</span> &gt;-&gt; <span class="id" title="var">isabmonoidop</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisabgrop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisgrop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscomm</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab397"></a><h4 class="section">Standard conditions on a pair of binary operations on a set</h4>

<div class="paragraph"> </div>

 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isldistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x''</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">opp1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x''</span> <span class="id" title="var">x</span>) (<span class="id" title="var">opp2</span> <span class="id" title="var">x''</span> <span class="id" title="var">x'</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisldistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrdistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) <span class="id" title="var">x''</span>) (<span class="id" title="var">opp1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> <span class="id" title="var">x''</span>) (<span class="id" title="var">opp2</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisrdistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isdistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) × (<span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisdistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1 <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">isapropisldistr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">isapropisrdistr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">weqldistrrdistr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) ≃ (<span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> : (<span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) -&gt; (<span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isldistr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrdistr</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x''</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x''</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x''</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">g</span> : (<span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) -&gt; (<span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isldistr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">isrdistr</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">isr</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) <span class="id" title="var">x''</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">x''</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isr</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">x''</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqimplimpl</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">isapropisldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">isapropisrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>)).<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabsorb</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>, <span class="id" title="var">opp1</span> <span class="id" title="var">x</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) = <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisabsorb</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">isabsorb</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred_isaprop</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred_isaprop</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrigops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(∑ <span class="id" title="var">axs</span> : (<span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp1</span>) × (<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp2</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">axs</span>)) <span class="id" title="var">x</span>) = (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">axs</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× (∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">axs</span>))) = (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">axs</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× (<span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isrigops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">H3</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp2</span> (<span class="id" title="var">unel_is</span> <span class="id" title="var">H1</span>) <span class="id" title="var">x</span>) = (<span class="id" title="var">unel_is</span> <span class="id" title="var">H1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H4</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> (<span class="id" title="var">unel_is</span> <span class="id" title="var">H1</span>)) = (<span class="id" title="var">unel_is</span> <span class="id" title="var">H1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H5</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>) (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>)) <span class="id" title="var">H5</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigop1axs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp1</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigop2axs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigdistraxs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>,  <span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigldistrax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigrdistrax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigunel1_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">rigop1axs_is</span> <span class="id" title="keyword">is</span>))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigunel2_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">rigop2axs_is</span> <span class="id" title="keyword">is</span>))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigmult0x_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">rigunel1_is</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">x</span>) (<span class="id" title="var">rigunel1_is</span> <span class="id" title="keyword">is</span>) := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigmultx0_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> (<span class="id" title="var">rigunel1_is</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">rigunel1_is</span> <span class="id" title="keyword">is</span>) := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisrigops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveltotal2</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisabmonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropismonoidop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisdistr</span>.<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isringops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> ((<span class="id" title="var">isabgrop</span> <span class="id" title="var">opp1</span>) × (<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>)) (<span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isringops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">H1</span> : <span class="id" title="var">isabgrop</span> <span class="id" title="var">opp1</span>) (<span class="id" title="var">H2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H3</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>) <span class="id" title="var">H3</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringop1axs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isabgrop</span> <span class="id" title="var">opp1</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringop2axs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringdistraxs_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringldistrax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isldistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringrdistrax_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isrdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">λ</span> <span class="id" title="keyword">is</span> : <span class="id" title="var">_</span>, <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringunel1_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringunel2_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisringops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisabgrop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropismonoidop</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisdistr</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">multx0_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>))) (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is12</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">ldistr0</span> <span class="id" title="var">rdistr0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc2</span> [ <span class="id" title="var">un2</span> [ <span class="id" title="var">lun2</span> <span class="id" title="var">run2</span> ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isweqrmultingr_is</span> <span class="id" title="var">is1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> <span class="id" title="var">un2</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is1</span> <span class="id" title="keyword">as</span> [ [ <span class="id" title="var">assoc1</span> [ <span class="id" title="var">un1</span> [ <span class="id" title="var">lun1</span> <span class="id" title="var">run1</span> ] ] ] [ <span class="id" title="var">inv0</span> [ <span class="id" title="var">linv0</span> <span class="id" title="var">rinv0</span> ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">unel_is</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">x</span> <span class="id" title="var">un2</span>)). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">ldistr0</span> <span class="id" title="var">un1</span> <span class="id" title="var">un2</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">run2</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun1</span> <span class="id" title="var">un2</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">run2</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">multx0_is_l</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">mult0x_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)) <span class="id" title="var">x</span>) (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is12</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">ldistr0</span> <span class="id" title="var">rdistr0</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is2</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">assoc2</span> [ <span class="id" title="var">un2</span> [ <span class="id" title="var">lun2</span> <span class="id" title="var">run2</span> ] ] ]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isweqrmultingr_is</span> <span class="id" title="var">is1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">un2</span> <span class="id" title="var">x</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">is1</span> <span class="id" title="keyword">as</span> [ [ <span class="id" title="var">assoc1</span> [ <span class="id" title="var">un1</span> [ <span class="id" title="var">lun1</span> <span class="id" title="var">run1</span> ] ] ] [ <span class="id" title="var">inv0</span> [ <span class="id" title="var">linv0</span> <span class="id" title="var">rinv0</span> ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">unel_is</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun1</span> (<span class="id" title="var">opp2</span> <span class="id" title="var">un2</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">rdistr0</span> <span class="id" title="var">un1</span> <span class="id" title="var">un2</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun2</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun1</span> <span class="id" title="var">un2</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lun2</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">mult0x_is_l</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">minus1_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>) := (<span class="id" title="var">grinv_is</span> <span class="id" title="var">is1</span>) (<span class="id" title="var">unel_is</span> <span class="id" title="var">is2</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islinvmultwithminus1_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) : <span class="id" title="var">paths</span> (<span class="id" title="var">opp1</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>) <span class="id" title="var">x</span>) (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">xinv</span> := <span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">lunax_is</span> <span class="id" title="var">is2</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">xinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">is12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">minus1_is_l</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">grinv_is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax_is</span> <span class="id" title="var">is1</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">mult0x_is_l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is12</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">islinvmultwithminus1_is_l</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrinvmultwithminus1_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>)) (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">xinv</span> := <span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">lunax_is</span> <span class="id" title="var">is2</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">unfold</span> <span class="id" title="var">xinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">is12</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>)). <span class="id" title="tactic">unfold</span> <span class="id" title="var">minus1_is_l</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">grinv_is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grrinvax_is</span> <span class="id" title="var">is1</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">mult0x_is_l</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">is2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">is12</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isrinvmultwithminus1_is_l</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isminusmultwithminus1_is_l</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">paths</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>) (<span class="id" title="var">grinv_is</span> <span class="id" title="var">is1</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isweqrmultingr_is</span> <span class="id" title="var">is1</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">islinvmultwithminus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">is12</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">grinv_is</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax_is</span> <span class="id" title="var">is1</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isminusmultwithminus1_is_l</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringopsif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="var">is1</span> : <span class="id" title="var">isgrop</span> <span class="id" title="var">opp1</span>) (<span class="id" title="var">is2</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is12</span> : <span class="id" title="var">isdistr</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">assoc1</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">is1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isweqrmultingr_is</span> <span class="id" title="var">is1</span> (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">isrinvmultwithminus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">is12</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is12</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">assoc1</span> (<span class="id" title="var">opp1</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>) (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">x</span>) (<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span>) <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assoc1</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">isrinvmultwithminus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">is12</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">unel_is</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax_is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">is1</span>) <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">isrinvmultwithminus1_is_l</span> <span class="id" title="var">is1</span> <span class="id" title="var">is2</span> <span class="id" title="var">is12</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">is2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">is12</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringmultx0_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>), <span class="id" title="var">opp2</span> <span class="id" title="var">x</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>))) = <span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">multx0_is_l</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringdistraxs_is</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringmult0x_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>), <span class="id" title="var">opp2</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>))) <span class="id" title="var">x</span> = <span class="id" title="var">unel_is</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">mult0x_is_l</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringdistraxs_is</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringminus1_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">minus1_is_l</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringmultwithminus1_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>),<br/>
&nbsp;&nbsp;<span class="id" title="var">opp2</span> (<span class="id" title="var">minus1_is_l</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">x</span> = <span class="id" title="var">grinv_is</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">isminusmultwithminus1_is_l</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">ringdistraxs_is</span> <span class="id" title="keyword">is</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isringopstoisrigops</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isabgroptoisabmonoidop</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">ringmult0x_is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">ringmultx0_is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">ringdistraxs_is</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">isringopstoisrigops</span> : <span class="id" title="var">isringops</span> &gt;-&gt; <span class="id" title="var">isrigops</span>.<br/>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscommrigops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) × (<span class="id" title="var">iscomm</span> <span class="id" title="var">opp2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1iscommrigops</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1iscommrigops</span> : <span class="id" title="var">iscommrigops</span> &gt;-&gt; <span class="id" title="var">isrigops</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">rigiscommop2_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscommrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomm</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropiscommrig</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">iscommrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisrigops</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscomm</span>.<br/>
</div>

<br/>
</div>

<div class="doc">

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscommringops</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) × (<span class="id" title="var">iscomm</span> <span class="id" title="var">opp2</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1iscommringops</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> -&gt; <span class="id" title="var">isringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1iscommringops</span> : <span class="id" title="var">iscommringops</span> &gt;-&gt; <span class="id" title="var">isringops</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ringiscommop2_is</span> {<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>} {<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscommringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomm</span> <span class="id" title="var">opp2</span> := <span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropiscommring</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">iscommringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisringops</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropiscomm</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscommringopstoiscommrigops</span> (<span class="id" title="var">X</span> : <span class="id" title="var">UU</span>) (<span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">iscommringops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span>) : <span class="id" title="var">iscommrigops</span> <span class="id" title="var">opp1</span> <span class="id" title="var">opp2</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isringopstoisrigops</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">iscommringopstoiscommrigops</span> : <span class="id" title="var">iscommringops</span> &gt;-&gt; <span class="id" title="var">iscommrigops</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab398"></a><h4 class="section">Transfer properties of binary operations relative to weak equivalences</h4>

<div class="paragraph"> </div>

 binop_weq_fwd 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isassoc_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isassoc</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq0</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islunit_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">islunit</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrunit_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">isrunit</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunit_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">isunit</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">islunit_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrunit_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunital_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunital</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isunital</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isunit_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ismonoidop_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">ismonoidop</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isassoc_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isunital_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islinv_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">X</span> → <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">islinv</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrinv_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">X</span> → <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">isrinv</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinv_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">X</span> → <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">isinv</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">islinv_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrinv_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">invstruct_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span> → <span class="id" title="var">invstruct</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">ismonoidop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">inv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">inv</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isinv_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="var">inv</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isgrop_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isgrop</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">invstruct_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomm_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span> → <span class="id" title="var">iscomm</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabmonoidop_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isabmonoidop</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabgrop_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isabgrop</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isgrop_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isldistr_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isldistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isldistr</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">map_on_two_paths</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq0</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrdistr_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrdistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isrdistr</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">map_on_two_paths</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq0</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isdistr_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isdistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isdistr</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isldistr_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrdistr_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabsorb_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabsorb</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isabsorb</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_fwd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">homotinvweqweq</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrigops_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isrigops</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isabmonoidop_weq_fwd</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_fwd</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">op2</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isdistr_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringops_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isringops</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isabgrop_weq_fwd</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_fwd</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isdistr_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommrigops_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommrigops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">iscommrigops</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isrigops_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommringops_weq_fwd</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommringops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">iscommringops</span> (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_fwd</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isringops_weq_fwd</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_fwd</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
binop_weq_bck 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isassoc_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isassoc</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isassoc</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islunit_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">islunit</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrunit_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">isrunit</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunit_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunit</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> → <span class="id" title="var">isunit</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">islunit_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrunit_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunital_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunital</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isunital</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isunit_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ismonoidop_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">ismonoidop</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isassoc_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isunital_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islinv_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">Y</span> → <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">islinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">islinv</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>, <span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">opp</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrinv_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">Y</span> → <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">isrinv</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>, <span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">opp</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinv_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x0</span> : <span class="id" title="var">Y</span>) (<span class="id" title="var">inv</span> : <span class="id" title="var">Y</span> → <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isinv</span> <span class="id" title="var">opp</span> <span class="id" title="var">x0</span> <span class="id" title="var">inv</span> → <span class="id" title="var">isinv</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>, <span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">inv</span> (<span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">islinv_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrinv_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">invstruct_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> <span class="id" title="var">opp</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">invstruct</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span> → <span class="id" title="var">invstruct</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>) (<span class="id" title="var">ismonoidop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">inv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y</span> : <span class="id" title="var">X</span>, <span class="id" title="var">invmap</span> <span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">inv</span> (<span class="id" title="var">H</span> <span class="id" title="var">y</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isinv_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="var">inv</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isgrop_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isgrop</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">invstruct_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomm_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomm</span> <span class="id" title="var">opp</span> → <span class="id" title="var">iscomm</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>, <span class="id" title="keyword">is</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabmonoidop_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isabmonoidop</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabgrop_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabgrop</span> <span class="id" title="var">opp</span> → <span class="id" title="var">isabgrop</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">opp</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isgrop_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isldistr_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isldistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isldistr</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">map_on_two_paths</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrdistr_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrdistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isrdistr</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">map_on_two_paths</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">pathsinv0</span>, <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isdistr_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isdistr</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isdistr</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isldistr_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isrdistr_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isabsorb_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabsorb</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isabsorb</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">binop_weq_bck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">homotinvweqweq</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrigops_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrigops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isrigops</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isabmonoidop_weq_bck</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_bck</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span>, <span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">invmap</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">op2</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isdistr_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isringops_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isringops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">isringops</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isabgrop_weq_bck</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">ismonoidop_weq_bck</span>, (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isdistr_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommrigops_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommrigops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">iscommrigops</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isrigops_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommringops_weq_bck</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">UU</span>} (<span class="id" title="var">H</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">op2</span> : <span class="id" title="var">binop</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscommringops</span> <span class="id" title="var">op1</span> <span class="id" title="var">op2</span> → <span class="id" title="var">iscommringops</span> (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op1</span>) (<span class="id" title="var">binop_weq_bck</span> <span class="id" title="var">H</span> <span class="id" title="var">op2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isringops_weq_bck</span>, (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">iscomm_weq_bck</span>, (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab399"></a><h3 class="section">Sets with one binary operation</h3>

<div class="paragraph"> </div>

<a name="lab400"></a><h4 class="section">General definitions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop</span> : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, <span class="id" title="var">binop</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinoppair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>) (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">setwithbinop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) <span class="id" title="var">X</span> <span class="id" title="var">opp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1setwithbinop</span> : <span class="id" title="var">setwithbinop</span> -&gt; <span class="id" title="var">hSet</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, <span class="id" title="var">binop</span> <span class="id" title="var">X</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1setwithbinop</span> : <span class="id" title="var">setwithbinop</span> &gt;-&gt; <span class="id" title="var">hSet</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">op</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} : <span class="id" title="var">binop</span> <span class="id" title="var">X</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">X</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isasetbinoponhSet</span> (<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>) : <span class="id" title="var">isaset</span> (@<span class="id" title="var">binop</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">impred_isaset</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">impred_isaset</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isasetbinoponhSet</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x + y" := (<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">addoperation_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;x * y" := (<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">multoperation_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop_rev</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">setwithbinop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">setwithbinoppair</span> <span class="id" title="var">X</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <span class="id" title="var">op</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab401"></a><h4 class="section">Functions compatible with a binary operation (homomorphisms) and their properties</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isbinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) = <span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)) : <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span> := <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisbinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinopfun_twooutof3b</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> -&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">B</span> -&gt; <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">issurjective</span> <span class="id" title="var">f</span>) : <span class="id" title="var">isbinopfun</span> (<span class="id" title="var">g</span> ∘ <span class="id" title="var">f</span>)%<span class="id" title="var">functions</span> -&gt; <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span> -&gt; <span class="id" title="var">isbinopfun</span> <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">H</span> <span class="id" title="var">b1</span>) (@<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">H1'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">H</span> <span class="id" title="var">b2</span>) (@<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">H2'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1'</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(! (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="var">g</span> <span class="id" title="var">b</span>) (<span class="id" title="var">H2</span> (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b1</span> <span class="id" title="var">H1'</span>) (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b2</span> <span class="id" title="var">H2'</span>))))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">H1</span> (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b1</span> <span class="id" title="var">H1'</span>) (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b2</span> <span class="id" title="var">H2'</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span> =&gt; <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopfunpair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>) : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; (<span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binopfun</span> : <span class="id" title="var">binopfun</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopfunisbinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) : <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isasetbinopfun</span>  (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">isaset</span> (<span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isasetsubset</span> (<span class="id" title="var">pr1binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">isofhlevel</span> 2 (<span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisbinopfun</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinopfuncomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isbinopfun</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">axg</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">g</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axg</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isbinopfuncomp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopfuncomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">binopfunpair</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">isbinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span> : <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <span class="id" title="var">isbinopfun</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopmonopair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binopmono</span> : <span class="id" title="var">binopmono</span> &gt;-&gt; <span class="id" title="var">incl</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopincltobinopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">binopfunpair</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">binopincltobinopfun</span> : <span class="id" title="var">binopmono</span> &gt;-&gt; <span class="id" title="var">binopfun</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopmonocomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">binopmonopair</span> (<span class="id" title="var">inclcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">isbinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopiso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>, <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopisopair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isbinopfun</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binopiso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binopiso</span> : <span class="id" title="var">binopiso</span> &gt;-&gt; <span class="id" title="var">weq</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isasetbinopiso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">isaset</span> (<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isaset_total2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isaset_total2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">impred_isaset</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">isasetaprop</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisweq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span>. <span class="id" title="var">use</span> <span class="id" title="var">isasetaprop</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisbinopfun</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isasetbinopiso</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopisotobinopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">binopmonopair</span> (<span class="id" title="var">weqtoincl</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">binopisotobinopmono</span> : <span class="id" title="var">binopiso</span> &gt;-&gt; <span class="id" title="var">binopmono</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopisocomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">binopisopair</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">isbinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinopfuninvmap</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) : <span class="id" title="var">isbinopfun</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>) (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isbinopfuninvmap</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invbinopiso</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> := <span class="id" title="var">binopisopair</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">isbinopfuninvmap</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">idbinopiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">binopisopair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">idweq</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab402"></a><h4 class="section">(X = Y) ≃ (binopiso X Y)</h4>

   The idea is to use the composition (X = Y) ≃ (X ╝ Y) ≃ (binopiso X Y)

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop_univalence_weq1</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">X</span> ╝ <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2_paths_equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop_univalence_weq2</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : (<span class="id" title="var">X</span> ╝ <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqbandf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">hSet_univalence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">invweq</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">Xop</span>]. <span class="id" title="tactic">induction</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> <span class="id" title="var">Yop</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqimplimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">i</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">Xop</span> = <span class="id" title="var">Yop</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isapropisbinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isasetbinoponhSet</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop_univalence_map</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">X</span> = <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idbinopiso</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">setwithbinop_univalence_isweq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="var">setwithbinop_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweqhomot</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">setwithbinop_univalence_weq1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">setwithbinop_univalence_weq2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqcomp_to_funcomp_app</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">weqproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">setwithbinop_univalence_isweq</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop_univalence</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">setwithbinop_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">setwithbinop_univalence_isweq</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">setwithbinop_univalence</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab403"></a><h4 class="section">hfiber and binop</h4>

</div>
<div class="code">
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">hfiberbinop_path</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hf1</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b1</span>) (<span class="id" title="var">hf2</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b2</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> (@<span class="id" title="var">op</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hf1</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">hf2</span>)) = (@<span class="id" title="var">op</span> <span class="id" title="var">B</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf1</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf2</span>). <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">hfiberbinop</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hf1</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b1</span>) (<span class="id" title="var">hf2</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b2</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (@<span class="id" title="var">op</span> <span class="id" title="var">B</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">hfiberpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (@<span class="id" title="var">op</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hf1</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">hf2</span>)) (<span class="id" title="var">hfiberbinop_path</span> <span class="id" title="var">f</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">hf1</span> <span class="id" title="var">hf2</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab404"></a><h4 class="section">Transport of properties of a binary operation</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islcancelablemonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">islcancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">islcancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islcancelable</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isincltwooutof3a</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y0</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="var">y0</span>)) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) <span class="id" title="var">x</span> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isinclhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isinclcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">inclpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrcancelablemonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrcancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">isrcancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islcancelable</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isincltwooutof3a</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y0</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">op</span> <span class="id" title="var">y0</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) <span class="id" title="var">x0</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isinclhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isinclcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">inclpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscancelablemonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">iscancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">iscancelable</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">islcancelablemonob</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isrcancelablemonob</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">islcancelableisob</span> := <span class="id" title="var">islcancelablemonob</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">isrcancelableisob</span> := <span class="id" title="var">isrcancelablemonob</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">iscancelableisob</span> := <span class="id" title="var">iscancelablemonob</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">islinvertibleisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">islinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">islinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinvertible</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">twooutof3a</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y0</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="var">y0</span>)) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) <span class="id" title="var">x</span> <span class="id" title="var">x0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">weqcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrinvertibleisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">isrinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinvertible</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">twooutof3a</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">λ</span> <span class="id" title="var">y0</span> : <span class="id" title="var">Y</span>, <span class="id" title="var">op</span> <span class="id" title="var">y0</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) <span class="id" title="var">x0</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">weqcomp</span> <span class="id" title="var">f</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvertiblemonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>)) : <span class="id" title="var">isinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">islinvertibleisob</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isrinvertibleisob</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">islinvertibleisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">islinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>) : <span class="id" title="var">islinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">islinvertible</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">twooutof3b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>) <span class="id" title="var">f</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x0</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrinvertibleisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>) : <span class="id" title="var">isrinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isrinvertible</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">twooutof3b</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">h</span> : <span class="id" title="var">homot</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">f</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">x0</span> : <span class="id" title="var">X</span>, <span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">x0</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span> <span class="id" title="var">x0</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isweqhomot</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvertiblemonof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> : <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">x</span>) : <span class="id" title="var">isinvertible</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">islinvertibleisof</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isrinvertibleisof</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isassocmonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isassoc</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isassoc</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">axf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">a</span> (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isassocmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommmonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">axf</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axf</span> <span class="id" title="var">b</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">iscommmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">isassocisob</span> := <span class="id" title="var">isassocmonob</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">iscommisob</span> := <span class="id" title="var">iscommmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isassocisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isassoc</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">isassoc</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isassocmonob</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isassocisof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscommisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">iscommmonob</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">iscommisof</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunitisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">unx</span> : <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isunit</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">unx</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunit</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">f</span> <span class="id" title="var">unx</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <span class="id" title="var">unx</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">unx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">unx</span>) <span class="id" title="var">a</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">unx</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">f</span> <span class="id" title="var">unx</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">unx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">unx</span>)). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">unx</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isunitisof</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunitalisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isunital</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunital</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">isunitalpair</span> (<span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isunitisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isunitisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">uny</span> : <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isunit</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) <span class="id" title="var">uny</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunit</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) ((<span class="id" title="var">invmap</span> <span class="id" title="var">f</span>) <span class="id" title="var">uny</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">int</span> := <span class="id" title="var">isunitisof</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">int</span>. <span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isunitisob</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isunitalisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isunital</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isunital</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) := <span class="id" title="var">isunitalpair</span> ((<span class="id" title="var">invmap</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isunitisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ismonoidopisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isassocisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isunitalisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ismonoidopisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">ismonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">ismonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) := <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isassocisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isunitalisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">unx</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">invx</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isinv</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">unx</span> <span class="id" title="var">invx</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isinv</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">unx</span>) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">funcomp</span> <span class="id" title="var">invx</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">axf</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">axinvf</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">axf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">axinvf</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axinvf</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">invx</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>))) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">unx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">invx</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">axinvf</span> <span class="id" title="var">a</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">invx</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">unx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotinvweqweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">invx</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isinvisof</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isgropisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">ismonoidopisof</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">grinv_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinvisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">unel_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">grinv_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">uny</span> : <span class="id" title="var">Y</span>) (<span class="id" title="var">invy</span> : <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isinv</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) <span class="id" title="var">uny</span> <span class="id" title="var">invy</span>) : <span class="id" title="var">isinv</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">uny</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">funcomp</span> <span class="id" title="var">invy</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)))).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isinvisof</span> (<span class="id" title="var">invbinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="var">uny</span> <span class="id" title="var">invy</span> <span class="id" title="keyword">is</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isinvisob</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isgropisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">ismonoidopisob</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  (<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">funcomp</span> (<span class="id" title="var">grinv_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinvisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">unel_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">grinv_is</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabmonoidopisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabmonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">ismonoidopisof</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">commax_is</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabmonoidopisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabmonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabmonoidop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">ismonoidopisob</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">commax_is</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabgropisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isgropisof</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">commax_is</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isabgropisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isabgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isabgrop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">isgropisob</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">commax_is</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab405"></a><h4 class="section">Subobjects</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issubsetwithbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;∏ <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">A</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropissubsetwithbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>} (<span class="id" title="var">opp</span> : <span class="id" title="var">binop</span> <span class="id" title="var">X</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">issubsetwithbinop</span> <span class="id" title="var">opp</span> <span class="id" title="var">A</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">A</span> (<span class="id" title="var">opp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswithbinop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">A</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswithbinoppair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> <span class="id" title="var">op</span> <span class="id" title="var">A</span>) <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> <span class="id" title="var">op</span> <span class="id" title="var">A</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">A</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswithbinopconstr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> <span class="id" title="var">op</span> <span class="id" title="var">A</span>) <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> <span class="id" title="var">op</span> <span class="id" title="var">A</span> := @<span class="id" title="var">subsetswithbinoppair</span> <span class="id" title="var">X</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1subsetswithbinop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">subsetswithbinop</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwithbinop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1subsetswithbinop</span> : <span class="id" title="var">subsetswithbinop</span> &gt;-&gt; <span class="id" title="var">hsubtype</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr2subsetswithbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">Y</span> : <span class="id" title="var">subsetswithbinop</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">issubsetwithbinop</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>) (<span class="id" title="var">pr1subsetswithbinop</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) := <span class="id" title="var">pr2</span> <span class="id" title="var">Y</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">totalsubsetwithbinop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">subsetswithbinop</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">htrue</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">tt</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">carrierofasubsetwithbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">subsetswithbinop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">setwithbinop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">aset</span> := (<span class="id" title="var">hSetpair</span> (<span class="id" title="var">carrier</span> <span class="id" title="var">A</span>) (<span class="id" title="var">isasetsubset</span> (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">A</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinclpr1carrier</span> <span class="id" title="var">A</span>))) : <span class="id" title="var">hSet</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">aset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">subopp</span> := (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">carrierpair</span> <span class="id" title="var">A</span> (<span class="id" title="var">op</span> (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">binop</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">subopp</span>.<br/>
</div>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">carrierofasubsetwithbinop</span> : <span class="id" title="var">subsetswithbinop</span> &gt;-&gt; <span class="id" title="var">setwithbinop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab406"></a><h4 class="section">Relations compatible with a binary operation and quotient objects</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)) (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_isbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)) : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinophrellogeqf</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">L</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lg</span> : <span class="id" title="var">hrellogeq</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isl</span> : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">L</span>) : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr2</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinophrelif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)) : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscompbinoptransrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="var">ist</span> : <span class="id" title="var">istrans</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isb</span> : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">rab</span> <span class="id" title="var">rcd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">racbc</span> := <span class="id" title="var">pr2</span> <span class="id" title="var">isb</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">rbcbd</span> := <span class="id" title="var">pr1</span> <span class="id" title="var">isb</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">b</span> <span class="id" title="var">rcd</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">ist</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">racbc</span> <span class="id" title="var">rbcbd</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinopreflrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="var">isr</span> : <span class="id" title="var">isrefl</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isb</span> : <span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">isb</span> <span class="id" title="var">c</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> (<span class="id" title="var">isr</span> <span class="id" title="var">c</span>) <span class="id" title="var">rab</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">isb</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span> (<span class="id" title="var">isr</span> <span class="id" title="var">c</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binophrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binophrelpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binophrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binophrel</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">hrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binophrel</span> : <span class="id" title="var">binophrel</span> &gt;-&gt; <span class="id" title="var">hrel</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binophrel_resp_left</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binophrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binophrel_resp_right</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binophrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binoppo</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binoppopair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binoppo</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binoppo</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">po</span> <span class="id" title="var">X</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binoppo</span> : <span class="id" title="var">binoppo</span> &gt;-&gt; <span class="id" title="var">po</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrelpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1binopeqrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">isbinophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1binopeqrel</span> : <span class="id" title="var">binopeqrel</span> &gt;-&gt; <span class="id" title="var">eqrel</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrel_resp_left</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrel_resp_right</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">X</span>} (<span class="id" title="var">c</span> : <span class="id" title="var">X</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>) <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinopquot</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">setwithbinop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">setquotinset</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qt</span>  := <span class="id" title="var">setquot</span> <span class="id" title="var">R</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">qtset</span> := <span class="id" title="var">setquotinset</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">iscomp</span> : <span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> <span class="id" title="var">op</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">iscompbinoptransrel</span> <span class="id" title="var">R</span> (<span class="id" title="var">eqreltrans</span> <span class="id" title="var">R</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qtmlt</span> := <span class="id" title="var">setquotfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> <span class="id" title="var">op</span> <span class="id" title="var">iscomp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">binop</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">qtmlt</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ispartbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isbinoptoispartbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">L</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d2</span> : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">L</span>) : <span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">L</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinophrel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">ispartbinophrel</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">d2</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="keyword">is</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">d2</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ispartbinophrellogeqf</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) {<span class="id" title="var">L</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lg</span> : <span class="id" title="var">hrellogeq</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isl</span> : <span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">L</span>) : <span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="keyword">is</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="keyword">is</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr2</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ispartbinophrelif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)) : <span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">isl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "A ⇒ B" := (<span class="id" title="var">himpl</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">generated_binophrel_hrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>,  ∀(<span class="id" title="var">R'</span> : <span class="id" title="var">binophrel</span> <span class="id" title="var">X</span>), (∏ <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span>, <span class="id" title="var">R</span> <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span> → <span class="id" title="var">R'</span> <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span>) ⇒ <span class="id" title="var">R'</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinophrel_generated_binophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">generated_binophrel_hrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">binophrel_resp_left</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">binophrel_resp_right</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">generated_binophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">binophrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">binophrelpair</span> (<span class="id" title="var">generated_binophrel_hrel</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isbinophrel_generated_binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">generated_binophrel_intro</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) : <span class="id" title="var">generated_binophrel</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R'</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">generated_binopeqrel_hrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>,  ∀(<span class="id" title="var">R'</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>), (∏ <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span>, <span class="id" title="var">R</span> <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span> → <span class="id" title="var">R'</span> <span class="id" title="var">x₁</span> <span class="id" title="var">x₂</span>) ⇒ <span class="id" title="var">R'</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinophrel_generated_binopeqrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">generated_binopeqrel_hrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">binopeqrel_resp_left</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">binopeqrel_resp_right</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">H2</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iseqrel_generated_binopeqrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iseqrel</span> (<span class="id" title="var">generated_binopeqrel_hrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iseqrelconstr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">eqreltrans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">H1</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">H2</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eqrelrefl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">eqrelsymm</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">R'</span> <span class="id" title="var">HR</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">generated_binopeqrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">binopeqrelpair</span> (<span class="id" title="var">eqrelpair</span> (<span class="id" title="var">generated_binopeqrel_hrel</span> <span class="id" title="var">R</span>) (<span class="id" title="var">iseqrel_generated_binopeqrel</span> <span class="id" title="var">R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isbinophrel_generated_binopeqrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">generated_binopeqrel_intro</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} {<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">r</span> : <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>) : <span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R'</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pullback_binopeqrel</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">binopeqrelpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">eqrelpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">iseqrelconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">eqreltrans</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">eqrelrefl</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">eqrelsymm</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">mk_isbinophrel</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="var">binopfunisbinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">binopeqrel_resp_left</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">binopeqrel_resp_right</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pullback_binopeqrel_rev</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> (<span class="id" title="var">setwithbinop_rev</span> <span class="id" title="var">Y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">Y</span>) : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pullback_binopeqrel</span> <span class="id" title="var">f</span>). <span class="id" title="var">use</span> <span class="id" title="var">binopeqrelpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">mk_isbinophrel</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>); <span class="id" title="tactic">exact</span> <span class="id" title="var">r</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrel_eq</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">binopeqrelpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">eqrelpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">hProppair</span> (<span class="id" title="var">x</span> = <span class="id" title="var">x'</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">iseqrelconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">r1</span> @ <span class="id" title="var">r2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exact</span> (!<span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">mk_isbinophrel</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binopeqrel_of_binopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">pullback_binopeqrel</span> <span class="id" title="var">f</span> (<span class="id" title="var">binopeqrel_eq</span> <span class="id" title="var">Y</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomprelfun_generated_binopeqrel</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">iscomprelfun</span> <span class="id" title="var">R</span> <span class="id" title="var">f</span>) : <span class="id" title="var">iscomprelfun</span> (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">r</span> (<span class="id" title="var">binopeqrel_of_binopfun</span> <span class="id" title="var">f</span>) <span class="id" title="var">H</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomprelrelfun_generated_binopeqrel</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} {<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">iscomprelrelfun</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun</span> (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">R</span>) (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">S</span>) <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">r</span> (<span class="id" title="var">pullback_binopeqrel</span> <span class="id" title="var">f</span> (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">S</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">r'</span> <span class="id" title="var">S'</span> <span class="id" title="var">s</span>. <span class="id" title="var">use</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">r'</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomprelrelfun_generated_binopeqrel_rev</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} {<span class="id" title="var">S</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> (<span class="id" title="var">setwithbinop_rev</span> <span class="id" title="var">Y</span>)) (<span class="id" title="var">H</span> : <span class="id" title="var">iscomprelrelfun</span> <span class="id" title="var">R</span> <span class="id" title="var">S</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrelfun</span> (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">R</span>) (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">S</span>) <span class="id" title="var">f</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">r</span> (<span class="id" title="var">pullback_binopeqrel_rev</span> <span class="id" title="var">f</span> (<span class="id" title="var">generated_binopeqrel</span> <span class="id" title="var">S</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">r'</span> <span class="id" title="var">S'</span> <span class="id" title="var">s</span>. <span class="id" title="var">use</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">r'</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab407"></a><h4 class="section">Relations inversely compatible with a binary operation</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) -&gt;  <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvbinophrellogeqf</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} {<span class="id" title="var">L</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="var">lg</span> : <span class="id" title="var">hrellogeq</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : <span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">L</span>) : <span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr2</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropisinvbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isapropdirprod</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isinvbinophrelif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>,  <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">rab</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ispartinvbinophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isinvbinoptoispartinvbinop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">L</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d2</span> : <span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">L</span>) : <span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">L</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isinvbinophrel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d2</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">ispartinvbinophrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">d2</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">d2</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">ispartinvbinophrellogeqf</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) {<span class="id" title="var">L</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lg</span> : <span class="id" title="var">hrellogeq</span> <span class="id" title="var">L</span> <span class="id" title="var">R</span>) (<span class="id" title="var">isl</span> : <span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">L</span>) : <span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">lg</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ((<span class="id" title="var">pr2</span> <span class="id" title="var">isl</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">lg</span>  <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">rab</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ispartinvbinophrelif</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">S</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomm</span> (@<span class="id" title="var">op</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : ∏ <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">X</span>, <span class="id" title="var">S</span> <span class="id" title="var">c</span> -&gt; <span class="id" title="var">R</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>) -&gt; <span class="id" title="var">R</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) : <span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">S</span> <span class="id" title="var">R</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">isl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span> <span class="id" title="var">rab</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab408"></a><h4 class="section">Homomorphisms and relations</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">binophrelandfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : @<span class="id" title="var">isbinophrel</span> <span class="id" title="var">Y</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;@<span class="id" title="var">isbinophrel</span> <span class="id" title="var">X</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>, <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ish</span> := (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) : ∏ <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">f</span> <span class="id" title="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">r</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ispartbinophrelandfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">SX</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">SY</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">iss</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">SX</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">SY</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : @<span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">Y</span> <span class="id" title="var">SY</span> <span class="id" title="var">R</span>) : @<span class="id" title="var">ispartbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">SX</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>, <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ish</span> := (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) : ∏ <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">f</span> <span class="id" title="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iss</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iss</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="var">r</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">invbinophrelandfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : @<span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">Y</span> <span class="id" title="var">R</span>) : @<span class="id" title="var">isinvbinophrel</span> <span class="id" title="var">X</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>, <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ish</span> := (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) : ∏ <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">f</span> <span class="id" title="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">ispartinvbinophrelandfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">binopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">SX</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">SY</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">iss</span> : ∏ <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, (<span class="id" title="var">SX</span> <span class="id" title="var">x</span>) -&gt; (<span class="id" title="var">SY</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>))) (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : @<span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">Y</span> <span class="id" title="var">SY</span> <span class="id" title="var">R</span>) : @<span class="id" title="var">ispartinvbinophrel</span> <span class="id" title="var">X</span> <span class="id" title="var">SX</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>, <span class="id" title="var">R</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ish</span> := (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>) : ∏ <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op</span> <span class="id" title="var">a0</span> <span class="id" title="var">b0</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">f</span> <span class="id" title="var">a0</span>) (<span class="id" title="var">f</span> <span class="id" title="var">b0</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iss</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ish</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ((<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iss</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="var">r</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab409"></a><h4 class="section">Quotient relations</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinopquotrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwithbinop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">binopeqrel</span> <span class="id" title="var">X</span>) {<span class="id" title="var">L</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>} (<span class="id" title="keyword">is</span> : <span class="id" title="var">iscomprelrel</span> <span class="id" title="var">R</span> <span class="id" title="var">L</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isl</span> : <span class="id" title="var">isbinophrel</span> <span class="id" title="var">L</span>) : @<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">setwithbinopquot</span> <span class="id" title="var">R</span>) (<span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinophrel</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">setwithbinopquot</span> <span class="id" title="var">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotuniv3prop</span> <span class="id" title="var">R</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">int</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">isl</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">int</span> : ∏ (<span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">setwithbinopquot</span> <span class="id" title="var">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> -&gt; <span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">op</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">quotrel</span> <span class="id" title="keyword">is</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setquotuniv3prop</span> <span class="id" title="var">R</span> (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>, <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> (<span class="id" title="var">int</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">isl</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab410"></a><h4 class="section">Direct products</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinopdirprod</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwithbinop</span>) : <span class="id" title="var">setwithbinop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">setdirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">binop</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">λ</span> <span class="id" title="var">xy</span> <span class="id" title="var">xy'</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">op</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">xy'</span>)) (<span class="id" title="var">op</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">xy'</span>))).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab411"></a><h3 class="section">Sets with two binary operations</h3>

<div class="paragraph"> </div>

<a name="lab412"></a><h4 class="section">General definitions</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binop</span> : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>) × (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binoppair</span> (<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>) (<span class="id" title="var">opps</span> : (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>) × (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">setwith2binop</span> := <span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>) × (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>)) <span class="id" title="var">X</span> <span class="id" title="var">opps</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1setwith2binop</span> : <span class="id" title="var">setwith2binop</span> -&gt; <span class="id" title="var">hSet</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>, (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>) × (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>)).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1setwith2binop</span> : <span class="id" title="var">setwith2binop</span> &gt;-&gt; <span class="id" title="var">hSet</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">op1</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} : <span class="id" title="var">binop</span> <span class="id" title="var">X</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">op2</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} : <span class="id" title="var">binop</span> <span class="id" title="var">X</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop1</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">setwithbinop</span> := <span class="id" title="var">setwithbinoppair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwithbinop2</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">setwithbinop</span> := <span class="id" title="var">setwithbinoppair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> &quot;x + y" := (<span class="id" title="var">op1</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">twobinops_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> &quot;x * y" := (<span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) : <span class="id" title="var">twobinops_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isasettwobinoponhSet</span> (<span class="id" title="var">X</span> : <span class="id" title="var">hSet</span>) : <span class="id" title="var">isaset</span> ((<span class="id" title="var">binop</span> <span class="id" title="var">X</span>) × (<span class="id" title="var">binop</span> <span class="id" title="var">X</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isasetdirprod</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isasetbinoponhSet</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isasetbinoponhSet</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isasettwobinoponhSet</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab413"></a><h4 class="section">Functions compatible with a pair of binary operation (homomorphisms) and their properties</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">istwobinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">op1</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">op2</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>))).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">mk_istwobinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : ∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op1</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">op1</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : ∏ <span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">X</span>, <span class="id" title="var">paths</span> (<span class="id" title="var">f</span> (<span class="id" title="var">op2</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>)) (<span class="id" title="var">op2</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">f</span> <span class="id" title="var">x'</span>))) :<br/>
&nbsp;&nbsp;<span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span> := <span class="id" title="var">dirprodpair</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropistwobinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isofhleveldirprod</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span> =&gt; <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopfunpair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; (<span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>) := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinopfun</span> : <span class="id" title="var">twobinopfun</span> &gt;-&gt; <span class="id" title="var">Funclass</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop1fun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopfun</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopfunpair</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop2fun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopfun</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopfunpair</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopfun_paths</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">g</span>) : <span class="id" title="var">f</span> = <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropistwobinopfun</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">twobinopfun_paths</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isasettwobinopfun</span>  (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">isaset</span> (<span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isasetsubset</span> (<span class="id" title="var">pr1twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<span class="id" title="var">isofhlevel</span> 2 (<span class="id" title="var">X</span> -&gt; <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="var">isinclpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropistwobinopfun</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isasettwobinopfun</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">istwobinopfuncomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">istwobinopfun</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax1f</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">set</span> (<span class="id" title="var">ax2f</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax1g</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">g</span>)). <span class="id" title="tactic">set</span> (<span class="id" title="var">ax2g</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1g</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2g</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">istwobinopfuncomp</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopfuncomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">twobinopfun</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">twobinopfunpair</span> (<span class="id" title="var">funcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">istwobinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span> : <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopmonopair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">incl</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinopmono</span> : <span class="id" title="var">twobinopmono</span> &gt;-&gt; <span class="id" title="var">incl</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopincltotwobinopfun</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">twobinopfunpair</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">twobinopincltotwobinopfun</span> : <span class="id" title="var">twobinopmono</span> &gt;-&gt; <span class="id" title="var">twobinopfun</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop1mono</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopmono</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopmonopair</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop2mono</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopmono</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopmonopair</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopmonocomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">twobinopmonopair</span> (<span class="id" title="var">inclcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">istwobinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopiso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">f</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>, <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopisopair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">istwobinopfun</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">tpair</span> <span class="id" title="var">_</span>  <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinopiso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">X</span> ≃ <span class="id" title="var">Y</span> := @<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinopiso</span> : <span class="id" title="var">twobinopiso</span> &gt;-&gt; <span class="id" title="var">weq</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopisototwobinopmono</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">λ</span> <span class="id" title="var">f</span>, <span class="id" title="var">twobinopmonopair</span> (<span class="id" title="var">weqtoincl</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">twobinopisototwobinopmono</span> : <span class="id" title="var">twobinopiso</span> &gt;-&gt; <span class="id" title="var">twobinopmono</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopisototwobinopfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopfun</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := <span class="id" title="var">twobinopfunpair</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">twobinopiso_paths</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">e</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">g</span>) : <span class="id" title="var">f</span> = <span class="id" title="var">g</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropistwobinopfun</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">twobinopiso_paths</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop1iso</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopisopair</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">binop2iso</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">binopiso</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">binopisopair</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopisocomp</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Z</span> := <span class="id" title="var">twobinopisopair</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) (<span class="id" title="var">istwobinopfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">istwobinopfuninvmap</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">istwobinopfun</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax1f</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">set</span> (<span class="id" title="var">ax2f</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op1</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>) (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>) (<span class="id" title="var">invmap</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">homotweqinvweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">istwobinopfuninvmap</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">invtwobinopiso</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">twobinopiso</span> <span class="id" title="var">Y</span> <span class="id" title="var">X</span> := <span class="id" title="var">twobinopisopair</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">istwobinopfuninvmap</span> <span class="id" title="var">f</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">idtwobinopiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">twobinopisopair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">idweq</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_istwobinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab414"></a><h4 class="section">X = Y ≃ (X ≃ Y)</h4>

   The idea is to use the composition X = Y ≃ X ╝ Y ≃ (twobinopiso X Y)

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binop_univalence_weq1</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">X</span> ╝ <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2_paths_equiv</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binop_univalence_weq2</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : (<span class="id" title="var">X</span> ╝ <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqbandf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">hSet_univalence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">invweq</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">X</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">X</span> <span class="id" title="var">Xop</span>]. <span class="id" title="tactic">induction</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Y</span> <span class="id" title="var">Yop</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqimplimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">dirprod_pr1</span> <span class="id" title="var">i</span>) <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> ((<span class="id" title="var">dirprod_pr2</span> <span class="id" title="var">i</span>) <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">Xop</span> = <span class="id" title="var">Yop</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_istwobinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isapropistwobinopfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">isasettwobinoponhSet</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">setwith2binop_univalence_weq2</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binop_univalence_map</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">X</span> = <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">idtwobinopiso</span> <span class="id" title="var">X</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">setwith2binop_univalence_isweq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isweq</span> (<span class="id" title="var">setwith2binop_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweqhomot</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">setwith2binop_univalence_weq1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">setwith2binop_univalence_weq2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">weqcomp_to_funcomp_app</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">weqproperty</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">setwith2binop_univalence_isweq</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binop_univalence</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : (<span class="id" title="var">X</span> = <span class="id" title="var">Y</span>) ≃ (<span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">setwith2binop_univalence_map</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">setwith2binop_univalence_isweq</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">setwith2binop_univalence</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab415"></a><h4 class="section">Transport of properties of a pair of binary operations</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isldistrmonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isldistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isldistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax1f</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">set</span> (<span class="id" title="var">ax2f</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">c</span> (<span class="id" title="var">op1</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>))) ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op1</span> (<span class="id" title="var">op2</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">c</span> (<span class="id" title="var">op1</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> (<span class="id" title="var">op2</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">c</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isldistrmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrdistrmonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">isrdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">ax1f</span> := <span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">set</span> (<span class="id" title="var">ax2f</span> := <span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">invmaponpathsincl</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">paths</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op2</span> (<span class="id" title="var">op1</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span>)) ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">op1</span> (<span class="id" title="var">op2</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> (<span class="id" title="var">op1</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax1f</span> (<span class="id" title="var">op2</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>) (<span class="id" title="var">op2</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">ax2f</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="keyword">is</span>.<br/>
</div>
<span class="id" title="keyword">Opaque</span> <span class="id" title="var">isrdistrmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isdistrmonob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopmono</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) := <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isldistrmonob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="keyword">is</span>)) (<span class="id" title="var">isrdistrmonob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">isldistrisob</span> := <span class="id" title="var">isldistrmonob</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">isrdistrisob</span> := <span class="id" title="var">isrdistrmonob</span>.<br/>
<span class="id" title="keyword">Notation</span> <span class="id" title="var">isdistrisob</span> := <span class="id" title="var">isdistrmonob</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isldistrisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isldistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isldistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isldistrisob</span> (<span class="id" title="var">invtwobinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isrdistrisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isrdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isrdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isrdistrisob</span> (<span class="id" title="var">invtwobinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isdistrisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">isdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isdistr</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isdistrisob</span> (<span class="id" title="var">invtwobinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrigopsisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">isrigops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isabmonoidopisof</span> (<span class="id" title="var">binop1iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">rigop1axs_is</span> <span class="id" title="keyword">is</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ismonoidopisof</span> (<span class="id" title="var">binop2iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">rigop2axs_is</span> <span class="id" title="keyword">is</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">unel_is</span> (<span class="id" title="var">ismonoidopisof</span> (<span class="id" title="var">binop1iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">rigop1axs_is</span> <span class="id" title="keyword">is</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">rigunel1_is</span> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)). <span class="id" title="tactic">apply</span> (<span class="id" title="var">rigmult0x_is</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">homotweqinvweq</span> <span class="id" title="var">f</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pathsinv0</span> ((<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">rigmultx0_is</span> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">isdistrisof</span> <span class="id" title="var">f</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">rigdistraxs_is</span> <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isrigopsisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isrigops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">isrigops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isrigopsisof</span> (<span class="id" title="var">invtwobinopiso</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">is</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isringopsisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">isringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isabgropisof</span> (<span class="id" title="var">binop1iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ismonoidopisof</span> (<span class="id" title="var">binop2iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isdistrisof</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">isringopsisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">isringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">isringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isabgropisob</span> (<span class="id" title="var">binop1iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">ringop1axs_is</span> <span class="id" title="keyword">is</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ismonoidopisob</span> (<span class="id" title="var">binop2iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">ringop2axs_is</span> <span class="id" title="keyword">is</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isdistrisob</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscommringopsisof</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">iscommringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)) : <span class="id" title="var">iscommringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isringopsisof</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisof</span> (<span class="id" title="var">binop2iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">iscommringopsisob</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">twobinopiso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">is</span> : <span class="id" title="var">iscommringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">Y</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">Y</span>)) : <span class="id" title="var">iscommringops</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprodpair</span> (<span class="id" title="var">isringopsisob</span> <span class="id" title="var">f</span> <span class="id" title="keyword">is</span>) (<span class="id" title="var">iscommisob</span> (<span class="id" title="var">binop2iso</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr2</span> <span class="id" title="keyword">is</span>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab416"></a><h4 class="section">Subobjects</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">issubsetwith2binop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (∏ <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">A</span> (<span class="id" title="var">op1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>))) (∏ <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">A</span> (<span class="id" title="var">op2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropissubsetwith2binop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">isaprop</span> (<span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">A</span> (<span class="id" title="var">op1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>)))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">A</span> (<span class="id" title="var">op2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">a'</span>)))).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswith2binop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswith2binoppair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>) <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">subsetswith2binopconstr</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>) <span class="id" title="var">t</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∑ <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">subsetswith2binoppair</span> <span class="id" title="var">X</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1subsetswith2binop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">subsetswith2binop</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> : <span class="id" title="var">hsubtype</span> <span class="id" title="var">X</span>, <span class="id" title="var">issubsetwith2binop</span> <span class="id" title="var">A</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1subsetswith2binop</span> : <span class="id" title="var">subsetswith2binop</span> &gt;-&gt; <span class="id" title="var">hsubtype</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">totalsubsetwith2binop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">subsetswith2binop</span> <span class="id" title="var">X</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">λ</span> <span class="id" title="var">x</span> : <span class="id" title="var">X</span>, <span class="id" title="var">htrue</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">tt</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">tt</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">carrierofsubsetwith2binop</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">A</span> : <span class="id" title="var">subsetswith2binop</span> <span class="id" title="var">X</span>) : <span class="id" title="var">setwith2binop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">aset</span> := (<span class="id" title="var">hSetpair</span> (<span class="id" title="var">carrier</span> <span class="id" title="var">A</span>) (<span class="id" title="var">isasetsubset</span> (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">A</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">X</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinclpr1carrier</span> <span class="id" title="var">A</span>))) : <span class="id" title="var">hSet</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">aset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">subopp1</span> := (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">carrierpair</span> <span class="id" title="var">A</span> (<span class="id" title="var">op1</span> (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">A</span>) <span class="id" title="var">a</span> <span class="id" title="var">a'</span>)) : (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">subopp2</span> := (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> : <span class="id" title="var">A</span>, <span class="id" title="var">carrierpair</span> <span class="id" title="var">A</span> (<span class="id" title="var">op2</span> (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a</span>) (<span class="id" title="var">pr1carrier</span> <span class="id" title="var">_</span> <span class="id" title="var">a'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">A</span>) <span class="id" title="var">a</span> <span class="id" title="var">a'</span>)) : (<span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span> -&gt; <span class="id" title="var">A</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">subopp1</span> <span class="id" title="var">subopp2</span>).<br/>
</div>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">carrierofsubsetwith2binop</span> : <span class="id" title="var">subsetswith2binop</span> &gt;-&gt; <span class="id" title="var">setwith2binop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab417"></a><h4 class="section">Quotient objects</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">is2binophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">UU</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (@<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) <span class="id" title="var">R</span>) (@<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapropis2binophrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">isaprop</span> (<span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">isofhleveldirprod</span> 1).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisbinophrel</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isapropisbinophrel</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscomp2binoptransrel</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>) (<span class="id" title="keyword">is</span> : <span class="id" title="var">istrans</span> <span class="id" title="var">R</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isb</span> : <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">dirprod</span> (<span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>)) (<span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (@<span class="id" title="var">iscompbinoptransrel</span> (<span class="id" title="var">setwithbinop1</span> <span class="id" title="var">X</span>) <span class="id" title="var">R</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">isb</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (@<span class="id" title="var">iscompbinoptransrel</span> (<span class="id" title="var">setwithbinop2</span> <span class="id" title="var">X</span>) <span class="id" title="var">R</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">isb</span>)).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinophrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinophrelpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinophrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinophrel</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">hrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">hrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinophrel</span> : <span class="id" title="var">twobinophrel</span> &gt;-&gt; <span class="id" title="var">hrel</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinoppo</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinoppopair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinoppo</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinoppo</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">po</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">po</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinoppo</span> : <span class="id" title="var">twobinoppo</span> &gt;-&gt; <span class="id" title="var">po</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopeqrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">UU</span> := <span class="id" title="var">total2</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">twobinopeqrelpair</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} :<br/>
&nbsp;&nbsp;∏ (<span class="id" title="var">t</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>), (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>) <span class="id" title="var">t</span> → ∑ <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">pr1twobinopeqrel</span> (<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">twobinopeqrel</span> <span class="id" title="var">X</span> -&gt; <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span> :=<br/>
&nbsp;&nbsp;@<span class="id" title="var">pr1</span> <span class="id" title="var">_</span> (<span class="id" title="var">λ</span> <span class="id" title="var">R</span> : <span class="id" title="var">eqrel</span> <span class="id" title="var">X</span>, <span class="id" title="var">is2binophrel</span> <span class="id" title="var">R</span>).<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">pr1twobinopeqrel</span> : <span class="id" title="var">twobinopeqrel</span> &gt;-&gt; <span class="id" title="var">eqrel</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binopquot</span> {<span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span>} (<span class="id" title="var">R</span> : <span class="id" title="var">twobinopeqrel</span> <span class="id" title="var">X</span>) : <span class="id" title="var">setwith2binop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">setquotinset</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qt</span> := <span class="id" title="var">setquot</span> <span class="id" title="var">R</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">qtset</span> := <span class="id" title="var">setquotinset</span> <span class="id" title="var">R</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">iscomp1</span> : <span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscomp2binoptransrel</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">R</span>) (<span class="id" title="var">eqreltrans</span> <span class="id" title="var">_</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qtop1</span> := <span class="id" title="var">setquotfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) <span class="id" title="var">iscomp1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">iscomp2</span> : <span class="id" title="var">iscomprelrelfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscomp2binoptransrel</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">R</span>) (<span class="id" title="var">eqreltrans</span> <span class="id" title="var">_</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">R</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">qtop2</span> := <span class="id" title="var">setquotfun2</span> <span class="id" title="var">R</span> <span class="id" title="var">R</span> (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>) <span class="id" title="var">iscomp2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span> <span class="id" title="var">qtop1</span> <span class="id" title="var">qtop2</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab418"></a><h4 class="section">Direct products</h4>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">setwith2binopdirprod</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">setwith2binop</span>) : <span class="id" title="var">setwith2binop</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">setdirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">dirprodpair</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">xy</span> <span class="id" title="var">xy'</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">op1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">xy'</span>)) (<span class="id" title="var">op1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">xy'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">λ</span> <span class="id" title="var">xy</span> <span class="id" title="var">xy'</span> : <span class="id" title="var">dirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>, <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">op2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">xy'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">op2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">xy</span>) (<span class="id" title="var">pr2</span> <span class="id" title="var">xy'</span>)))).<br/>
</div>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="https://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>