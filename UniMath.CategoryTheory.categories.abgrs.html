<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="http://code.jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.CategoryTheory.categories.abgrs</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab1335"></a><h1 class="section">Category of abelian groups</h1>
<a name="lab1336"></a><h2 class="section">Contents</h2>

<ul class="doclist">
<li> Precategory of abelian groups

</li>
<li> Category of abelian groups

</li>
<li> Zero object and Zero arrow
<ul class="doclist">
<li> Zero object

</li>
<li> Zero arrow

</li>
</ul>

</li>
<li> Category of abelian groups is preadditive

</li>
<li> Category of abelian groups is additive

</li>
<li> Kernels and Cokernels
<ul class="doclist">
<li> Kernels

</li>
<li> Cokernels

</li>
</ul>

</li>
<li> Monics are inclusions and Epis are surjections
<ul class="doclist">
<li> Epis are surjections

</li>
<li> Monics are inclusions

</li>
</ul>

</li>
<li> Monics are kernels of their cokernels and epis are cokernels of their kernels
<ul class="doclist">
<li> Monics are Kernels

</li>
<li> Epis are Cokernels

</li>
</ul>

</li>
<li> The category of abelian groups is an abelian category

</li>
<li> Corollaries to additive categories

</li>
</ul>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.PartD</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Propositions</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.Sets</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Foundations.UnivalenceAxiom</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.BinaryOperations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.Groups</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.Monoids</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.NumberSystems.Integers</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.total2_paths</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Categories</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Isos</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Univalence</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Core.Functors</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Monics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Epis</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.CategoriesWithBinOps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.PrecategoriesWithAbgrops</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.PreAdditive</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Additive</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.Abelian</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.zero</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.binproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.bincoproducts</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.equalizers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.coequalizers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.kernels</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.cokernels</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.CategoryTheory.limits.BinDirectSums</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">cat</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1337"></a><h1 class="section">Precategory of abelian groups</h1>

<ul class="doclist">
<li> Objects are abelian groups, <span class="inlinecode"><span class="id" title="var">abgr</span></span>.

</li>
<li> Morphisms are monoidfuns, <span class="inlinecode"><span class="id" title="var">monoidfun</span></span>.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">def_abgr_precategory</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1338"></a><h2 class="section">precategory_data</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_fun_space</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) : <span class="id" title="var">hSet</span> := <span class="id" title="var">hSetpair</span> (<span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">isasetmonoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_precategory_ob_mor</span> : <span class="id" title="var">precategory_ob_mor</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> (<span class="id" title="var">λ</span> <span class="id" title="var">ob</span> : <span class="id" title="var">UU</span>, <span class="id" title="var">ob</span> -&gt; <span class="id" title="var">ob</span> -&gt; <span class="id" title="var">UU</span>) <span class="id" title="var">abgr</span> (<span class="id" title="var">λ</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>, <span class="id" title="var">abgr_fun_space</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_precategory_data</span> : <span class="id" title="var">precategory_data</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">precategory_data_pair</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_precategory_ob_mor</span> (<span class="id" title="var">λ</span> (<span class="id" title="var">A</span> : <span class="id" title="var">abgr</span>), ((<span class="id" title="var">idmonoidiso</span> <span class="id" title="var">A</span>) : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>) =&gt; <span class="id" title="var">monoidfuncomp</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab1339"></a><h2 class="section">is_precategory</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_precategory_abgr_precategory_data</span> : <span class="id" title="var">is_precategory</span> <span class="id" title="var">abgr_precategory_data</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_precategory_one_assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfunidleft</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">f</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfunidright</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfunassoc</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1340"></a><h2 class="section">precategory and category</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_precategory</span> : <span class="id" title="var">precategory</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_precategory</span> <span class="id" title="var">abgr_precategory_data</span> <span class="id" title="var">is_precategory_abgr_precategory_data</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">has_homsets_abgr</span> : <span class="id" title="var">has_homsets</span> <span class="id" title="var">abgr_precategory</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="var">use</span> <span class="id" title="var">isasetmonoidfun</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_category</span> : <span class="id" title="var">category</span> := <span class="id" title="var">category_pair</span> <span class="id" title="var">abgr_precategory</span> <span class="id" title="var">has_homsets_abgr</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">def_abgr_precategory</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1341"></a><h1 class="section">Category of abelian groups</h1>

<ul class="doclist">
<li> (monoidiso X Y) ≃ (iso X Y)

</li>
<li> Category of abelian groups

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">def_abgr_category</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1342"></a><h2 class="section">(monoidiso X Y) ≃ (iso X Y)</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_iso_is_equiv</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">iso</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1monoidfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">inv_from_iso</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">subtypeInjectivity</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_inv_after_iso</span> <span class="id" title="var">f</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">subtypeInjectivity</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iso_after_iso_inv</span> <span class="id" title="var">f</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropismonoidfun</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_iso_equiv</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) : <span class="id" title="var">iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> -&gt; <span class="id" title="var">monoidiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidisopair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">weqpair</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">abgr_iso_is_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_equiv_is_iso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">monoidiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">is_iso</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">is_iso_qinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">invmonoidiso</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_is_inverse_in_precat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">homotinvweqweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="var">use</span> <span class="id" title="var">homotweqinvweq</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_equiv_iso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">monoidiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> := @<span class="id" title="var">isopair</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">abgr_equiv_is_iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_iso_equiv_is_equiv</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">abgr_category</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">abgr_iso_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_equiv_iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">eq_iso</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidiso_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_iso_equiv_weq</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">weq</span> (<span class="id" title="var">iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">monoidiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_iso_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_iso_equiv_is_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_equiv_iso_is_equiv</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">abgr_equiv_iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isweq_iso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_iso_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidiso_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">subtypeEquality</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropisweq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">eq_iso</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_equiv_weq_iso</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">monoidiso</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>)) ≃ (<span class="id" title="var">iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">weqpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_equiv_iso</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_equiv_iso_is_equiv</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1343"></a><h2 class="section">Category of abelian groups</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_category_isweq</span> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <span class="id" title="var">ob</span> <span class="id" title="var">abgr_category</span>) : <span class="id" title="var">isweq</span> (<span class="id" title="var">λ</span> <span class="id" title="var">p</span> : <span class="id" title="var">a</span> = <span class="id" title="var">b</span>, <span class="id" title="var">idtoiso</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">isweqhomot</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> = <span class="id" title="var">b</span>) (<span class="id" title="var">iso</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1weq</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">abgr_univalence</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">abgr_equiv_weq_iso</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">weqproperty</span> (<span class="id" title="var">weqcomp</span> (<span class="id" title="var">abgr_univalence</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="var">abgr_equiv_weq_iso</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">weqcomp_to_funcomp_app</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isaprop_is_iso</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_category_is_univalent</span> : <span class="id" title="var">is_univalent</span> <span class="id" title="var">abgr_category</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">dirprodpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_category_isweq</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">has_homsets_abgr</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_univalent_category</span> : <span class="id" title="var">univalent_category</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_category</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">abgr_category_is_univalent</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">def_abgr_category</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1344"></a><h1 class="section">Zero object and Zero arrow</h1>

<ul class="doclist">
<li> Zero object is the abelian group which consists of one element, the unit element.

</li>
<li> The unique morphism to zero object maps every element to the unit element.

</li>
<li> The unique morphism from the zero object maps unit to unit.

</li>
<li> The unique morphisms which factors through zero object maps every element to the unit
     element.

</li>
<li> Computations on zero object

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">def_abgr_zero</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1345"></a><h2 class="section">Zero in abelian category</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isconnectedfromunitabgr</span> (<span class="id" title="var">a</span> : <span class="id" title="var">abgr_category</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">unitabgr</span>, <span class="id" title="var">a</span>⟧):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">unitabgr</span> (<span class="id" title="var">a</span> : <span class="id" title="var">abgr</span>)) = <span class="id" title="var">abgrfunfromunit</span> (<span class="id" title="var">a</span> : <span class="id" title="var">abgr</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">t</span>)). <span class="id" title="var">use</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="var">use</span> <span class="id" title="var">isProofIrrelevantUnit</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isconnectedtounitabgr</span> (<span class="id" title="var">a</span> : <span class="id" title="var">abgr_category</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">a</span>, <span class="id" title="var">unitabgr</span>⟧):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">a</span> : <span class="id" title="var">abgr</span>) <span class="id" title="var">unitabgr</span>) = <span class="id" title="var">abgrfuntounit</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">isProofIrrelevantUnit</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isZero</span> : <span class="id" title="var">isZero</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">unitabgr</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isZero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgrfunfromunit</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">isconnectedfromunitabgr</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgrfuntounit</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">isconnectedtounitabgr</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Zero</span> : <span class="id" title="var">Zero</span> <span class="id" title="var">abgr_category</span> := @<span class="id" title="var">mk_Zero</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">unitabgr</span> <span class="id" title="var">abgr_isZero</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1346"></a><h2 class="section">Computations on zero object</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Zero_comp</span> : <span class="id" title="var">ZeroObject</span> (<span class="id" title="var">abgr_Zero</span>) = <span class="id" title="var">unitabgr</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Zero_from_comp</span> (<span class="id" title="var">A</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ZeroArrowFrom</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> = <span class="id" title="var">abgrfunfromunit</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Zero_to_comp</span> (<span class="id" title="var">A</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ZeroArrowTo</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> = <span class="id" title="var">abgrfuntounit</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Zero_arrow_comp</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> = <span class="id" title="var">unelabgrfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">def_abgr_zero</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1347"></a><h1 class="section">Preadditive structure on the category of abelian groups</h1>

<ul class="doclist">
<li> Binary operation on homsets.

</li>
<li> Abelian group structure on homsets

</li>
<li> PreAdditive structure on the category of abelian groups

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_preadditive</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1348"></a><h2 class="section">Binary operations on homsets</h2>

      Let f, g : X --&gt; Y be morphisms in the category of abelian groups. Then f + g is defined to be
      the morphism (f + g) x = (f x) + (g x). This gives <span class="inlinecode"><span class="id" title="var">precategoryWithBinOps</span></span> structure on the
      category.
  
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_WithBinOpsData</span> : <span class="id" title="var">precategoryWithBinOpsData</span> <span class="id" title="var">abgr_category</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">exact</span> (@<span class="id" title="var">abmonoidshombinop</span> (<span class="id" title="var">X</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_WithBinOps</span> : <span class="id" title="var">precategoryWithBinOps</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_precategoryWithBinOps</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">abgr_WithBinOpsData</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1349"></a><h2 class="section"><span class="inlinecode"><span class="id" title="var">categoryWithAbgrops</span></span> structure on the category of abelian groups</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_WithAbGrops</span> : <span class="id" title="var">categoryWithAbgrops</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_categoryWithAbgrops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">abgr_WithBinOps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_categoryWithAbgropsData</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">exact</span> (@<span class="id" title="var">abgrshomabgr_isabgrop</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1350"></a><h2 class="section"><span class="inlinecode"><span class="id" title="var">PreAdditive</span></span> structure on the category of abelian groups</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isPreAdditive</span> : <span class="id" title="var">isPreAdditive</span> <span class="id" title="var">abgr_WithAbGrops</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isPreAdditive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> ((<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_PreAdditive</span> : <span class="id" title="var">PreAdditive</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_PreAdditive</span> <span class="id" title="var">abgr_WithAbGrops</span> <span class="id" title="var">abgr_isPreAdditive</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_preadditive</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1351"></a><h1 class="section">Additive structure on the category of abelian groups</h1>

<ul class="doclist">
<li> Direct sums

</li>
<li> Additive category structure

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_additive</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1352"></a><h2 class="section">Direct sums</h2>

     Direct sum of X and Y is given by the direct product abelian group X × Y. The inclusions
     and projections are given by
<ul class="doclist">
<li> In1 :  x ↦ (x, 0)

</li>
<li> In2 :  y ↦ (0, y)

</li>
<li> Pr1 :  (x, y) ↦ x

</li>
<li> Pr2 :  (x, y) ↦ y

</li>
</ul>
   
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumPr1_ismonoidfun</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, <span class="id" title="var">dirprod_pr1</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_DirectSumPr1</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, <span class="id" title="var">A</span>⟧ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_DirectSumPr1_ismonoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumPr2_ismonoidfun</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">λ</span> <span class="id" title="var">X</span> : <span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, <span class="id" title="var">dirprod_pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_DirectSumPr2</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>, <span class="id" title="var">B</span>⟧ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_DirectSumPr2_ismonoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumIn1_ismonoidfun</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> <span class="id" title="var">A</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">dirprodpair</span> <span class="id" title="var">a</span> (<span class="id" title="var">unel</span> <span class="id" title="var">B</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="var">use</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_DirectSumIn1</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>⟧ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_DirectSumIn1_ismonoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumIn2_ismonoidfun</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> <span class="id" title="var">B</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">λ</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, <span class="id" title="var">dirprodpair</span> (<span class="id" title="var">unel</span> <span class="id" title="var">A</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="var">use</span> (<span class="id" title="var">runax</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_DirectSumIn2</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>⟧ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_DirectSumIn2_ismonoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumIdIn1</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_DirectSumIn1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumPr1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> = (<span class="id" title="var">idmonoidiso</span> <span class="id" title="var">A</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumIdIn2</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_DirectSumIn2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumPr2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> = (<span class="id" title="var">idmonoidiso</span> <span class="id" title="var">B</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumUnel1</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_DirectSumIn1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumPr2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> = @<span class="id" title="var">to_unel</span> <span class="id" title="var">abgr_PreAdditive</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumUnel2</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_DirectSumIn2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumPr1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> = @<span class="id" title="var">to_unel</span> <span class="id" title="var">abgr_PreAdditive</span> <span class="id" title="var">B</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_DirectSumId</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">abmonoidshombinop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_DirectSumPr1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumIn1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_DirectSumPr2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> · <span class="id" title="var">abgr_DirectSumIn2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">idmonoidiso</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)) : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)) .<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">dirprod_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">runax</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">B</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_isBinDirectSum</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span> : <span class="id" title="var">abgr</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isBinDirectSum</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_PreAdditive</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">abgr_DirectSumIn1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">abgr_DirectSumIn2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_DirectSumPr1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) (<span class="id" title="var">abgr_DirectSumPr2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isBinDirectSum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumIdIn1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumIdIn2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumUnel1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumUnel2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumId</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_AdditiveStructure</span> : <span class="id" title="var">AdditiveStructure</span> <span class="id" title="var">abgr_PreAdditive</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_AdditiveStructure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">abgr_Zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_BinDirectSums</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="var">use</span> <span class="id" title="var">mk_BinDirectSum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgrdirprod</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumIn1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumIn2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumPr1</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_DirectSumPr2</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isBinDirectSum</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Additive</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span> := <span class="id" title="var">mk_Additive</span> <span class="id" title="var">abgr_PreAdditive</span> <span class="id" title="var">abgr_AdditiveStructure</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_additive</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1353"></a><h1 class="section">Kernels and Cokernels</h1>

<ul class="doclist">
<li> Kernels in the category of abelian groups

</li>
<li> Cokernels in the category of abelian groups

</li>
</ul>
 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_kernels_and_cokernels</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel_monoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">carrierofasubabgr</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>), <span class="id" title="var">A</span>⟧ :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidincltomonoidfun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>) <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">monoidmonopair</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>) <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inclpair</span> (<span class="id" title="var">pr1carrier</span> (<span class="id" title="var">abgr_kernel_hsubtype</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isinclpr1carrier</span> (<span class="id" title="var">abgr_kernel_hsubtype</span> <span class="id" title="var">f</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Kernel_monoidfun_ismonoidfun</span> <span class="id" title="var">f</span>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab1354"></a><h3 class="section">Composition Kernel f --&gt; X --&gt; Y is the zero arrow</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_Kernel_monoidfun</span> <span class="id" title="var">f</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">carrierofasubabgr</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>)) <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">monoidfun_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">funextfun</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1355"></a><h3 class="section">KernelIn morphism</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_KernelArrowIn_map_property</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) (<span class="id" title="var">c</span> : (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span>) = 1%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="var">c</span>)). <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_KernelArrowIn_map</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) (<span class="id" title="var">c</span> : (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>)) : <span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_KernelArrowIn_map_property</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span> <span class="id" title="var">H</span> <span class="id" title="var">c</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_KernelArrowIn_ismonoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>) (@<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>) (@<span class="id" title="var">abgr_KernelArrowIn_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">binopfunisbinopfun</span> (<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">A</span> : <span class="id" title="var">abgr</span>)) <span class="id" title="var">x</span> <span class="id" title="var">x'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">propproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">propproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_KernelArrowIn</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">h</span> : <span class="id" title="var">C</span> --&gt; <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">carrierofasubabgr</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>)⟧.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfunconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_KernelArrowIn_map</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_KernelArrowIn_ismonoidfun</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1356"></a><h3 class="section">Kernels</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel_isKernel_KernelArrrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">A</span>⟧) (<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">carrierofasubabgr</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>)⟧,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ψ · <span class="id" title="var">abgr_Kernel_monoidfun</span> <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_KernelArrowIn</span> <span class="id" title="var">h</span> <span class="id" title="var">f</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel_isKernel_uniqueness</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">A</span>⟧) (<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : ∑ (<span class="id" title="var">t1</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">carrierofasubabgr</span> (<span class="id" title="var">abgr_Kernel_subabgr</span> <span class="id" title="var">f</span>)⟧),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t1</span> · <span class="id" title="var">abgr_Kernel_monoidfun</span> <span class="id" title="var">f</span> = <span class="id" title="var">h</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> = <span class="id" title="var">abgr_Kernel_isKernel_KernelArrrow</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">propproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel_isKernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Kernel_monoidfun</span> <span class="id" title="var">f</span>) <span class="id" title="var">f</span> (<span class="id" title="var">abgr_Kernel_eq</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Kernel_isKernel_KernelArrrow</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Kernel_isKernel_uniqueness</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> <span class="id" title="var">t</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Kernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Kernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_Kernel</span> (<span class="id" title="var">abgr_Zero</span>) (<span class="id" title="var">abgr_Kernel_monoidfun</span> <span class="id" title="var">f</span>) <span class="id" title="var">f</span> (<span class="id" title="var">abgr_Kernel_eq</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_Kernel_isKernel</span> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">abgr_Kernels</span> : <span class="id" title="var">Kernels</span> <span class="id" title="var">abgr_Zero</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1357"></a><h2 class="section">Cokernels</h2>

<ul class="doclist">
<li> Let f : X --&gt; Y be a morphism of abelian groups. A cokernel for f is given by the quotient
       quotient group Y/(Im f) together with the canonical morphism Y --&gt; Y/(Im f).

</li>
</ul>
   
<div class="paragraph"> </div>

<a name="lab1358"></a><h3 class="section">Subgroup gives an equivalence relation.</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_eqrel_istrans</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">istrans</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> <span class="id" title="var">B</span> <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> <span class="id" title="var">y1</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">y1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> <span class="id" title="var">y2</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">y2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (@<span class="id" title="var">op</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">y1'</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">y2'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">y1'</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">y2'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">y1'</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">y2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assocax</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x2</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_eqrel_isrefl</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isrefl</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> <span class="id" title="var">B</span> <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span>. <span class="id" title="var">use</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">unel</span> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grrinvax</span> <span class="id" title="var">B</span>). <span class="id" title="var">use</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_eqrel_issymm</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">issymm</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> <span class="id" title="var">B</span> <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> <span class="id" title="var">x3</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">x3'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span>. <span class="id" title="var">use</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x3'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">monoidfuninvtoinv</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">x3'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">x3'</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvop</span>. <span class="id" title="var">use</span> <span class="id" title="var">two_arg_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">grinvinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_eqrel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">eqrel</span> <span class="id" title="var">B</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">eqrelconstr</span> <span class="id" title="var">B</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> : <span class="id" title="var">B</span>, <span class="id" title="var">λ</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">A</span>, (<span class="id" title="var">f</span> <span class="id" title="var">a</span>) = (<span class="id" title="var">op</span> <span class="id" title="var">b1</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">B</span> <span class="id" title="var">b2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Cokernel_eqrel_istrans</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_Cokernel_eqrel_isrefl</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Cokernel_eqrel_issymm</span> <span class="id" title="var">f</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab1359"></a><h3 class="section">Construction of the quotient abelian group Y/(Im f)</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_abgr_isbinoprel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isbinophrel</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">A</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> <span class="id" title="var">B</span> <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">isbinophrelif</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">commax</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> <span class="id" title="var">x3</span> <span class="id" title="var">y1</span>. <span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> <span class="id" title="var">y1</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">y1'</span>. <span class="id" title="var">use</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">y1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">y1'</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">commax</span> <span class="id" title="var">B</span> <span class="id" title="var">x3</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">commax</span> <span class="id" title="var">B</span> <span class="id" title="var">x3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax</span> <span class="id" title="var">B</span> <span class="id" title="var">x3</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>). <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_abgr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) : <span class="id" title="var">abgr</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">abgrquot</span> <span class="id" title="var">B</span> (<span class="id" title="var">binopeqrelpair</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_Cokernel_abgr_isbinoprel</span> <span class="id" title="var">f</span>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab1360"></a><h3 class="section">The canonical morphism Y --&gt; Y/(Im f)</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_CokernelArrow_ismonoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> <span class="id" title="var">B</span> (@<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>) (@<span class="id" title="var">setquotpr</span> <span class="id" title="var">B</span> (@<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelArrow</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>⟧.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfunconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_CokernelArrow_ismonoidfun</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1361"></a><h3 class="section">CokernelOut</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Cokernel_monoidfun_issurjective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">issurjective</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">issurjsetquotpr</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">iscompsetquotpr</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">hinhpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pathsinv0</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">two_arg_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="var">use</span> (<span class="id" title="var">grinvunel</span> <span class="id" title="var">B</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelArrowOutUniv_iscomprelfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iscomprelfun</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">A</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">B</span>) <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> <span class="id" title="var">h</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> <span class="id" title="var">X</span> (<span class="id" title="var">setproperty</span> (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x'</span>))). <span class="id" title="tactic">intros</span> <span class="id" title="var">X'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">grrcan</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">C</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">h</span>) (<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">B</span>) <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">binopfunisbinopfun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>)) <span class="id" title="var">x'</span> (<span class="id" title="var">grinv</span> (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! <span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">xx</span> : (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>), <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">xx</span>) (<span class="id" title="var">grrinvax</span> (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">h</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">X'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (! (<span class="id" title="var">binopfunisbinopfun</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>)) <span class="id" title="var">x</span> (<span class="id" title="var">grinv</span> (<span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>) <span class="id" title="var">x'</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">maponpaths</span>. <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X'</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelOut_map</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">A</span> --&gt; <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">B</span> --&gt; <span class="id" title="var">C</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>) -&gt; (<span class="id" title="var">pr1</span> <span class="id" title="var">C</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">setquotuniv</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">B</span>, ∃ <span class="id" title="var">a</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">A</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> = (<span class="id" title="var">b1</span> * <span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">B</span>) <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> <span class="id" title="var">C</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span>) (<span class="id" title="var">abgr_CokernelArrowOutUniv_iscomprelfun</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelOut_ismonoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧) (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">ismonoidfun</span> (@<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span> (@<span class="id" title="var">abgr_CokernelOut_map</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (@<span class="id" title="var">isbinopfun_twooutof3b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> <span class="id" title="var">B</span>) (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_CokernelOut_map</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_Cokernel_monoidfun_issurjective</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">binopfunisbinopfun</span> (<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">binopfunisbinopfun</span> ((<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>) : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">monoidfununel</span> (<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelOut</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_CokernelOut_ismonoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_CokernelOut_Comm</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_CokernelOut</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>) = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_CokernelOut_pair</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧) (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ ψ : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>, <span class="id" title="var">C</span>⟧, <span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span> · ψ = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_CokernelOut</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_CokernelOut_Comm</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1362"></a><h3 class="section">Cokernels</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_isCokernel_uniquenss</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : ∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>, <span class="id" title="var">C</span>⟧, <span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span> · ψ = <span class="id" title="var">h</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> = <span class="id" title="var">abgr_CokernelOut_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">abgr_Cokernel_monoidfun_issurjective</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)) (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isCokernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_Cokernel_eq</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isCokernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_CokernelOut_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isCokernel_uniquenss</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Cokernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) : <span class="id" title="var">Cokernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_Cokernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_Cokernel_eq</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_isCokernel</span> <span class="id" title="var">f</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <span class="id" title="var">abgr_Cokernels</span> : <span class="id" title="var">Cokernels</span> <span class="id" title="var">abgr_Zero</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_kernels_and_cokernels</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1363"></a><h1 class="section">Monics are injective and epis are surjective</h1>

<ul class="doclist">
<li> Epis are surjective

</li>
<li> Monics are injective

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_monics_and_epis</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1364"></a><h2 class="section">Epis</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_hfiber_inhabited</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">setquotpr</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">setquotpr</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>) 1%<span class="id" title="var">multmonoid</span>) : ∥ <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span> ∥.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp</span> := <span class="id" title="var">weqpathsinsetquot</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span> (<span class="id" title="var">unel</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span> ((<span class="id" title="var">invweq</span> <span class="id" title="var">tmp</span>) <span class="id" title="var">H</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">Y</span>. <span class="id" title="var">use</span> <span class="id" title="var">hinhpr</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">t</span> <span class="id" title="var">p</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvunel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">t</span> <span class="id" title="var">p</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_issurjective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">issurjective</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">abgr_epi_hfiber_inhabited</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">isE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">tmp</span> := <span class="id" title="var">isE</span> (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">unelabgrfun</span> <span class="id" title="var">B</span> (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> · <span class="id" title="var">abgr_CokernelArrow</span> <span class="id" title="var">f</span> = <span class="id" title="var">f</span> · <span class="id" title="var">unelabgrfun</span> <span class="id" title="var">B</span> (<span class="id" title="var">abgr_Cokernel_abgr</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">abgr_Cokernel_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">abgr_Zero_arrow_comp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ZeroArrow_comp_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">tmp</span> <span class="id" title="var">H</span>)) <span class="id" title="var">x</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1365"></a><h2 class="section">Monics</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">nat_nat_prod_abgr_monoidfun_paths</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">f</span> <span class="id" title="var">a1</span> = <span class="id" title="var">f</span> <span class="id" title="var">a2</span>) : <span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">nat_nat_prod_abmonoid_monoidfun</span> <span class="id" title="var">a1</span>) <span class="id" title="var">f</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">nat_nat_prod_abmonoid_monoidfun</span> <span class="id" title="var">a2</span>) <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x1</span> <span class="id" title="var">x2</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">funcomp</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">nataddabmonoid_nataddabmonoid_to_monoid_fun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">nat_nat_to_monoid_fun</span>. <span class="id" title="keyword">Opaque</span> <span class="id" title="var">nat_to_monoid_fun</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! (<span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))). <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">monoidfun_nat_to_monoid_fun</span> <span class="id" title="var">f</span> <span class="id" title="var">a1</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">monoidfun_nat_to_monoid_fun</span> <span class="id" title="var">f</span> <span class="id" title="var">a2</span> <span class="id" title="var">x1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">monoidfun_nat_to_monoid_fun</span> <span class="id" title="var">f</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a1</span>) <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">monoidfun_nat_to_monoid_fun</span> <span class="id" title="var">f</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a2</span>) <span class="id" title="var">x2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">two_arg_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="var">f</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a1</span>) = <span class="id" title="var">f</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a2</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">grlcan</span> <span class="id" title="var">B</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (! <span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> <span class="id" title="var">a1</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">grrinvax</span> <span class="id" title="var">A</span> <span class="id" title="var">a1</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (<span class="id" title="var">binopfunisbinopfun</span> <span class="id" title="var">f</span> <span class="id" title="var">a2</span> (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> <span class="id" title="var">a2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">grrinvax</span> <span class="id" title="var">A</span> <span class="id" title="var">a2</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>
&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <span class="id" title="var">nat_to_monoid_fun</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monoidfun_precomp</span> {<span class="id" title="var">A</span> :<span class="id" title="var">abmonoid</span>} {<span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">issurjective</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">g</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> <span class="id" title="var">g</span> <span class="id" title="var">f1</span> = <span class="id" title="var">monoidfuncomp</span> <span class="id" title="var">g</span> <span class="id" title="var">f2</span> -&gt; <span class="id" title="var">f1</span> = <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">hf</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">hz_abgr_fun_monoifun_paths</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>) (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">H</span> : <span class="id" title="var">f</span> <span class="id" title="var">a1</span> = <span class="id" title="var">f</span> <span class="id" title="var">a2</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">hz_abgr_fun_monoidfun</span> <span class="id" title="var">a1</span>) <span class="id" title="var">f</span> = <span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">hz_abgr_fun_monoidfun</span> <span class="id" title="var">a2</span>) <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (@<span class="id" title="var">abgr_monoidfun_precomp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abmonoiddirprod</span> (<span class="id" title="var">rigaddabmonoid</span> <span class="id" title="var">natcommrig</span>) (<span class="id" title="var">rigaddabmonoid</span> <span class="id" title="var">natcommrig</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hzaddabgr</span> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">hz_abgr_fun_monoidfun</span> <span class="id" title="var">a1</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">hz_abgr_fun_monoidfun</span> <span class="id" title="var">a2</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hz_abmonoid_monoidfun</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">issurjsetquotpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">monoidfunassoc</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">monoidfunassoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">abgr_natnat_hz_X_comm</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">abgr_natnat_hz_X_comm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">nat_nat_prod_abgr_monoidfun_paths</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">f</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_isincl</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isincl</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">h1</span> <span class="id" title="var">h2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h1</span> @ (! <span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">h2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp</span> := <span class="id" title="var">isM</span> <span class="id" title="var">hzaddabgr</span> (<span class="id" title="var">hz_abgr_fun_monoidfun</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hz_abgr_fun_monoidfun</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hz_abgr_fun_monoifun_paths</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h1</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h2</span>) <span class="id" title="var">f</span> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e'</span> := <span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tmp</span>) <span class="id" title="var">hzone</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">grrcan</span> <span class="id" title="var">A</span> (<span class="id" title="var">unel</span> <span class="id" title="var">A</span>)). <span class="id" title="var">use</span> (<span class="id" title="var">grrcan</span> <span class="id" title="var">A</span> (<span class="id" title="var">unel</span> <span class="id" title="var">A</span>)). <span class="id" title="tactic">exact</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isaset_hfiber</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_isInjective</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isInjective</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">isweqonpathsincl</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">abgr_monic_isincl</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monic_paths</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <span class="id" title="var">A</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a1</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a2</span> -&gt; <span class="id" title="var">a1</span> = <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">invweq</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>))).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monoidfun_postcomp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> (<span class="id" title="var">g</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> <span class="id" title="var">f1</span> <span class="id" title="var">g</span> = <span class="id" title="var">monoidfuncomp</span> <span class="id" title="var">f2</span> <span class="id" title="var">g</span> -&gt; <span class="id" title="var">f1</span> = <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>. <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">g</span> <span class="id" title="var">isM</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f1</span> <span class="id" title="var">x</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f2</span> <span class="id" title="var">x</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) <span class="id" title="var">x</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_monics_and_epis</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1366"></a><h1 class="section">Monics are kernels of their cokernels and epis are cokernels of their kernels</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_monic_kernels_epi_cokernels</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1367"></a><h2 class="section">Monics are kernels of their cokernels</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">c</span> : <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iscontr</span> (<span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">invweq</span> (<span class="id" title="var">weqpathsinsetquot</span> (<span class="id" title="var">abgr_Cokernel_eqrel</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">c</span>) (<span class="id" title="var">unel</span> <span class="id" title="var">_</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="var">c</span>)) (<span class="id" title="var">isapropiscontr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">hfiberpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">hf</span>)). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvunel</span>. <span class="id" title="var">use</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">t</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">hf</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t</span>)). <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! (<span class="id" title="var">pr2</span> <span class="id" title="var">hf</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">grinvunel</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">runax</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">B</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monic_kernel_in_hfiber_mult_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">w</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">X</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X0</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x'</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">X0</span>)%<span class="id" title="var">multmonoid</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)%<span class="id" title="var">multmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in_hfiber_mult</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">x</span> <span class="id" title="var">x'</span> : <span class="id" title="var">w</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span>) -&gt; <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">x'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) * (<span class="id" title="var">pr1</span> <span class="id" title="var">X0</span>))%<span class="id" title="var">multmonoid</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_monic_kernel_in_hfiber_mult_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">h</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monic_kernel_in_hfiber_unel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">B</span>⟧) : <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> 1%<span class="id" title="var">multmonoid</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> 1%<span class="id" title="var">multmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">h</span>)). <span class="id" title="var">use</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in_hfiber_unel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧) : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> 1%<span class="id" title="var">multmonoid</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hfiberpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) 1%<span class="id" title="var">multmonoid</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_unel_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">h</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">h</span>: <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) : <span class="id" title="var">w</span> -&gt; <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscontrpr1</span> (@<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">w</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>))).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in_ismonoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">h</span>: <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">abgr_monic_kernel_in</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">t</span> := <span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp</span> := <span class="id" title="var">abgr_monic_kernel_in_hfiber_mult</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">h</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathscomp0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">abgr_monic_kernel_in</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)%<span class="id" title="var">multmonoid</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">e</span> : <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= (<span class="id" title="var">abgr_monic_kernel_in_hfiber_unel</span> <span class="id" title="var">f</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_unel</span> <span class="id" title="var">f</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel_in_monoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">w</span> : <span class="id" title="var">abgr</span>) (<span class="id" title="var">h</span>: <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">w</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfun</span> <span class="id" title="var">w</span> <span class="id" title="var">A</span> := <span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_monic_kernel_in_ismonoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_Kernel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">A</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">CokernelCompZero</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monic_Kernel_isKernel_comm</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">abgr_monic_kernel_in_monoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>) <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>))).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_Kernel_isKernel_pair</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">A</span>⟧, ψ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_monic_kernel_in_monoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">C</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_monic_Kernel_isKernel_comm</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_Kernel_isKernel_uniqueness</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">C</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">h</span> · <span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>) = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">C</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : ∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">C</span>, <span class="id" title="var">A</span>⟧, ψ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> = <span class="id" title="var">abgr_monic_Kernel_isKernel_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">invmap</span> (<span class="id" title="var">weqpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_monic_isInjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)) <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">hfiberpr2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_monic_kernel_in_hfiber_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_Kernel_isKernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isKernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> (<span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">CokernelCompZero</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_monic_Kernel_isKernel_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_monic_Kernel_isKernel_uniqueness</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_monic_kernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Kernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_Kernel</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">f</span> (<span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>)) (<span class="id" title="var">abgr_monic_Kernel_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_monic_Kernel_isKernel</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_monic_kernel_comp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isM</span> : <span class="id" title="var">isMonic</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_monic_kernel</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>) = <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1368"></a><h2 class="section">Epis are cokernels of their kernels</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_out_kernel_hsubtype</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">a</span> : <span class="id" title="var">A</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> = 1%<span class="id" title="var">multmonoid</span>) : <span class="id" title="var">abgr_kernel_hsubtype</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">a</span>,, <span class="id" title="var">H</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_out_data_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">x</span> : <span class="id" title="var">abgr_kernel_hsubtype</span> <span class="id" title="var">f</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1carrier</span> (<span class="id" title="var">abgr_kernel_hsubtype</span> <span class="id" title="var">f</span>) <span class="id" title="var">x</span>) = 1%<span class="id" title="var">multmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_out_data_hfibers_to_unel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">hfib1</span> <span class="id" title="var">hfib2</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) ((<span class="id" title="var">pr1</span> <span class="id" title="var">hfib1</span>) * (<span class="id" title="var">grinv</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib2</span>)))%<span class="id" title="var">multmonoid</span> = <span class="id" title="var">unel</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">grrcan</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">B</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">assocax</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grlinvax</span> <span class="id" title="var">A</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">runax</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">lunax</span> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">hfib1</span>). <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">hfib2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_out_data_hfiber_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>) : ∏ <span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hfib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">grrcan</span> <span class="id" title="var">C</span> (<span class="id" title="var">grinv</span> (<span class="id" title="var">abgrtogr</span> <span class="id" title="var">C</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">grrinvax</span> <span class="id" title="var">C</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e1</span> := <span class="id" title="var">abgr_epi_cokernel_out_data_hfibers_to_unel</span> <span class="id" title="var">f</span> <span class="id" title="var">b</span> <span class="id" title="var">hfib</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp1</span> := ! (<span class="id" title="var">monoidfuninvtoinv</span> <span class="id" title="var">h</span> (<span class="id" title="var">hfiberpr1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">X</span>))). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">maponpaths</span> (<span class="id" title="var">λ</span> <span class="id" title="var">k</span> : <span class="id" title="var">_</span>, ((<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>)) * <span class="id" title="var">k</span>)%<span class="id" title="var">multmonoid</span>) <span class="id" title="var">tmp1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp2</span> := <span class="id" title="var">abgr_epi_cokernel_out_data_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp3</span> := <span class="id" title="var">abgr_epi_cokernel_out_kernel_hsubtype</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span> * <span class="id" title="var">grinv</span> <span class="id" title="var">A</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>))%<span class="id" title="var">multmonoid</span> <span class="id" title="var">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp4</span> := <span class="id" title="var">tmp2</span> <span class="id" title="var">tmp3</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">tmp4</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">tmp4</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="var">b</span> : <span class="id" title="var">B</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iscontr</span> (∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ (<span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>), <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">abgr_epi_issurjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">b</span>) (<span class="id" title="var">isapropiscontr</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_out_data_hfiber_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">b</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (! ((<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>) <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">impred</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">t0</span>. <span class="id" title="var">use</span> (<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_CokernelOut_mult_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X</span> : ∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ <span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b1</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">X0</span> : ∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ <span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b2</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">b1</span> * <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = (<span class="id" title="var">pr1</span> <span class="id" title="var">X</span> * <span class="id" title="var">pr1</span> <span class="id" title="var">X0</span>)%<span class="id" title="var">multmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hfib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">abgr_epi_issurjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">b1</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> (<span class="id" title="var">abgr_epi_issurjective</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">b2</span>) (<span class="id" title="var">setproperty</span> <span class="id" title="var">C</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">X2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- ((<span class="id" title="var">pr2</span> <span class="id" title="var">X</span>) <span class="id" title="var">X1</span>). <span class="id" title="tactic">rewrite</span> &lt;- ((<span class="id" title="var">pr2</span> <span class="id" title="var">X0</span>) <span class="id" title="var">X2</span>). <span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">pr1</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">h</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_out_data_hfiber_eq</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">b1</span> * <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span> (<span class="id" title="var">hfiberbinop</span> (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">X1</span> <span class="id" title="var">X2</span>) <span class="id" title="var">hfib</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_out_data_mult</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">b1</span> <span class="id" title="var">b2</span> : <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ (<span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b1</span>), <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ (<span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) <span class="id" title="var">b2</span>), <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ (<span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">b1</span> * <span class="id" title="var">b2</span>)%<span class="id" title="var">multmonoid</span>), <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> ((<span class="id" title="var">pr1</span> <span class="id" title="var">X</span>) * (<span class="id" title="var">pr1</span> <span class="id" title="var">X0</span>))%<span class="id" title="var">multmonoid</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">abgr_epi_CokernelOut_mult_eq</span> <span class="id" title="var">b1</span> <span class="id" title="var">b2</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">X</span> <span class="id" title="var">X0</span>)).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_out_data_unel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∏ <span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) 1%<span class="id" title="var">multmonoid</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = 1%<span class="id" title="var">multmonoid</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">hfib</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">hfib_unel</span> := <span class="id" title="var">hfiberpair</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) 1%<span class="id" title="var">multmonoid</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">abgr_epi_cokernel_out_data_hfiber_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span> <span class="id" title="var">hfib_unel</span> <span class="id" title="var">hfib</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">h</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_out_data_unel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;( ∑ <span class="id" title="var">x</span> : <span class="id" title="var">C</span>, ∏ (<span class="id" title="var">hfib</span> : <span class="id" title="var">hfiber</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) 1%<span class="id" title="var">multmonoid</span>),  <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">hfib</span>) = <span class="id" title="var">x</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> 1%<span class="id" title="var">multmonoid</span> (<span class="id" title="var">abgr_epi_cokernel_out_data_unel_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_out_ismonoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">λ</span> <span class="id" title="var">b</span> : <span class="id" title="var">B</span>, (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">b</span>)))).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">HH0</span> := <span class="id" title="var">abgr_epi_cokernel_out_data_mult</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">x'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> : <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)%<span class="id" title="var">multmonoid</span>) = <span class="id" title="var">HH0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">tmp</span> := <span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">x</span> * <span class="id" title="var">x'</span>)%<span class="id" title="var">multmonoid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">tmp</span>). <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>. <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">tmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">HH</span> : <span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= <span class="id" title="var">abgr_epi_cokernel_out_data_unel</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> 1%<span class="id" title="var">multmonoid</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HH</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_out_monoidfun</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfun</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> := <span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_epi_cokernel_out_ismonoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_eq</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">f</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">KernelCompZero</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_isCokernel_comm</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>)  (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> · <span class="id" title="var">abgr_epi_cokernel_out_monoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">hfiberpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">isapropismonoidfun</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_isCokernel_pair</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>)  (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧, <span class="id" title="var">f</span> · ψ = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_out_monoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_isCokernel_comm</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_epi_cokernel_isCokernel_uniqueness</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>)  (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">C</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) · <span class="id" title="var">h</span> = <span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>) <span class="id" title="var">C</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : ∑ ψ : <span class="id" title="var">abgr_category</span> ⟦<span class="id" title="var">B</span>, <span class="id" title="var">C</span>⟧, <span class="id" title="var">f</span> · ψ = <span class="id" title="var">h</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> = <span class="id" title="var">abgr_epi_cokernel_isCokernel_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">isE</span>. <span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)). <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_epi_CokernelOut_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">hfiberpair</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span>) (<span class="id" title="var">pr1</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="var">x</span> (<span class="id" title="var">idpath</span> <span class="id" title="var">_</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_isCokernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isCokernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>)) <span class="id" title="var">f</span> (<span class="id" title="var">abgr_epi_cokernel_eq</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isCokernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_isCokernel_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_epi_cokernel_isCokernel_uniqueness</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Cokernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mk_Cokernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">KernelArrow</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>)) <span class="id" title="var">f</span> <span class="id" title="var">_</span> (<span class="id" title="var">abgr_epi_cokernel_isCokernel</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_epi_cokernel_comp</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="var">abgr</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">abgr_category</span>⟦<span class="id" title="var">A</span>, <span class="id" title="var">B</span>⟧) (<span class="id" title="var">isE</span> : <span class="id" title="var">isEpi</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">CokernelArrow</span> (<span class="id" title="var">abgr_epi_cokernel</span> <span class="id" title="var">f</span> <span class="id" title="var">isE</span>) = <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_monic_kernels_epi_cokernels</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1369"></a><h1 class="section">Category of abelian groups is an abelian category</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_abelian</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_Abelian</span> : <span class="id" title="var">AbelianPreCat</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">BinDS</span> := <span class="id" title="var">to_BinDirectSums</span> <span class="id" title="var">abgr_Additive</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">mk_Abelian</span> <span class="id" title="var">abgr_category</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_Data1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">abgr_Zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">BinDirectSum_BinProduct</span> <span class="id" title="var">abgr_Additive</span> (<span class="id" title="var">BinDS</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">BinDirectSum_BinCoproduct</span> <span class="id" title="var">abgr_Additive</span> (<span class="id" title="var">BinDS</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_AbelianData</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">mk_Data2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Kernel</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Cokernel</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">mk_MonicsAreKernels</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">KernelisKernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_monic_kernel</span> <span class="id" title="var">M</span> (<span class="id" title="var">MonicisMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">M</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">mk_EpisAreCokernels</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">CokernelisCokernel</span> <span class="id" title="var">abgr_Zero</span> (<span class="id" title="var">abgr_epi_cokernel</span> <span class="id" title="var">E</span> (<span class="id" title="var">EpiisEpi</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">E</span>))).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_abelian</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1370"></a><h1 class="section">Corollaries to additive categories</h1>

   In an additive category the homsets are abelian groups and pre- and postcompositions are
   morphisms of abelian groups. In this section we prove the following lemmas about additive
   categories using the theory of abelian groups developed above
<ul class="doclist">
<li> A morphism φ in an additive category which gives isomorphisms (φ · _) and (_ · φ) is an
     isomorphism, <span class="inlinecode"><span class="id" title="var">abgr_Additive_premor_postmor_is_iso</span></span>.

</li>
<li> A criteria of being a kernel in the category of abelian groups which uses only elements
     of abelian groups, <span class="inlinecode"><span class="id" title="var">abgr_isKernel_Criteria</span></span>.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <span class="id" title="var">abgr_corollaries</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1371"></a><h2 class="section">Isomorphism criteria</h2>

<div class="paragraph"> </div>

<a name="lab1372"></a><h3 class="section">(_ · ZeroArrow) = ZeroArrow = (ZeroArrow · _)</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdditiveZeroArrow_postmor_Abelian</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> (<span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">Additive.to_Zero</span> <span class="id" title="keyword">Add</span>) <span class="id" title="var">y</span> <span class="id" title="var">z</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) (@<span class="id" title="var">to_abgr</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (@<span class="id" title="var">to_abgr</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PreAdditive_unel_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_premor_unel</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">AdditiveZeroArrow_premor_Abelian</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> (<span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">Additive.to_Zero</span> <span class="id" title="keyword">Add</span>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) (@<span class="id" title="var">to_abgr</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>) (@<span class="id" title="var">to_abgr</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PreAdditive_unel_zero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_postmor_unel</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1373"></a><h3 class="section">f isomorphism ⇒ (f · _) isomorphism</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_is_iso_premor_inverses</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_inverse_in_precat</span> ((<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span>) : <span class="id" title="var">abgr_Abelian</span>⟦<span class="id" title="var">_</span>, <span class="id" title="var">_</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> (<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_inverse_in_precat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_premor</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">is_inverse_in_precat2</span> <span class="id" title="var">H</span>). <span class="id" title="var">use</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_premor</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">is_inverse_in_precat1</span> <span class="id" title="var">H</span>). <span class="id" title="var">use</span> <span class="id" title="var">id_left</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_is_iso_premor</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_z_isomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">z</span> (<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Additive_is_iso_premor_inverses</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1374"></a><h3 class="section">f isomorphism ⇒ (_ · f) isomorphism</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_is_iso_postmor_inverses</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) {<span class="id" title="var">f</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_inverse_in_precat</span> ((<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span>) : <span class="id" title="var">abgr_Abelian</span>⟦<span class="id" title="var">_</span>, <span class="id" title="var">_</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span> (<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_inverse_in_precat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_postmor</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">is_inverse_in_precat1</span> <span class="id" title="var">H</span>). <span class="id" title="var">use</span> <span class="id" title="var">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">to_postmor</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">is_inverse_in_precat2</span> <span class="id" title="var">H</span>). <span class="id" title="var">use</span> <span class="id" title="var">id_right</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_is_iso_postmor</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <span class="id" title="keyword">Add</span>) {<span class="id" title="var">f</span> : <span class="id" title="var">y</span> --&gt; <span class="id" title="var">z</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : <span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_z_isomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Additive_is_iso_postmor_inverses</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1375"></a><h3 class="section">Pre- and postcomposition with f is an isomorphism ⇒ f isomorphism</h3>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_premor_postmor_is_iso_inverses</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="keyword">Add</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : @<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : @<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_inverse_in_precat</span> <span class="id" title="var">f</span> ((<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H1</span> : <span class="id" title="var">monoidfun</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>) (<span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">identity</span> <span class="id" title="var">x</span> : <span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">mor1</span> := ((<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H1</span>) : (<span class="id" title="var">monoidfun</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>) (<span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">identity</span> <span class="id" title="var">x</span>) : <span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">mor2</span> := ((<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H2</span>) : (<span class="id" title="var">monoidfun</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">y</span>) (<span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">identity</span> <span class="id" title="var">y</span>) : <span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> : <span class="id" title="var">f</span> · <span class="id" title="var">mor1</span> = <span class="id" title="var">identity</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">is_inverse_in_precat2</span> <span class="id" title="var">H1</span>)) (<span class="id" title="var">identity</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hy</span> : <span class="id" title="var">mor2</span> · <span class="id" title="var">f</span> = <span class="id" title="var">identity</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">is_inverse_in_precat2</span> <span class="id" title="var">H2</span>)) (<span class="id" title="var">identity</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> : <span class="id" title="var">mor1</span> = <span class="id" title="var">mor2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<span class="id" title="var">id_right</span> <span class="id" title="var">mor2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">assoc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">id_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_inverse_in_precat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hy</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_Additive_premor_postmor_is_iso</span> {<span class="id" title="keyword">Add</span> : <span class="id" title="var">CategoryWithAdditiveStructure</span>} (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <span class="id" title="keyword">Add</span>) {<span class="id" title="var">f</span> : <span class="id" title="var">x</span> --&gt; <span class="id" title="var">y</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H1</span> : @<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_premor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">f</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H2</span> : @<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">to_postmor_monoidfun</span> <span class="id" title="keyword">Add</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">f</span>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_z_isomorphism</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_is_z_isomorphism</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (((<span class="id" title="var">is_z_isomorphism_mor</span> <span class="id" title="var">H1</span>) : (<span class="id" title="var">monoidfun</span> (<span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>) (<span class="id" title="var">to_abgr</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id" title="var">identity</span> <span class="id" title="var">x</span>) : <span class="id" title="var">to_abgr</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_Additive_premor_postmor_is_iso_inverses</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>).<br/>
</div>

<br/>
</div>

<div class="doc">
<a name="lab1376"></a><h2 class="section">A criteria for isKernel which uses only the elements in the abelian group.</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Opaque</span> <span class="id" title="var">ZeroArrow</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isKernel_iscontr</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : <span class="id" title="var">abgr_Abelian</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = @<span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Abelian</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥ ∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>) ∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_Abelian</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">W</span> --&gt; <span class="id" title="var">Y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = @<span class="id" title="var">ZeroArrow</span> <span class="id" title="var">abgr_Abelian</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">W</span> <span class="id" title="var">Z</span>) (<span class="id" title="var">w'</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">W</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iscontr</span> (∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">w'</span>).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> &lt;- (@<span class="id" title="var">PreAdditive_unel_zero</span> (<span class="id" title="var">abgr_PreAdditive</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">to_unel</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">e</span> := <span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>) <span class="id" title="var">w'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">H''</span> := <span class="id" title="var">H</span> (<span class="id" title="var">tpair</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">h</span> <span class="id" title="var">w'</span>) <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">squash_to_prop</span> <span class="id" title="var">H''</span> (<span class="id" title="var">isapropiscontr</span> <span class="id" title="var">_</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HH</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">T1</span> <span class="id" title="var">T2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> (<span class="id" title="var">abgr_monic_paths</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span> <span class="id" title="var">T1</span> <span class="id" title="var">H1</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T2</span>. <span class="id" title="var">use</span> <span class="id" title="var">idpath</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_isKernel_Criteria_ismonoidfun</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>)∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">Y</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">W</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ismonoidfun</span> (<span class="id" title="var">λ</span> <span class="id" title="var">w'</span> : (<span class="id" title="var">W</span> : <span class="id" title="var">abgr</span>), <span class="id" title="var">pr1</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> <span class="id" title="var">w'</span>))).<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_ismonoidfun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">mk_isbinopfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="var">use</span> (<span class="id" title="var">abgr_monic_paths</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> <span class="id" title="var">_</span> (! <span class="id" title="var">binopfunisbinopfun</span> (<span class="id" title="var">f</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> ((<span class="id" title="var">x</span> * <span class="id" title="var">y</span>)%<span class="id" title="var">multmonoid</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">binopfunisbinopfun</span> (<span class="id" title="var">h</span> : <span class="id" title="var">monoidfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">two_arg_paths</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> (<span class="id" title="var">x</span>%<span class="id" title="var">multmonoid</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> (<span class="id" title="var">y</span>%<span class="id" title="var">multmonoid</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> (<span class="id" title="var">abgr_monic_paths</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> (<span class="id" title="var">unel</span> (<span class="id" title="var">W</span> : <span class="id" title="var">abgr</span>)))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">monoidfununel</span> <span class="id" title="var">h</span>)). <span class="id" title="tactic">exact</span> (! <span class="id" title="var">monoidfununel</span> <span class="id" title="var">f</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_isKernel_Criteria_comm</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥ ∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>) ∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">Y</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">W</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monoidfuncomp</span> (<span class="id" title="var">monoidfunconstr</span> (<span class="id" title="var">abgr_isKernel_Criteria_ismonoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>)) <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> (<span class="id" title="var">x</span>%<span class="id" title="var">multmonoid</span>)))).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isKernel_Criteria_pair</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥ ∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>) ∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">Y</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">W</span> <span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;∑ ψ : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">X</span>⟧, ψ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">tpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfunconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">pr1</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> <span class="id" title="var">w'</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isKernel_Criteria_ismonoidfun</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isKernel_Criteria_comm</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>).<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <span class="id" title="var">abgr_isKernel_Criteria_uniqueness</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> <span class="id" title="var">W</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥ ∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>) ∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) (<span class="id" title="var">h</span> : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">Y</span>⟧)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H'</span> : <span class="id" title="var">h</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">W</span> <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : ∑ ψ : <span class="id" title="var">abgr_Abelian</span> ⟦<span class="id" title="var">W</span>, <span class="id" title="var">X</span>⟧, ψ · <span class="id" title="var">f</span> = <span class="id" title="var">h</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t</span> = <span class="id" title="var">abgr_isKernel_Criteria_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">total2_paths_f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">monoidfun_paths</span>. <span class="id" title="var">use</span> <span class="id" title="var">funextfun</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">abgr_monic_paths</span> <span class="id" title="var">f</span> <span class="id" title="var">isM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">pathscomp0</span> (<span class="id" title="var">toforallpaths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">base_paths</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">pr2</span> <span class="id" title="var">t</span>)) <span class="id" title="var">x</span>)). <span class="id" title="var">use</span> <span class="id" title="var">pathsinv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">pr2</span> (<span class="id" title="var">iscontrpr1</span> (<span class="id" title="var">abgr_isKernel_iscontr</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> (<span class="id" title="var">x</span>%<span class="id" title="var">multmonoid</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">proofirrelevance</span>. <span class="id" title="var">use</span> <span class="id" title="var">setproperty</span>.<br/>
</div>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <span class="id" title="var">abgr_isKernel_Criteria</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> : <span class="id" title="var">abgr_category</span>} (<span class="id" title="var">f</span> : <span class="id" title="var">X</span> --&gt; <span class="id" title="var">Y</span>) (<span class="id" title="var">g</span> : <span class="id" title="var">Y</span> --&gt; <span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ZA</span> : <span class="id" title="var">f</span> · <span class="id" title="var">g</span> = <span class="id" title="var">ZeroArrow</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">H</span> : ∏ (<span class="id" title="var">D</span> : (∑ <span class="id" title="var">y</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">Y</span>, <span class="id" title="var">pr1</span> <span class="id" title="var">g</span> <span class="id" title="var">y</span> = 1%<span class="id" title="var">multmonoid</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;∥ ∑ (<span class="id" title="var">x</span> : <span class="id" title="var">abgrtogr</span> <span class="id" title="var">X</span>), <span class="id" title="var">monoidfuntobinopfun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span> <span class="id" title="var">x</span> = (<span class="id" title="var">pr1</span> <span class="id" title="var">D</span>) ∥)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">isM</span> : @<span class="id" title="var">isMonic</span> <span class="id" title="var">abgr_category</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">f</span>) : <span class="id" title="var">isKernel</span> (<span class="id" title="var">to_Zero</span> <span class="id" title="var">abgr_Abelian</span>) <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span>.<br/>
&nbsp;&nbsp;<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use</span> <span class="id" title="var">mk_isKernel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">use</span> <span class="id" title="var">homset_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>. <span class="id" title="var">use</span> <span class="id" title="var">iscontrpair</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isKernel_Criteria_pair</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="var">abgr_isKernel_Criteria_uniqueness</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">ZA</span> <span class="id" title="var">H</span> <span class="id" title="var">isM</span> <span class="id" title="var">h</span> <span class="id" title="var">H'</span> <span class="id" title="var">t</span>).<br/>
</div>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">abgr_corollaries</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>