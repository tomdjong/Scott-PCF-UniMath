<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
	<script src="https://code./jquery.com/jquery-1.11.0.min.js" type="text/javascript"></script>
	<script src="./proofs-toggle.js" type="text/javascript"></script>
	<style>
		div.proofcomment {
			font-style: italic;
		}
	</style>
	<title>Documentation</title>
</head>
<body>
<div id="page">
<div id="main">
<h1 class="libtitle">Library UniMath.PAdics.frac</h1>

<div class="code">
</div>

<div class="doc">
*The Heyting field of fractions for an apartness domain 
<div class="paragraph"> </div>

 By Alvaro Pelayo, Vladimir Voevodsky and Michael A. Warren 
<div class="paragraph"> </div>

 February 2011 and August 2012 
<div class="paragraph"> </div>

 made compatible with the current UniMath library by Ralph Matthes in October 2017 
<div class="paragraph"> </div>

 Imports 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.PAdics.lemmas</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.RigsAndRings</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">UniMath.Algebra.Domains_and_Fields</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab697"></a><h1 class="section">I. The field of fractions for an integrable domain with an apartness relation</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <span class="id" title="var">aint</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <span class="id" title="var">A</span> : <span class="id" title="var">aintdom</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">permute</span> := <span class="id" title="tactic">solve</span><br/>
&nbsp;&nbsp;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [  |- ?<span class="id" title="var">X</span> = ?<span class="id" title="var">X</span> ] =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Y</span> = ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Z</span> ] =&gt; <span class="id" title="tactic">apply</span>  <span class="id" title="var">maponpaths</span>; <span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">Y</span> * ?<span class="id" title="var">X</span> = ?<span class="id" title="var">Z</span> * ?<span class="id" title="var">X</span> ] =&gt; <span class="id" title="tactic">apply</span> (  <span class="id" title="var">maponpaths</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">X</span> ) ); <span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Y</span> = ?<span class="id" title="var">Y</span> * ?<span class="id" title="var">X</span> ]  =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">ringcomm2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Y</span> = ?<span class="id" title="var">K</span> ] =&gt; <span class="id" title="tactic">solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span>  &lt;- <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">H</span> = ?<span class="id" title="var">V</span> * <span class="id" title="var">X</span> ] =&gt; <span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> <span class="id" title="var">V</span> <span class="id" title="var">X</span> );<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">H</span> =  ?<span class="id" title="var">Z</span> * ?<span class="id" title="var">V</span> ] =&gt; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">W</span>  * <span class="id" title="var">Z</span> = ?<span class="id" title="var">L</span> ] =&gt; <span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> <span class="id" title="var">W</span> <span class="id" title="var">Z</span> );<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ( ?<span class="id" title="var">Y</span> * ?<span class="id" title="var">Z</span>  ) = ?<span class="id" title="var">K</span> ] =&gt; <span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> <span class="id" title="var">Y</span> <span class="id" title="var">Z</span> ); <span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ringassoc2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Y</span> = ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Z</span> ] =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">maponpaths</span>; <span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">Y</span> * ?<span class="id" title="var">X</span> = ?<span class="id" title="var">Z</span> * ?<span class="id" title="var">X</span> ] =&gt; <span class="id" title="tactic">apply</span> ( <span class="id" title="var">maponpaths</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> * <span class="id" title="var">X</span> ) ); <span class="id" title="var">permute</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ |- ?<span class="id" title="var">X</span> * ?<span class="id" title="var">Y</span> = ?<span class="id" title="var">Y</span> * ?<span class="id" title="var">X</span> ] =&gt; <span class="id" title="tactic">apply</span> <span class="id" title="var">ringcomm2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> <span class="id" title="var">idpath</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">idtac</span> "The tactic permute does not apply to the current goal!"<br/>
&nbsp;&nbsp;].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">azerorelcomp</span> ( <span class="id" title="var">cd</span> : <span class="id" title="var">A</span> × <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> )<br/>
&nbsp;&nbsp;( <span class="id" title="var">ef</span> : <span class="id" title="var">A</span> × <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> )<br/>
&nbsp;&nbsp;( <span class="id" title="var">p</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">cd</span> * <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">ef</span> ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> <span class="id" title="var">ef</span> * <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">cd</span> ) )<br/>
&nbsp;&nbsp;( <span class="id" title="var">q</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">cd</span> # 0 ) : <span class="id" title="var">pr1</span> <span class="id" title="var">ef</span> # 0.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">pr1</span> <span class="id" title="var">cd</span> ) ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">ef</span> ) ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">pr1</span> <span class="id" title="var">ef</span> ) ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">cd</span> ) ) ) <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">pr1</span> <span class="id" title="var">cd</span> ) ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">ef</span> ) ) ) # 0 ) <span class="id" title="keyword">as</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">ef</span> ) ).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">p</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">timesazero</span> <span class="id" title="var">v</span> ) ).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">azerolmultcomp</span> { <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span> } ( <span class="id" title="var">p</span> : <span class="id" title="var">a</span> # 0 ) ( <span class="id" title="var">q</span> : <span class="id" title="var">b</span> # <span class="id" title="var">c</span> ) : <span class="id" title="var">a</span> * <span class="id" title="var">b</span> # <span class="id" title="var">a</span> * <span class="id" title="var">c</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">aminuszeroa</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ringminusdistr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">aaminuszero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">azerormultcomp</span> { <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">A</span> } ( <span class="id" title="var">p</span> : <span class="id" title="var">a</span> # 0 ) ( <span class="id" title="var">q</span> : <span class="id" title="var">b</span> # <span class="id" title="var">c</span> ) : <span class="id" title="var">b</span> * <span class="id" title="var">a</span> # <span class="id" title="var">c</span> * <span class="id" title="var">a</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">azerolmultcomp</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> ).<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfracapartrelpre</span> : <span class="id" title="var">hrel</span> ( <span class="id" title="var">A</span> × <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span> =&gt; ( <span class="id" title="var">pr1</span> <span class="id" title="var">ab</span>  * <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">cd</span> ) ) # ( <span class="id" title="var">pr1</span> <span class="id" title="var">cd</span> * <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">ab</span> ) ).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">afldfracapartiscomprel</span> :<br/>
&nbsp;&nbsp;<span class="id" title="var">iscomprelrel</span> ( <span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">afldfracapartrelpre</span> ).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span> <span class="id" title="var">ef</span> <span class="id" title="var">gh</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a</span> <span class="id" title="var">b</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cd</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">d</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ef</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e</span> <span class="id" title="var">f</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">gh</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">g</span> <span class="id" title="var">h</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">h</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">h</span> <span class="id" title="var">h'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">hPropUnivalence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">p'</span> <span class="id" title="var">j</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">i</span> <span class="id" title="var">p'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">q'</span> <span class="id" title="var">j'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">i'</span> <span class="id" title="var">q'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> # <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> # <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">d'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> # <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">v1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> # <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">v2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">f</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">i</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">c</span> * <span class="id" title="var">h</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">a</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">f</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">h</span> ) <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">g</span> * <span class="id" title="var">d</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">b</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">b</span> ) <span class="id" title="var">d</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">k0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">b</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">d</span> ) <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">k0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> = @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> ) <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">j''</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">j''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">k</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">p'</span> <span class="id" title="var">j</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">i</span> <span class="id" title="var">p'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">q'</span> <span class="id" title="var">j'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">q'</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">i'</span> <span class="id" title="var">q'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">h</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> # <span class="id" title="var">g</span> * <span class="id" title="var">d</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">p'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">d</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">h</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">i</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">h</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">h</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">c</span> * <span class="id" title="var">b</span> * <span class="id" title="var">i</span> * <span class="id" title="var">f</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">k0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">h</span> ) <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">k0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">k</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">g</span> * <span class="id" title="var">d</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> * <span class="id" title="var">h</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( <span class="id" title="var">g</span> * <span class="id" title="var">d</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i</span> * <span class="id" title="var">i'</span> = <span class="id" title="var">g</span> * <span class="id" title="var">f</span> * <span class="id" title="var">i'</span> * <span class="id" title="var">d</span> * <span class="id" title="var">i</span> * <span class="id" title="var">b</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">d</span> ) <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">g</span> <span class="id" title="var">f</span> ) <span class="id" title="var">i'</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">j'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">h</span> ) <span class="id" title="var">i'</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">b</span> ) <span class="id" title="var">d</span> ) <span class="id" title="var">h</span> ) <span class="id" title="var">i</span> ) <span class="id" title="var">i'</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">l</span> <span class="id" title="tactic">in</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
</div>

<div class="doc">
We now arrive at the apartness relation on the field of fractions
    itself.
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfracapartrel</span> := <span class="id" title="var">quotrel</span> <span class="id" title="var">afldfracapartiscomprel</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isirreflafldfracapartrelpre</span> : <span class="id" title="var">isirrefl</span> <span class="id" title="var">afldfracapartrelpre</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">acommring_airrefl</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">issymmafldfracapartrelpre</span> : <span class="id" title="var">issymm</span> <span class="id" title="var">afldfracapartrelpre</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">acommring_asymm</span> <span class="id" title="var">A</span> ).<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">iscotransafldfracapartrelpre</span> : <span class="id" title="var">iscotrans</span> <span class="id" title="var">afldfracapartrelpre</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span> <span class="id" title="var">ef</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a</span> <span class="id" title="var">b</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cd</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">d</span> ] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ] .<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ef</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e</span> <span class="id" title="var">f</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> # <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">azerormultcomp</span>; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">use</span> (<span class="id" title="var">hinhuniv</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">acommring_acotrans</span> <span class="id" title="var">A</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">f</span> * <span class="id" title="var">d</span> ) ( <span class="id" title="var">c</span> * <span class="id" title="var">b</span> * <span class="id" title="var">f</span> ) ( <span class="id" title="var">e</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> ) <span class="id" title="var">v</span> )).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">u</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span> <span class="id" title="keyword">as</span> [ <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span> ].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ii1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">f</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">f</span> ) <span class="id" title="var">d</span> = @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> ) <span class="id" title="var">f</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">d</span> ) <span class="id" title="var">f</span> # @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">ii2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span> ) <span class="id" title="var">b</span> = @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">f</span> ) <span class="id" title="var">b</span> # @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ) <span class="id" title="var">b</span> = @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">b</span> ) <span class="id" title="var">d</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">c</span> <span class="id" title="var">b</span> ) <span class="id" title="var">f</span> # @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">e</span> <span class="id" title="var">d</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isapartafldfracapartrel</span> : <span class="id" title="var">isapart</span> <span class="id" title="var">afldfracapartrel</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">isirreflquotrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">isirreflafldfracapartrelpre</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">issymmquotrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">issymmafldfracapartrelpre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">iscotransquotrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">iscotransafldfracapartrelpre</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfracapart</span> : <span class="id" title="var">apart</span> ( <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> (<span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span>)).<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">apart</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">afldfracapartrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">isapartafldfracapartrel</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinapartlafldfracop1</span> : <span class="id" title="var">isbinopapartl</span> <span class="id" title="var">afldfracapart</span> <span class="id" title="var">op1</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinopapartl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> ( <span class="id" title="var">pr1</span> (<span class="id" title="var">afldfracapart</span>) ( <span class="id" title="var">commringfracop1</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">commringfracop1</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) <span class="id" title="var">a</span> <span class="id" title="var">c</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">afldfracapart</span> ) <span class="id" title="var">b</span> <span class="id" title="var">c</span>) ) <span class="id" title="keyword">as</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">afldfracapart</span> ) <span class="id" title="var">b</span> <span class="id" title="var">c</span> ).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">setquotuniv3prop</span> <span class="id" title="var">_</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> ( <span class="id" title="var">int</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) ) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span> <span class="id" title="var">ef</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a</span> <span class="id" title="var">b</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cd</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">d</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ef</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e</span> <span class="id" title="var">f</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapart</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">quotrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">setquotuniv2comm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">afldfracapartrelpre</span> ( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">op1</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">d</span> <span class="id" title="var">a</span> ) ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ) ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">op1</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span> ) ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">b</span> <span class="id" title="var">e</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ) ) ) ) <span class="id" title="keyword">as</span> <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2! ( @<span class="id" title="var">ringrdistr</span> <span class="id" title="var">A</span> ) <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">ringassoc2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( (@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">d</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="var">f</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">f</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="var">d</span>) ) <span class="id" title="keyword">as</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( (@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">b</span> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>) <span class="id" title="var">f</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">c</span> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>) <span class="id" title="var">b</span>) ) <span class="id" title="keyword">as</span> <span class="id" title="var">j</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">j</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( (@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">b</span> <span class="id" title="var">e</span>) <span class="id" title="var">b</span>) <span class="id" title="var">d</span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (<span class="id" title="var">pr1ring</span> (<span class="id" title="var">commringtoring</span> (<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">e</span> <span class="id" title="var">d</span>) <span class="id" title="var">b</span>) <span class="id" title="var">b</span>) ) <span class="id" title="keyword">as</span> <span class="id" title="var">j'</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">j'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">acommring_aadd</span> <span class="id" title="var">A</span>) ( <span class="id" title="var">f</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> * <span class="id" title="var">d</span> ) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinapartrafldfracop1</span> : <span class="id" title="var">isbinopapartr</span> <span class="id" title="var">afldfracapart</span> <span class="id" title="var">op1</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringcomm1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( <span class="id" title="var">ringcomm1</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartlafldfracop1</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinapartlafldfracop2</span> : <span class="id" title="var">isbinopapartl</span> <span class="id" title="var">afldfracapart</span> <span class="id" title="var">op2</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">isbinopapartl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> : <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">isaprop</span> ( <span class="id" title="var">pr1</span> (<span class="id" title="var">afldfracapart</span> ) ( <span class="id" title="var">commringfracop2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) <span class="id" title="var">a</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">commringfracop2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) <span class="id" title="var">a</span> <span class="id" title="var">c</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pr1</span> (<span class="id" title="var">afldfracapart</span> ) <span class="id" title="var">b</span> <span class="id" title="var">c</span>) ) <span class="id" title="keyword">as</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">afldfracapart</span> ) <span class="id" title="var">b</span> <span class="id" title="var">c</span> ).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">setquotuniv3prop</span> <span class="id" title="var">_</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> =&gt; <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> ( <span class="id" title="var">int</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) ) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ab</span> <span class="id" title="var">cd</span> <span class="id" title="var">ef</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a</span> <span class="id" title="var">b</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cd</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">d</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ef</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">e</span> <span class="id" title="var">f</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">afldfracapartrelpre</span> ( <span class="id" title="var">dirprodpair</span> ( ( <span class="id" title="var">a</span> * <span class="id" title="var">c</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">d</span> <span class="id" title="var">d'</span> ) ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> ( <span class="id" title="var">a</span> * <span class="id" title="var">e</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ) ( <span class="id" title="var">tpair</span> <span class="id" title="var">f</span> <span class="id" title="var">f'</span> ) ) ) ) <span class="id" title="keyword">as</span> <span class="id" title="var">u</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapart</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">quotrel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( <span class="id" title="var">setquotuniv2comm</span> ( <span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">a</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">acommring_amult</span> <span class="id" title="var">A</span> ) <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">f</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">a</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">b</span> <span class="id" title="var">f</span>)) ) <span class="id" title="keyword">as</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">f</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> = <span class="id" title="var">a</span> * <span class="id" title="var">c</span> * ( <span class="id" title="var">b</span> * <span class="id" title="var">f</span> ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( <span class="id" title="var">c</span> * <span class="id" title="var">f</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> # <span class="id" title="var">e</span> * <span class="id" title="var">d</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">e</span> * <span class="id" title="var">d</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">a</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id" title="var">op2</span> (@<span class="id" title="var">pr1</span> <span class="id" title="var">setwith2binop</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">X</span> : <span class="id" title="var">setwith2binop</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">iscommringops</span> (<span class="id" title="var">pr1setwith2binop</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op1</span> <span class="id" title="var">X</span>) (@<span class="id" title="var">op2</span> <span class="id" title="var">X</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">acommringtocommring</span> (<span class="id" title="var">pr1aintdom</span> <span class="id" title="var">A</span>))) <span class="id" title="var">b</span> <span class="id" title="var">d</span>)) ) <span class="id" title="keyword">as</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">change</span> ( <span class="id" title="var">e</span> * <span class="id" title="var">d</span> * <span class="id" title="var">a</span> * <span class="id" title="var">b</span> = <span class="id" title="var">a</span> * <span class="id" title="var">e</span> * ( <span class="id" title="var">b</span> * <span class="id" title="var">d</span> ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">permute</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">i'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">isbinapartrafldfracop2</span> : <span class="id" title="var">isbinopapartr</span> (<span class="id" title="var">afldfracapart</span> ) <span class="id" title="var">op2</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ringcomm2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( <span class="id" title="var">ringcomm2</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartlafldfracop2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfrac0</span> : <span class="id" title="var">acommring</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ( <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">afldfracapart</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartlafldfracop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartrafldfracop1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartlafldfracop2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">isbinapartrafldfracop2</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfracmultinvint</span> ( <span class="id" title="var">ab</span> : <span class="id" title="var">A</span> × <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="keyword">is</span> : <span class="id" title="var">afldfracapartrelpre</span> <span class="id" title="var">ab</span> ( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">ringunel1</span> <span class="id" title="var">A</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">unel</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ) ) :<br/>
&nbsp;&nbsp;<span class="id" title="var">A</span> × <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ab</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">a</span> <span class="id" title="var">b</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">b'</span> ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrelpre</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> ( <span class="id" title="var">a</span> # 0 ).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringmult0x</span> <span class="id" title="var">A</span> ) <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringrunax2</span> <span class="id" title="var">A</span> ) <span class="id" title="tactic">in</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfracmultinv</span> ( <span class="id" title="var">a</span> : <span class="id" title="var">afldfrac0</span> ) ( <span class="id" title="keyword">is</span> : <span class="id" title="var">a</span> # 0 ) :<br/>
&nbsp;&nbsp;<span class="id" title="var">multinvpair</span> <span class="id" title="var">afldfrac0</span> <span class="id" title="var">a</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> : <span class="id" title="var">afldfrac0</span>, <span class="id" title="var">isaprop</span> ( <span class="id" title="var">b</span> # 0 -&gt; <span class="id" title="var">multinvpair</span> <span class="id" title="var">afldfrac0</span> <span class="id" title="var">b</span> ) ) <span class="id" title="keyword">as</span> <span class="id" title="var">int</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">impred</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( <span class="id" title="var">isapropmultinvpair</span> <span class="id" title="var">afldfrac0</span> ).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> : <span class="id" title="var">afldfrac0</span>, <span class="id" title="var">b</span> # 0 -&gt; <span class="id" title="var">multinvpair</span> <span class="id" title="var">afldfrac0</span> <span class="id" title="var">b</span> ) <span class="id" title="keyword">as</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> ( <span class="id" title="var">setquotunivprop</span> <span class="id" title="var">_</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">x0</span> =&gt; <span class="id" title="var">hProppair</span> <span class="id" title="var">_</span> ( <span class="id" title="var">int</span> <span class="id" title="var">x0</span> ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bc</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bc</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">b</span> <span class="id" title="var">c</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">afldfracapartrelpre</span> ( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">ringunel1</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">unel</span> (<span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ) ) <span class="id" title="keyword">as</span> <span class="id" title="var">is'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">setquotpr</span> (<span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">A</span> (<span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">afldfracmultinvint</span> ( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) <span class="id" title="var">is'</span> ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> ( <span class="id" title="var">setquotpr</span> ( <span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">afldfracmultinvint</span> ( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) <span class="id" title="var">is'</span> ) ) <span class="id" title="var">b</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">afldfracmultinvint</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) <span class="id" title="var">is'</span> ) ) <span class="id" title="var">c</span> ) ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">commringfracunel2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscompsetquotpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">commringfracunel2int</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">c'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">total2tohexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ( <span class="id" title="var">carrierpair</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">x</span> # 0 ) 1 ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">A</span> ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3! ( @<span class="id" title="var">ringrunax2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringlunax2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> ( <span class="id" title="var">setquotpr</span> ( <span class="id" title="var">eqrelcommringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> ( @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> <span class="id" title="var">b</span> ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">afldfracmultinvint</span> ( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) <span class="id" title="var">is'</span> ) ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">op</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) <span class="id" title="var">c</span> ( <span class="id" title="var">pr2</span> ( <span class="id" title="var">afldfracmultinvint</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">dirprodpair</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> ) <span class="id" title="var">is'</span> ) ) ) ) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id" title="var">commringfracunel2</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">iscompsetquotpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">c</span> <span class="id" title="var">c'</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">total2tohexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> <span class="id" title="keyword">with</span> ( <span class="id" title="var">carrierpair</span> ( <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="var">pr1</span> <span class="id" title="var">A</span> =&gt; <span class="id" title="var">x</span> # 0 ) 1 ( <span class="id" title="var">pr1</span> ( <span class="id" title="var">pr2</span> <span class="id" title="var">A</span> ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3! ( @<span class="id" title="var">ringrunax2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ( @<span class="id" title="var">ringlunax2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> ( @<span class="id" title="var">ringcomm2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">afldfracisafld</span> : <span class="id" title="var">isaafield</span> <span class="id" title="var">afldfrac0</span>.<br/>
<a class="proof" href="#">Show proof.</a><br/><div class="proof">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">change</span> ( <span class="id" title="var">afldfracapartrel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">ringunel2</span> ( <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> (<span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( @<span class="id" title="var">ringunel1</span> ( <span class="id" title="var">commringfrac</span> <span class="id" title="var">A</span> ( <span class="id" title="var">aintdomazerosubmonoid</span> <span class="id" title="var">A</span> ) ) ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">afldfracapartrel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> ( <span class="id" title="var">aux</span> := @<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">ringunel2</span> <span class="id" title="var">A</span> ) ( @<span class="id" title="var">ringunel2</span> <span class="id" title="var">A</span> ) #<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id" title="var">op2</span> <span class="id" title="var">A</span> ( @<span class="id" title="var">ringunel1</span> <span class="id" title="var">A</span> ) ( @<span class="id" title="var">ringunel2</span> <span class="id" title="var">A</span> ) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">pr1</span> <span class="id" title="var">aux</span>). &nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">aux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2! ( @<span class="id" title="var">ringrunax2</span> <span class="id" title="var">A</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">afldfracmultinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">afldfrac</span> := <span class="id" title="var">afldpair</span> <span class="id" title="var">afldfrac0</span> <span class="id" title="var">afldfracisafld</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <span class="id" title="var">aint</span>.<br/>

<br/>
<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">ring_scope</span>.<br/>
</div>

<div class="doc">
END OF FILE 
</div>
<div class="code">
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="https://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>